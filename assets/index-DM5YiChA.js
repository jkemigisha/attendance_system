var Cp=e=>{throw TypeError(e)};var Ff=(e,t,n)=>t.has(e)||Cp("Cannot "+n);var Z=(e,t,n)=>(Ff(e,t,"read from private field"),n?n.call(e):t.get(e)),Ze=(e,t,n)=>t.has(e)?Cp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Oe=(e,t,n,r)=>(Ff(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),dn=(e,t,n)=>(Ff(e,t,"access private method"),n);var Pc=(e,t,n,r)=>({set _(s){Oe(e,t,s,n)},get _(){return Z(e,t,r)}});function x1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ny={exports:{}},_d={},Oy={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),p_=Symbol.for("react.portal"),m_=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),x_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),b_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),C_=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),Sp=Symbol.iterator;function __(e){return e===null||typeof e!="object"?null:(e=Sp&&e[Sp]||e["@@iterator"],typeof e=="function"?e:null)}var Py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ky=Object.assign,Dy={};function Oa(e,t,n){this.props=e,this.context=t,this.refs=Dy,this.updater=n||Py}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function My(){}My.prototype=Oa.prototype;function b1(e,t,n){this.props=e,this.context=t,this.refs=Dy,this.updater=n||Py}var E1=b1.prototype=new My;E1.constructor=b1;ky(E1,Oa.prototype);E1.isPureReactComponent=!0;var _p=Array.isArray,Ly=Object.prototype.hasOwnProperty,C1={current:null},By={key:!0,ref:!0,__self:!0,__source:!0};function Fy(e,t,n){var r,s={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)Ly.call(t,r)&&!By.hasOwnProperty(r)&&(s[r]=t[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var g=Array(h),p=0;p<h;p++)g[p]=arguments[p+2];s.children=g}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:ac,type:e,key:a,ref:c,props:s,_owner:C1.current}}function A_(e,t){return{$$typeof:ac,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S1(e){return typeof e=="object"&&e!==null&&e.$$typeof===ac}function T_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ap=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T_(""+e.key):t.toString(36)}function wu(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case ac:case p_:c=!0}}if(c)return c=e,s=s(c),e=r===""?"."+jf(c,0):r,_p(s)?(n="",e!=null&&(n=e.replace(Ap,"$&/")+"/"),wu(s,t,n,"",function(p){return p})):s!=null&&(S1(s)&&(s=A_(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(Ap,"$&/")+"/")+e)),t.push(s)),1;if(c=0,r=r===""?".":r+":",_p(e))for(var h=0;h<e.length;h++){a=e[h];var g=r+jf(a,h);c+=wu(a,t,n,g,s)}else if(g=__(e),typeof g=="function")for(e=g.call(e),h=0;!(a=e.next()).done;)a=a.value,g=r+jf(a,h++),c+=wu(a,t,n,g,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function kc(e,t,n){if(e==null)return e;var r=[],s=0;return wu(e,r,"","",function(a){return t.call(n,a,s++)}),r}function I_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},yu={transition:null},R_={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:yu,ReactCurrentOwner:C1};function jy(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:kc,forEach:function(e,t,n){kc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kc(e,function(){t++}),t},toArray:function(e){return kc(e,function(t){return t})||[]},only:function(e){if(!S1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=Oa;Ve.Fragment=m_;Ve.Profiler=y_;Ve.PureComponent=b1;Ve.StrictMode=w_;Ve.Suspense=E_;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R_;Ve.act=jy;Ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ky({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=C1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in t)Ly.call(t,g)&&!By.hasOwnProperty(g)&&(r[g]=t[g]===void 0&&h!==void 0?h[g]:t[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){h=Array(g);for(var p=0;p<g;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:ac,type:e.type,key:s,ref:a,props:r,_owner:c}};Ve.createContext=function(e){return e={$$typeof:v_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x_,_context:e},e.Consumer=e};Ve.createElement=Fy;Ve.createFactory=function(e){var t=Fy.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:b_,render:e}};Ve.isValidElement=S1;Ve.lazy=function(e){return{$$typeof:S_,_payload:{_status:-1,_result:e},_init:I_}};Ve.memo=function(e,t){return{$$typeof:C_,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=yu.transition;yu.transition={};try{e()}finally{yu.transition=t}};Ve.unstable_act=jy;Ve.useCallback=function(e,t){return _n.current.useCallback(e,t)};Ve.useContext=function(e){return _n.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return _n.current.useEffect(e,t)};Ve.useId=function(){return _n.current.useId()};Ve.useImperativeHandle=function(e,t,n){return _n.current.useImperativeHandle(e,t,n)};Ve.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return _n.current.useMemo(e,t)};Ve.useReducer=function(e,t,n){return _n.current.useReducer(e,t,n)};Ve.useRef=function(e){return _n.current.useRef(e)};Ve.useState=function(e){return _n.current.useState(e)};Ve.useSyncExternalStore=function(e,t,n){return _n.current.useSyncExternalStore(e,t,n)};Ve.useTransition=function(){return _n.current.useTransition()};Ve.version="18.3.1";Oy.exports=Ve;var O=Oy.exports;const le=v1(O),_1=x1({__proto__:null,default:le},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=O,O_=Symbol.for("react.element"),P_=Symbol.for("react.fragment"),k_=Object.prototype.hasOwnProperty,D_=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M_={key:!0,ref:!0,__self:!0,__source:!0};function Uy(e,t,n){var r,s={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)k_.call(t,r)&&!M_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:O_,type:e,key:a,ref:c,props:s,_owner:D_.current}}_d.Fragment=P_;_d.jsx=Uy;_d.jsxs=Uy;Ny.exports=_d;var _=Ny.exports,Vy={exports:{}},tr={},Wy={exports:{}},zy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,J){var fe=q.length;q.push(J);e:for(;0<fe;){var Re=fe-1>>>1,ge=q[Re];if(0<s(ge,J))q[Re]=J,q[fe]=ge,fe=Re;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],fe=q.pop();if(fe!==J){q[0]=fe;e:for(var Re=0,ge=q.length,Ne=ge>>>1;Re<Ne;){var _e=2*(Re+1)-1,mt=q[_e],pe=_e+1,He=q[pe];if(0>s(mt,fe))pe<ge&&0>s(He,mt)?(q[Re]=He,q[pe]=fe,Re=pe):(q[Re]=mt,q[_e]=fe,Re=_e);else if(pe<ge&&0>s(He,fe))q[Re]=He,q[pe]=fe,Re=pe;else break e}}return J}function s(q,J){var fe=q.sortIndex-J.sortIndex;return fe!==0?fe:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var g=[],p=[],y=1,x=null,E=3,b=!1,R=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var J=n(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=q)r(p),J.sortIndex=J.expirationTime,t(g,J);else break;J=n(p)}}function M(q){if(C=!1,A(q),!R)if(n(g)!==null)R=!0,he(j);else{var J=n(p);J!==null&&ce(M,J.startTime-q)}}function j(q,J){R=!1,C&&(C=!1,I(H),H=-1),b=!0;var fe=E;try{for(A(J),x=n(g);x!==null&&(!(x.expirationTime>J)||q&&!de());){var Re=x.callback;if(typeof Re=="function"){x.callback=null,E=x.priorityLevel;var ge=Re(x.expirationTime<=J);J=e.unstable_now(),typeof ge=="function"?x.callback=ge:x===n(g)&&r(g),A(J)}else r(g);x=n(g)}if(x!==null)var Ne=!0;else{var _e=n(p);_e!==null&&ce(M,_e.startTime-J),Ne=!1}return Ne}finally{x=null,E=fe,b=!1}}var U=!1,F=null,H=-1,z=5,ee=-1;function de(){return!(e.unstable_now()-ee<z)}function Q(){if(F!==null){var q=e.unstable_now();ee=q;var J=!0;try{J=F(!0,q)}finally{J?ue():(U=!1,F=null)}}else U=!1}var ue;if(typeof T=="function")ue=function(){T(Q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,G=ie.port2;ie.port1.onmessage=Q,ue=function(){G.postMessage(null)}}else ue=function(){N(Q,0)};function he(q){F=q,U||(U=!0,ue())}function ce(q,J){H=N(function(){q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){R||b||(R=!0,he(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(q){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var fe=E;E=J;try{return q()}finally{E=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var fe=E;E=q;try{return J()}finally{E=fe}},e.unstable_scheduleCallback=function(q,J,fe){var Re=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,q){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=fe+ge,q={id:y++,callback:J,priorityLevel:q,startTime:fe,expirationTime:ge,sortIndex:-1},fe>Re?(q.sortIndex=fe,t(p,q),n(g)===null&&q===n(p)&&(C?(I(H),H=-1):C=!0,ce(M,fe-Re))):(q.sortIndex=ge,t(g,q),R||b||(R=!0,he(j))),q},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(q){var J=E;return function(){var fe=E;E=J;try{return q.apply(this,arguments)}finally{E=fe}}}})(zy);Wy.exports=zy;var L_=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=O,Jn=L_;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hy=new Set,Nl={};function ho(e,t){pa(e,t),pa(e+"Capture",t)}function pa(e,t){for(Nl[e]=t,e=0;e<t.length;e++)Hy.add(t[e])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zh=Object.prototype.hasOwnProperty,F_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tp={},Ip={};function j_(e){return zh.call(Ip,e)?!0:zh.call(Tp,e)?!1:F_.test(e)?Ip[e]=!0:(Tp[e]=!0,!1)}function U_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V_(e,t,n,r){if(t===null||typeof t>"u"||U_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,n,r,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ln[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ln[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ln[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ln[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ln[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ln[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ln[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ln[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ln[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var A1=/[\-:]([a-z])/g;function T1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A1,T1);ln[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A1,T1);ln[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A1,T1);ln[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ln[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});ln.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ln[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function I1(e,t,n,r){var s=ln.hasOwnProperty(t)?ln[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V_(t,n,s,r)&&(n=null),r||s===null?j_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Li=B_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dc=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),Hh=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Gh=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Xy=Symbol.for("react.offscreen"),Rp=Symbol.iterator;function Za(e){return e===null||typeof e!="object"?null:(e=Rp&&e[Rp]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,Uf;function ul(e){if(Uf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uf=t&&t[1]||""}return`
`+Uf+e}var Vf=!1;function Wf(e,t){if(!e||Vf)return"";Vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),c=s.length-1,h=a.length-1;1<=c&&0<=h&&s[c]!==a[h];)h--;for(;1<=c&&0<=h;c--,h--)if(s[c]!==a[h]){if(c!==1||h!==1)do if(c--,h--,0>h||s[c]!==a[h]){var g=`
`+s[c].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=c&&0<=h);break}}}finally{Vf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ul(e):""}function W_(e){switch(e.tag){case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return e=Wf(e.type,!1),e;case 11:return e=Wf(e.type.render,!1),e;case 1:return e=Wf(e.type,!0),e;default:return""}}function Xh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fo:return"Fragment";case Bo:return"Portal";case Hh:return"Profiler";case R1:return"StrictMode";case $h:return"Suspense";case Gh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gy:return(e.displayName||"Context")+".Consumer";case $y:return(e._context.displayName||"Context")+".Provider";case N1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O1:return t=e.displayName||null,t!==null?t:Xh(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return Xh(e(t))}catch{}}return null}function z_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(t);case 8:return t===R1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H_(e){var t=Yy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mc(e){e._valueTracker||(e._valueTracker=H_(e))}function Ky(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yh(e,t){var n=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Np(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qy(e,t){t=t.checked,t!=null&&I1(e,"checked",t,!1)}function Kh(e,t){qy(e,t);var n=ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qh(e,t.type,n):t.hasOwnProperty("defaultValue")&&qh(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Op(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qh(e,t,n){(t!=="number"||Mu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var dl=Array.isArray;function qo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ys(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(dl(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ys(n)}}function Qy(e,t){var n=ys(t.value),r=ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lc,Jy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lc=Lc||document.createElement("div"),Lc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$_=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(e){$_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ml[t]=ml[e]})});function ex(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ml.hasOwnProperty(e)&&ml[e]?(""+t).trim():t+"px"}function tx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ex(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var G_=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jh(e,t){if(t){if(G_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function e0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=null;function P1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var n0=null,Qo=null,Zo=null;function Dp(e){if(e=uc(e)){if(typeof n0!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Nd(t),n0(e.stateNode,e.type,t))}}function nx(e){Qo?Zo?Zo.push(e):Zo=[e]:Qo=e}function rx(){if(Qo){var e=Qo,t=Zo;if(Zo=Qo=null,Dp(e),t)for(e=0;e<t.length;e++)Dp(t[e])}}function ix(e,t){return e(t)}function sx(){}var zf=!1;function ox(e,t,n){if(zf)return e(t,n);zf=!0;try{return ix(e,t,n)}finally{zf=!1,(Qo!==null||Zo!==null)&&(sx(),rx())}}function Pl(e,t){var n=e.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var r0=!1;if(Ni)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){r0=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{r0=!1}function X_(e,t,n,r,s,a,c,h,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var wl=!1,Lu=null,Bu=!1,i0=null,Y_={onError:function(e){wl=!0,Lu=e}};function K_(e,t,n,r,s,a,c,h,g){wl=!1,Lu=null,X_.apply(Y_,arguments)}function q_(e,t,n,r,s,a,c,h,g){if(K_.apply(this,arguments),wl){if(wl){var p=Lu;wl=!1,Lu=null}else throw Error(re(198));Bu||(Bu=!0,i0=p)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ax(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mp(e){if(go(e)!==e)throw Error(re(188))}function Q_(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Mp(s),e;if(a===r)return Mp(s),t;a=a.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=a;else{for(var c=!1,h=s.child;h;){if(h===n){c=!0,n=s,r=a;break}if(h===r){c=!0,r=s,n=a;break}h=h.sibling}if(!c){for(h=a.child;h;){if(h===n){c=!0,n=a,r=s;break}if(h===r){c=!0,r=a,n=s;break}h=h.sibling}if(!c)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function lx(e){return e=Q_(e),e!==null?cx(e):null}function cx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cx(e);if(t!==null)return t;e=e.sibling}return null}var ux=Jn.unstable_scheduleCallback,Lp=Jn.unstable_cancelCallback,Z_=Jn.unstable_shouldYield,J_=Jn.unstable_requestPaint,Lt=Jn.unstable_now,eA=Jn.unstable_getCurrentPriorityLevel,k1=Jn.unstable_ImmediatePriority,dx=Jn.unstable_UserBlockingPriority,Fu=Jn.unstable_NormalPriority,tA=Jn.unstable_LowPriority,fx=Jn.unstable_IdlePriority,Ad=null,ui=null;function nA(e){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(Ad,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:sA,rA=Math.log,iA=Math.LN2;function sA(e){return e>>>=0,e===0?32:31-(rA(e)/iA|0)|0}var Bc=64,Fc=4194304;function fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~s;h!==0?r=fl(h):(a&=c,a!==0&&(r=fl(a)))}else c=n&~s,c!==0?r=fl(c):a!==0&&(r=fl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vr(t),s=1<<n,r|=e[n],t&=~s;return r}function oA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Vr(a),h=1<<c,g=s[c];g===-1?(!(h&n)||h&r)&&(s[c]=oA(h,t)):g<=t&&(e.expiredLanes|=h),a&=~h}}function s0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hx(){var e=Bc;return Bc<<=1,!(Bc&4194240)&&(Bc=64),e}function Hf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=n}function lA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Vr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function D1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var nt=0;function gx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var px,M1,mx,wx,yx,o0=!1,jc=[],us=null,ds=null,fs=null,kl=new Map,Dl=new Map,Zi=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bp(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function el(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=uc(t),t!==null&&M1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uA(e,t,n,r,s){switch(t){case"focusin":return us=el(us,e,t,n,r,s),!0;case"dragenter":return ds=el(ds,e,t,n,r,s),!0;case"mouseover":return fs=el(fs,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return kl.set(a,el(kl.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Dl.set(a,el(Dl.get(a)||null,e,t,n,r,s)),!0}return!1}function xx(e){var t=$s(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=ax(n),t!==null){e.blockedOn=t,yx(e.priority,function(){mx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=a0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);t0=r,n.target.dispatchEvent(r),t0=null}else return t=uc(n),t!==null&&M1(t),e.blockedOn=n,!1;t.shift()}return!0}function Fp(e,t,n){xu(e)&&n.delete(t)}function dA(){o0=!1,us!==null&&xu(us)&&(us=null),ds!==null&&xu(ds)&&(ds=null),fs!==null&&xu(fs)&&(fs=null),kl.forEach(Fp),Dl.forEach(Fp)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,o0||(o0=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,dA)))}function Ml(e){function t(s){return tl(s,e)}if(0<jc.length){tl(jc[0],e);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(us!==null&&tl(us,e),ds!==null&&tl(ds,e),fs!==null&&tl(fs,e),kl.forEach(t),Dl.forEach(t),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)xx(n),n.blockedOn===null&&Zi.shift()}var Jo=Li.ReactCurrentBatchConfig,Uu=!0;function fA(e,t,n,r){var s=nt,a=Jo.transition;Jo.transition=null;try{nt=1,L1(e,t,n,r)}finally{nt=s,Jo.transition=a}}function hA(e,t,n,r){var s=nt,a=Jo.transition;Jo.transition=null;try{nt=4,L1(e,t,n,r)}finally{nt=s,Jo.transition=a}}function L1(e,t,n,r){if(Uu){var s=a0(e,t,n,r);if(s===null)eh(e,t,r,Vu,n),Bp(e,r);else if(uA(s,e,t,n,r))r.stopPropagation();else if(Bp(e,r),t&4&&-1<cA.indexOf(e)){for(;s!==null;){var a=uc(s);if(a!==null&&px(a),a=a0(e,t,n,r),a===null&&eh(e,t,r,Vu,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else eh(e,t,r,null,n)}}var Vu=null;function a0(e,t,n,r){if(Vu=null,e=P1(r),e=$s(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ax(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vu=e,null}function vx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eA()){case k1:return 1;case dx:return 4;case Fu:case tA:return 16;case fx:return 536870912;default:return 16}default:return 16}}var os=null,B1=null,vu=null;function bx(){if(vu)return vu;var e,t=B1,n=t.length,r,s="value"in os?os.value:os.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===s[a-r];r++);return vu=s.slice(e,1<r?1-r:void 0)}function bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function jp(){return!1}function nr(e){function t(n,r,s,a,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uc:jp,this.isPropagationStopped=jp,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F1=nr(Pa),cc=Tt({},Pa,{view:0,detail:0}),gA=nr(cc),$f,Gf,nl,Td=Tt({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?($f=e.screenX-nl.screenX,Gf=e.screenY-nl.screenY):Gf=$f=0,nl=e),$f)},movementY:function(e){return"movementY"in e?e.movementY:Gf}}),Up=nr(Td),pA=Tt({},Td,{dataTransfer:0}),mA=nr(pA),wA=Tt({},cc,{relatedTarget:0}),Xf=nr(wA),yA=Tt({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=nr(yA),vA=Tt({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bA=nr(vA),EA=Tt({},Pa,{data:0}),Vp=nr(EA),CA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_A[e])?!!t[e]:!1}function j1(){return AA}var TA=Tt({},cc,{key:function(e){if(e.key){var t=CA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j1,charCode:function(e){return e.type==="keypress"?bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IA=nr(TA),RA=Tt({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wp=nr(RA),NA=Tt({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j1}),OA=nr(NA),PA=Tt({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),kA=nr(PA),DA=Tt({},Td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MA=nr(DA),LA=[9,13,27,32],U1=Ni&&"CompositionEvent"in window,yl=null;Ni&&"documentMode"in document&&(yl=document.documentMode);var BA=Ni&&"TextEvent"in window&&!yl,Ex=Ni&&(!U1||yl&&8<yl&&11>=yl),zp=" ",Hp=!1;function Cx(e,t){switch(e){case"keyup":return LA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function FA(e,t){switch(e){case"compositionend":return Sx(t);case"keypress":return t.which!==32?null:(Hp=!0,zp);case"textInput":return e=t.data,e===zp&&Hp?null:e;default:return null}}function jA(e,t){if(jo)return e==="compositionend"||!U1&&Cx(e,t)?(e=bx(),vu=B1=os=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ex&&t.locale!=="ko"?null:t.data;default:return null}}var UA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UA[e.type]:t==="textarea"}function _x(e,t,n,r){nx(r),t=Wu(t,"onChange"),0<t.length&&(n=new F1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xl=null,Ll=null;function VA(e){Lx(e,0)}function Id(e){var t=Wo(e);if(Ky(t))return e}function WA(e,t){if(e==="change")return t}var Ax=!1;if(Ni){var Yf;if(Ni){var Kf="oninput"in document;if(!Kf){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Kf=typeof Gp.oninput=="function"}Yf=Kf}else Yf=!1;Ax=Yf&&(!document.documentMode||9<document.documentMode)}function Xp(){xl&&(xl.detachEvent("onpropertychange",Tx),Ll=xl=null)}function Tx(e){if(e.propertyName==="value"&&Id(Ll)){var t=[];_x(t,Ll,e,P1(e)),ox(VA,t)}}function zA(e,t,n){e==="focusin"?(Xp(),xl=t,Ll=n,xl.attachEvent("onpropertychange",Tx)):e==="focusout"&&Xp()}function HA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Id(Ll)}function $A(e,t){if(e==="click")return Id(t)}function GA(e,t){if(e==="input"||e==="change")return Id(t)}function XA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zr=typeof Object.is=="function"?Object.is:XA;function Bl(e,t){if(zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zh.call(t,s)||!zr(e[s],t[s]))return!1}return!0}function Yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kp(e,t){var n=Yp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yp(n)}}function Ix(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ix(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rx(){for(var e=window,t=Mu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mu(e.document)}return t}function V1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YA(e){var t=Rx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ix(n.ownerDocument.documentElement,n)){if(r!==null&&V1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Kp(n,a);var c=Kp(n,r);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KA=Ni&&"documentMode"in document&&11>=document.documentMode,Uo=null,l0=null,vl=null,c0=!1;function qp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c0||Uo==null||Uo!==Mu(r)||(r=Uo,"selectionStart"in r&&V1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Bl(vl,r)||(vl=r,r=Wu(l0,"onSelect"),0<r.length&&(t=new F1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uo)))}function Vc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vo={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},qf={},Nx={};Ni&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Rd(e){if(qf[e])return qf[e];if(!Vo[e])return e;var t=Vo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nx)return qf[e]=t[n];return e}var Ox=Rd("animationend"),Px=Rd("animationiteration"),kx=Rd("animationstart"),Dx=Rd("transitionend"),Mx=new Map,Qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(e,t){Mx.set(e,t),ho(t,[e])}for(var Qf=0;Qf<Qp.length;Qf++){var Zf=Qp[Qf],qA=Zf.toLowerCase(),QA=Zf[0].toUpperCase()+Zf.slice(1);Es(qA,"on"+QA)}Es(Ox,"onAnimationEnd");Es(Px,"onAnimationIteration");Es(kx,"onAnimationStart");Es("dblclick","onDoubleClick");Es("focusin","onFocus");Es("focusout","onBlur");Es(Dx,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Zp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,q_(r,t,void 0,e),e.currentTarget=null}function Lx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],g=h.instance,p=h.currentTarget;if(h=h.listener,g!==a&&s.isPropagationStopped())break e;Zp(s,h,p),a=g}else for(c=0;c<r.length;c++){if(h=r[c],g=h.instance,p=h.currentTarget,h=h.listener,g!==a&&s.isPropagationStopped())break e;Zp(s,h,p),a=g}}}if(Bu)throw e=i0,Bu=!1,i0=null,e}function ft(e,t){var n=t[g0];n===void 0&&(n=t[g0]=new Set);var r=e+"__bubble";n.has(r)||(Bx(t,e,2,!1),n.add(r))}function Jf(e,t,n){var r=0;t&&(r|=4),Bx(n,e,r,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Fl(e){if(!e[Wc]){e[Wc]=!0,Hy.forEach(function(n){n!=="selectionchange"&&(ZA.has(n)||Jf(n,!1,e),Jf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Jf("selectionchange",!1,t))}}function Bx(e,t,n,r){switch(vx(t)){case 1:var s=fA;break;case 4:s=hA;break;default:s=L1}n=s.bind(null,t,n,e),s=void 0,!r0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function eh(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;c=c.return}for(;h!==null;){if(c=$s(h),c===null)return;if(g=c.tag,g===5||g===6){r=a=c;continue e}h=h.parentNode}}r=r.return}ox(function(){var p=a,y=P1(n),x=[];e:{var E=Mx.get(e);if(E!==void 0){var b=F1,R=e;switch(e){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":b=IA;break;case"focusin":R="focus",b=Xf;break;case"focusout":R="blur",b=Xf;break;case"beforeblur":case"afterblur":b=Xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=mA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=OA;break;case Ox:case Px:case kx:b=xA;break;case Dx:b=kA;break;case"scroll":b=gA;break;case"wheel":b=MA;break;case"copy":case"cut":case"paste":b=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Wp}var C=(t&4)!==0,N=!C&&e==="scroll",I=C?E!==null?E+"Capture":null:E;C=[];for(var T=p,A;T!==null;){A=T;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,I!==null&&(M=Pl(T,I),M!=null&&C.push(jl(T,M,A)))),N)break;T=T.return}0<C.length&&(E=new b(E,R,null,n,y),x.push({event:E,listeners:C}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",E&&n!==t0&&(R=n.relatedTarget||n.fromElement)&&($s(R)||R[Oi]))break e;if((b||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,b?(R=n.relatedTarget||n.toElement,b=p,R=R?$s(R):null,R!==null&&(N=go(R),R!==N||R.tag!==5&&R.tag!==6)&&(R=null)):(b=null,R=p),b!==R)){if(C=Up,M="onMouseLeave",I="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(C=Wp,M="onPointerLeave",I="onPointerEnter",T="pointer"),N=b==null?E:Wo(b),A=R==null?E:Wo(R),E=new C(M,T+"leave",b,n,y),E.target=N,E.relatedTarget=A,M=null,$s(y)===p&&(C=new C(I,T+"enter",R,n,y),C.target=A,C.relatedTarget=N,M=C),N=M,b&&R)t:{for(C=b,I=R,T=0,A=C;A;A=_o(A))T++;for(A=0,M=I;M;M=_o(M))A++;for(;0<T-A;)C=_o(C),T--;for(;0<A-T;)I=_o(I),A--;for(;T--;){if(C===I||I!==null&&C===I.alternate)break t;C=_o(C),I=_o(I)}C=null}else C=null;b!==null&&Jp(x,E,b,C,!1),R!==null&&N!==null&&Jp(x,N,R,C,!0)}}e:{if(E=p?Wo(p):window,b=E.nodeName&&E.nodeName.toLowerCase(),b==="select"||b==="input"&&E.type==="file")var j=WA;else if($p(E))if(Ax)j=GA;else{j=HA;var U=zA}else(b=E.nodeName)&&b.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(j=$A);if(j&&(j=j(e,p))){_x(x,j,n,y);break e}U&&U(e,E,p),e==="focusout"&&(U=E._wrapperState)&&U.controlled&&E.type==="number"&&qh(E,"number",E.value)}switch(U=p?Wo(p):window,e){case"focusin":($p(U)||U.contentEditable==="true")&&(Uo=U,l0=p,vl=null);break;case"focusout":vl=l0=Uo=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,qp(x,n,y);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":qp(x,n,y)}var F;if(U1)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else jo?Cx(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(Ex&&n.locale!=="ko"&&(jo||H!=="onCompositionStart"?H==="onCompositionEnd"&&jo&&(F=bx()):(os=y,B1="value"in os?os.value:os.textContent,jo=!0)),U=Wu(p,H),0<U.length&&(H=new Vp(H,e,null,n,y),x.push({event:H,listeners:U}),F?H.data=F:(F=Sx(n),F!==null&&(H.data=F)))),(F=BA?FA(e,n):jA(e,n))&&(p=Wu(p,"onBeforeInput"),0<p.length&&(y=new Vp("onBeforeInput","beforeinput",null,n,y),x.push({event:y,listeners:p}),y.data=F))}Lx(x,t)})}function jl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Pl(e,n),a!=null&&r.unshift(jl(e,a,s)),a=Pl(e,t),a!=null&&r.push(jl(e,a,s))),e=e.return}return r}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jp(e,t,n,r,s){for(var a=t._reactName,c=[];n!==null&&n!==r;){var h=n,g=h.alternate,p=h.stateNode;if(g!==null&&g===r)break;h.tag===5&&p!==null&&(h=p,s?(g=Pl(n,a),g!=null&&c.unshift(jl(n,g,h))):s||(g=Pl(n,a),g!=null&&c.push(jl(n,g,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var JA=/\r\n?/g,e3=/\u0000|\uFFFD/g;function em(e){return(typeof e=="string"?e:""+e).replace(JA,`
`).replace(e3,"")}function zc(e,t,n){if(t=em(t),em(e)!==t&&n)throw Error(re(425))}function zu(){}var u0=null,d0=null;function f0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,t3=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,n3=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(r3)}:h0;function r3(e){setTimeout(function(){throw e})}function th(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ml(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ml(t)}function hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),li="__reactFiber$"+ka,Ul="__reactProps$"+ka,Oi="__reactContainer$"+ka,g0="__reactEvents$"+ka,i3="__reactListeners$"+ka,s3="__reactHandles$"+ka;function $s(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oi]||n[li]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nm(e);e!==null;){if(n=e[li])return n;e=nm(e)}return t}e=n,n=e.parentNode}return null}function uc(e){return e=e[li]||e[Oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Nd(e){return e[Ul]||null}var p0=[],zo=-1;function Cs(e){return{current:e}}function gt(e){0>zo||(e.current=p0[zo],p0[zo]=null,zo--)}function lt(e,t){zo++,p0[zo]=e.current,e.current=t}var xs={},wn=Cs(xs),Fn=Cs(!1),io=xs;function ma(e,t){var n=e.type.contextTypes;if(!n)return xs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jn(e){return e=e.childContextTypes,e!=null}function Hu(){gt(Fn),gt(wn)}function rm(e,t,n){if(wn.current!==xs)throw Error(re(168));lt(wn,t),lt(Fn,n)}function Fx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(re(108,z_(e)||"Unknown",s));return Tt({},n,r)}function $u(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,io=wn.current,lt(wn,e),lt(Fn,Fn.current),!0}function im(e,t,n){var r=e.stateNode;if(!r)throw Error(re(169));n?(e=Fx(e,t,io),r.__reactInternalMemoizedMergedChildContext=e,gt(Fn),gt(wn),lt(wn,e)):gt(Fn),lt(Fn,n)}var Si=null,Od=!1,nh=!1;function jx(e){Si===null?Si=[e]:Si.push(e)}function o3(e){Od=!0,jx(e)}function Ss(){if(!nh&&Si!==null){nh=!0;var e=0,t=nt;try{var n=Si;for(nt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Si=null,Od=!1}catch(s){throw Si!==null&&(Si=Si.slice(e+1)),ux(k1,Ss),s}finally{nt=t,nh=!1}}return null}var Ho=[],$o=0,Gu=null,Xu=0,ur=[],dr=0,so=null,Ai=1,Ti="";function Fs(e,t){Ho[$o++]=Xu,Ho[$o++]=Gu,Gu=e,Xu=t}function Ux(e,t,n){ur[dr++]=Ai,ur[dr++]=Ti,ur[dr++]=so,so=e;var r=Ai;e=Ti;var s=32-Vr(r)-1;r&=~(1<<s),n+=1;var a=32-Vr(t)+s;if(30<a){var c=s-s%5;a=(r&(1<<c)-1).toString(32),r>>=c,s-=c,Ai=1<<32-Vr(t)+s|n<<s|r,Ti=a+e}else Ai=1<<a|n<<s|r,Ti=e}function W1(e){e.return!==null&&(Fs(e,1),Ux(e,1,0))}function z1(e){for(;e===Gu;)Gu=Ho[--$o],Ho[$o]=null,Xu=Ho[--$o],Ho[$o]=null;for(;e===so;)so=ur[--dr],ur[dr]=null,Ti=ur[--dr],ur[dr]=null,Ai=ur[--dr],ur[dr]=null}var Qn=null,qn=null,bt=!1,Ur=null;function Vx(e,t){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,qn=hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=so!==null?{id:Ai,overflow:Ti}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qn=e,qn=null,!0):!1;default:return!1}}function m0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w0(e){if(bt){var t=qn;if(t){var n=t;if(!sm(e,t)){if(m0(e))throw Error(re(418));t=hs(n.nextSibling);var r=Qn;t&&sm(e,t)?Vx(r,n):(e.flags=e.flags&-4097|2,bt=!1,Qn=e)}}else{if(m0(e))throw Error(re(418));e.flags=e.flags&-4097|2,bt=!1,Qn=e}}}function om(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function Hc(e){if(e!==Qn)return!1;if(!bt)return om(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!f0(e.type,e.memoizedProps)),t&&(t=qn)){if(m0(e))throw Wx(),Error(re(418));for(;t;)Vx(e,t),t=hs(t.nextSibling)}if(om(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qn=hs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qn=null}}else qn=Qn?hs(e.stateNode.nextSibling):null;return!0}function Wx(){for(var e=qn;e;)e=hs(e.nextSibling)}function wa(){qn=Qn=null,bt=!1}function H1(e){Ur===null?Ur=[e]:Ur.push(e)}var a3=Li.ReactCurrentBatchConfig;function rl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var h=s.refs;c===null?delete h[a]:h[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function $c(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function am(e){var t=e._init;return t(e._payload)}function zx(e){function t(I,T){if(e){var A=I.deletions;A===null?(I.deletions=[T],I.flags|=16):A.push(T)}}function n(I,T){if(!e)return null;for(;T!==null;)t(I,T),T=T.sibling;return null}function r(I,T){for(I=new Map;T!==null;)T.key!==null?I.set(T.key,T):I.set(T.index,T),T=T.sibling;return I}function s(I,T){return I=ws(I,T),I.index=0,I.sibling=null,I}function a(I,T,A){return I.index=A,e?(A=I.alternate,A!==null?(A=A.index,A<T?(I.flags|=2,T):A):(I.flags|=2,T)):(I.flags|=1048576,T)}function c(I){return e&&I.alternate===null&&(I.flags|=2),I}function h(I,T,A,M){return T===null||T.tag!==6?(T=ch(A,I.mode,M),T.return=I,T):(T=s(T,A),T.return=I,T)}function g(I,T,A,M){var j=A.type;return j===Fo?y(I,T,A.props.children,M,A.key):T!==null&&(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qi&&am(j)===T.type)?(M=s(T,A.props),M.ref=rl(I,T,A),M.return=I,M):(M=Iu(A.type,A.key,A.props,null,I.mode,M),M.ref=rl(I,T,A),M.return=I,M)}function p(I,T,A,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=uh(A,I.mode,M),T.return=I,T):(T=s(T,A.children||[]),T.return=I,T)}function y(I,T,A,M,j){return T===null||T.tag!==7?(T=no(A,I.mode,M,j),T.return=I,T):(T=s(T,A),T.return=I,T)}function x(I,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=ch(""+T,I.mode,A),T.return=I,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Dc:return A=Iu(T.type,T.key,T.props,null,I.mode,A),A.ref=rl(I,null,T),A.return=I,A;case Bo:return T=uh(T,I.mode,A),T.return=I,T;case qi:var M=T._init;return x(I,M(T._payload),A)}if(dl(T)||Za(T))return T=no(T,I.mode,A,null),T.return=I,T;$c(I,T)}return null}function E(I,T,A,M){var j=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return j!==null?null:h(I,T,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Dc:return A.key===j?g(I,T,A,M):null;case Bo:return A.key===j?p(I,T,A,M):null;case qi:return j=A._init,E(I,T,j(A._payload),M)}if(dl(A)||Za(A))return j!==null?null:y(I,T,A,M,null);$c(I,A)}return null}function b(I,T,A,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return I=I.get(A)||null,h(T,I,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Dc:return I=I.get(M.key===null?A:M.key)||null,g(T,I,M,j);case Bo:return I=I.get(M.key===null?A:M.key)||null,p(T,I,M,j);case qi:var U=M._init;return b(I,T,A,U(M._payload),j)}if(dl(M)||Za(M))return I=I.get(A)||null,y(T,I,M,j,null);$c(T,M)}return null}function R(I,T,A,M){for(var j=null,U=null,F=T,H=T=0,z=null;F!==null&&H<A.length;H++){F.index>H?(z=F,F=null):z=F.sibling;var ee=E(I,F,A[H],M);if(ee===null){F===null&&(F=z);break}e&&F&&ee.alternate===null&&t(I,F),T=a(ee,T,H),U===null?j=ee:U.sibling=ee,U=ee,F=z}if(H===A.length)return n(I,F),bt&&Fs(I,H),j;if(F===null){for(;H<A.length;H++)F=x(I,A[H],M),F!==null&&(T=a(F,T,H),U===null?j=F:U.sibling=F,U=F);return bt&&Fs(I,H),j}for(F=r(I,F);H<A.length;H++)z=b(F,I,H,A[H],M),z!==null&&(e&&z.alternate!==null&&F.delete(z.key===null?H:z.key),T=a(z,T,H),U===null?j=z:U.sibling=z,U=z);return e&&F.forEach(function(de){return t(I,de)}),bt&&Fs(I,H),j}function C(I,T,A,M){var j=Za(A);if(typeof j!="function")throw Error(re(150));if(A=j.call(A),A==null)throw Error(re(151));for(var U=j=null,F=T,H=T=0,z=null,ee=A.next();F!==null&&!ee.done;H++,ee=A.next()){F.index>H?(z=F,F=null):z=F.sibling;var de=E(I,F,ee.value,M);if(de===null){F===null&&(F=z);break}e&&F&&de.alternate===null&&t(I,F),T=a(de,T,H),U===null?j=de:U.sibling=de,U=de,F=z}if(ee.done)return n(I,F),bt&&Fs(I,H),j;if(F===null){for(;!ee.done;H++,ee=A.next())ee=x(I,ee.value,M),ee!==null&&(T=a(ee,T,H),U===null?j=ee:U.sibling=ee,U=ee);return bt&&Fs(I,H),j}for(F=r(I,F);!ee.done;H++,ee=A.next())ee=b(F,I,H,ee.value,M),ee!==null&&(e&&ee.alternate!==null&&F.delete(ee.key===null?H:ee.key),T=a(ee,T,H),U===null?j=ee:U.sibling=ee,U=ee);return e&&F.forEach(function(Q){return t(I,Q)}),bt&&Fs(I,H),j}function N(I,T,A,M){if(typeof A=="object"&&A!==null&&A.type===Fo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Dc:e:{for(var j=A.key,U=T;U!==null;){if(U.key===j){if(j=A.type,j===Fo){if(U.tag===7){n(I,U.sibling),T=s(U,A.props.children),T.return=I,I=T;break e}}else if(U.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qi&&am(j)===U.type){n(I,U.sibling),T=s(U,A.props),T.ref=rl(I,U,A),T.return=I,I=T;break e}n(I,U);break}else t(I,U);U=U.sibling}A.type===Fo?(T=no(A.props.children,I.mode,M,A.key),T.return=I,I=T):(M=Iu(A.type,A.key,A.props,null,I.mode,M),M.ref=rl(I,T,A),M.return=I,I=M)}return c(I);case Bo:e:{for(U=A.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(I,T.sibling),T=s(T,A.children||[]),T.return=I,I=T;break e}else{n(I,T);break}else t(I,T);T=T.sibling}T=uh(A,I.mode,M),T.return=I,I=T}return c(I);case qi:return U=A._init,N(I,T,U(A._payload),M)}if(dl(A))return R(I,T,A,M);if(Za(A))return C(I,T,A,M);$c(I,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(n(I,T.sibling),T=s(T,A),T.return=I,I=T):(n(I,T),T=ch(A,I.mode,M),T.return=I,I=T),c(I)):n(I,T)}return N}var ya=zx(!0),Hx=zx(!1),Yu=Cs(null),Ku=null,Go=null,$1=null;function G1(){$1=Go=Ku=null}function X1(e){var t=Yu.current;gt(Yu),e._currentValue=t}function y0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ea(e,t){Ku=e,$1=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if($1!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(Ku===null)throw Error(re(308));Go=e,Ku.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Gs=null;function Y1(e){Gs===null?Gs=[e]:Gs.push(e)}function $x(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Y1(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qi=!1;function K1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Pi(e,n)}return s=r.interleaved,s===null?(t.next=t,Y1(r)):(t.next=s.next,s.next=t),r.interleaved=t,Pi(e,n)}function Eu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,D1(e,n)}}function lm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qu(e,t,n,r){var s=e.updateQueue;Qi=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var g=h,p=g.next;g.next=null,c===null?a=p:c.next=p,c=g;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==c&&(h===null?y.firstBaseUpdate=p:h.next=p,y.lastBaseUpdate=g))}if(a!==null){var x=s.baseState;c=0,y=p=g=null,h=a;do{var E=h.lane,b=h.eventTime;if((r&E)===E){y!==null&&(y=y.next={eventTime:b,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var R=e,C=h;switch(E=t,b=n,C.tag){case 1:if(R=C.payload,typeof R=="function"){x=R.call(b,x,E);break e}x=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=C.payload,E=typeof R=="function"?R.call(b,x,E):R,E==null)break e;x=Tt({},x,E);break e;case 2:Qi=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,E=s.effects,E===null?s.effects=[h]:E.push(h))}else b={eventTime:b,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(p=y=b,g=x):y=y.next=b,c|=E;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;E=h,h=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(y===null&&(g=x),s.baseState=g,s.firstBaseUpdate=p,s.lastBaseUpdate=y,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ao|=c,e.lanes=c,e.memoizedState=x}}function cm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var dc={},di=Cs(dc),Vl=Cs(dc),Wl=Cs(dc);function Xs(e){if(e===dc)throw Error(re(174));return e}function q1(e,t){switch(lt(Wl,t),lt(Vl,e),lt(di,dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zh(t,e)}gt(di),lt(di,t)}function xa(){gt(di),gt(Vl),gt(Wl)}function Xx(e){Xs(Wl.current);var t=Xs(di.current),n=Zh(t,e.type);t!==n&&(lt(Vl,e),lt(di,n))}function Q1(e){Vl.current===e&&(gt(di),gt(Vl))}var _t=Cs(0);function Qu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rh=[];function Z1(){for(var e=0;e<rh.length;e++)rh[e]._workInProgressVersionPrimary=null;rh.length=0}var Cu=Li.ReactCurrentDispatcher,ih=Li.ReactCurrentBatchConfig,oo=0,At=null,Ht=null,Qt=null,Zu=!1,bl=!1,zl=0,l3=0;function fn(){throw Error(re(321))}function J1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zr(e[n],t[n]))return!1;return!0}function eg(e,t,n,r,s,a){if(oo=a,At=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cu.current=e===null||e.memoizedState===null?f3:h3,e=n(r,s),bl){a=0;do{if(bl=!1,zl=0,25<=a)throw Error(re(301));a+=1,Qt=Ht=null,t.updateQueue=null,Cu.current=g3,e=n(r,s)}while(bl)}if(Cu.current=Ju,t=Ht!==null&&Ht.next!==null,oo=0,Qt=Ht=At=null,Zu=!1,t)throw Error(re(300));return e}function tg(){var e=zl!==0;return zl=0,e}function ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?At.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function br(){if(Ht===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Qt===null?At.memoizedState:Qt.next;if(t!==null)Qt=t,Ht=e;else{if(e===null)throw Error(re(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Qt===null?At.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Hl(e,t){return typeof t=="function"?t(e):t}function sh(e){var t=br(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=Ht,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=c=null,g=null,p=a;do{var y=p.lane;if((oo&y)===y)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var x={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(h=g=x,c=r):g=g.next=x,At.lanes|=y,ao|=y}p=p.next}while(p!==null&&p!==a);g===null?c=r:g.next=h,zr(r,t.memoizedState)||(Bn=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,At.lanes|=a,ao|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oh(e){var t=br(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);zr(a,t.memoizedState)||(Bn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Yx(){}function Kx(e,t){var n=At,r=br(),s=t(),a=!zr(r.memoizedState,s);if(a&&(r.memoizedState=s,Bn=!0),r=r.queue,ng(Zx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,$l(9,Qx.bind(null,n,r,s,t),void 0,null),Zt===null)throw Error(re(349));oo&30||qx(n,t,s)}return s}function qx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qx(e,t,n,r){t.value=n,t.getSnapshot=r,Jx(t)&&ev(e)}function Zx(e,t,n){return n(function(){Jx(t)&&ev(e)})}function Jx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zr(e,n)}catch{return!0}}function ev(e){var t=Pi(e,1);t!==null&&Wr(t,e,1,-1)}function um(e){var t=ii();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:e},t.queue=e,e=e.dispatch=d3.bind(null,At,e),[t.memoizedState,e]}function $l(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tv(){return br().memoizedState}function Su(e,t,n,r){var s=ii();At.flags|=e,s.memoizedState=$l(1|t,n,void 0,r===void 0?null:r)}function Pd(e,t,n,r){var s=br();r=r===void 0?null:r;var a=void 0;if(Ht!==null){var c=Ht.memoizedState;if(a=c.destroy,r!==null&&J1(r,c.deps)){s.memoizedState=$l(t,n,a,r);return}}At.flags|=e,s.memoizedState=$l(1|t,n,a,r)}function dm(e,t){return Su(8390656,8,e,t)}function ng(e,t){return Pd(2048,8,e,t)}function nv(e,t){return Pd(4,2,e,t)}function rv(e,t){return Pd(4,4,e,t)}function iv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sv(e,t,n){return n=n!=null?n.concat([e]):null,Pd(4,4,iv.bind(null,t,e),n)}function rg(){}function ov(e,t){var n=br();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&J1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function av(e,t){var n=br();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&J1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lv(e,t,n){return oo&21?(zr(n,t)||(n=hx(),At.lanes|=n,ao|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function c3(e,t){var n=nt;nt=n!==0&&4>n?n:4,e(!0);var r=ih.transition;ih.transition={};try{e(!1),t()}finally{nt=n,ih.transition=r}}function cv(){return br().memoizedState}function u3(e,t,n){var r=ms(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uv(e))dv(t,n);else if(n=$x(e,t,n,r),n!==null){var s=Cn();Wr(n,e,r,s),fv(n,t,r)}}function d3(e,t,n){var r=ms(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uv(e))dv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,h=a(c,n);if(s.hasEagerState=!0,s.eagerState=h,zr(h,c)){var g=t.interleaved;g===null?(s.next=s,Y1(t)):(s.next=g.next,g.next=s),t.interleaved=s;return}}catch{}finally{}n=$x(e,t,s,r),n!==null&&(s=Cn(),Wr(n,e,r,s),fv(n,t,r))}}function uv(e){var t=e.alternate;return e===At||t!==null&&t===At}function dv(e,t){bl=Zu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,D1(e,n)}}var Ju={readContext:vr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},f3={readContext:vr,useCallback:function(e,t){return ii().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:dm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Su(4194308,4,iv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Su(4194308,4,e,t)},useInsertionEffect:function(e,t){return Su(4,2,e,t)},useMemo:function(e,t){var n=ii();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ii();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u3.bind(null,At,e),[r.memoizedState,e]},useRef:function(e){var t=ii();return e={current:e},t.memoizedState=e},useState:um,useDebugValue:rg,useDeferredValue:function(e){return ii().memoizedState=e},useTransition:function(){var e=um(!1),t=e[0];return e=c3.bind(null,e[1]),ii().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=At,s=ii();if(bt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Zt===null)throw Error(re(349));oo&30||qx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,dm(Zx.bind(null,r,a,e),[e]),r.flags|=2048,$l(9,Qx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ii(),t=Zt.identifierPrefix;if(bt){var n=Ti,r=Ai;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h3={readContext:vr,useCallback:ov,useContext:vr,useEffect:ng,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:av,useReducer:sh,useRef:tv,useState:function(){return sh(Hl)},useDebugValue:rg,useDeferredValue:function(e){var t=br();return lv(t,Ht.memoizedState,e)},useTransition:function(){var e=sh(Hl)[0],t=br().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Kx,useId:cv,unstable_isNewReconciler:!1},g3={readContext:vr,useCallback:ov,useContext:vr,useEffect:ng,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:av,useReducer:oh,useRef:tv,useState:function(){return oh(Hl)},useDebugValue:rg,useDeferredValue:function(e){var t=br();return Ht===null?t.memoizedState=e:lv(t,Ht.memoizedState,e)},useTransition:function(){var e=oh(Hl)[0],t=br().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Kx,useId:cv,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function x0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kd={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cn(),s=ms(e),a=Ri(r,s);a.payload=t,n!=null&&(a.callback=n),t=gs(e,a,s),t!==null&&(Wr(t,e,s,r),Eu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cn(),s=ms(e),a=Ri(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=gs(e,a,s),t!==null&&(Wr(t,e,s,r),Eu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cn(),r=ms(e),s=Ri(n,r);s.tag=2,t!=null&&(s.callback=t),t=gs(e,s,r),t!==null&&(Wr(t,e,r,n),Eu(t,e,r))}};function fm(e,t,n,r,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,r)||!Bl(s,a):!0}function hv(e,t,n){var r=!1,s=xs,a=t.contextType;return typeof a=="object"&&a!==null?a=vr(a):(s=jn(t)?io:wn.current,r=t.contextTypes,a=(r=r!=null)?ma(e,s):xs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function hm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function v0(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},K1(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=vr(a):(a=jn(t)?io:wn.current,s.context=ma(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(x0(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kd.enqueueReplaceState(s,s.state,null),qu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function va(e,t){try{var n="",r=t;do n+=W_(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ah(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function b0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p3=typeof WeakMap=="function"?WeakMap:Map;function gv(e,t,n){n=Ri(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){td||(td=!0,O0=r),b0(e,t)},n}function pv(e,t,n){n=Ri(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){b0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){b0(e,t),typeof r!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function gm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p3;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=R3.bind(null,e,t,n),t.then(e,e))}function pm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ri(-1,1),t.tag=2,gs(n,t,1))),n.lanes|=1),e)}var m3=Li.ReactCurrentOwner,Bn=!1;function vn(e,t,n,r){t.child=e===null?Hx(t,null,n,r):ya(t,e.child,n,r)}function wm(e,t,n,r,s){n=n.render;var a=t.ref;return ea(t,s),r=eg(e,t,n,r,a,s),n=tg(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ki(e,t,s)):(bt&&n&&W1(t),t.flags|=1,vn(e,t,r,s),t.child)}function ym(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!dg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,mv(e,t,a,r,s)):(e=Iu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(c,r)&&e.ref===t.ref)return ki(e,t,s)}return t.flags|=1,e=ws(a,r),e.ref=t.ref,e.return=t,t.child=e}function mv(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Bl(a,r)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,ki(e,t,s)}return E0(e,t,n,r,s)}function wv(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Yo,Gn),Gn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(Yo,Gn),Gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,lt(Yo,Gn),Gn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Yo,Gn),Gn|=r;return vn(e,t,s,n),t.child}function yv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function E0(e,t,n,r,s){var a=jn(n)?io:wn.current;return a=ma(t,a),ea(t,s),n=eg(e,t,n,r,a,s),r=tg(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ki(e,t,s)):(bt&&r&&W1(t),t.flags|=1,vn(e,t,n,s),t.child)}function xm(e,t,n,r,s){if(jn(n)){var a=!0;$u(t)}else a=!1;if(ea(t,s),t.stateNode===null)_u(e,t),hv(t,n,r),v0(t,n,r,s),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var g=c.context,p=n.contextType;typeof p=="object"&&p!==null?p=vr(p):(p=jn(n)?io:wn.current,p=ma(t,p));var y=n.getDerivedStateFromProps,x=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||g!==p)&&hm(t,c,r,p),Qi=!1;var E=t.memoizedState;c.state=E,qu(t,r,c,s),g=t.memoizedState,h!==r||E!==g||Fn.current||Qi?(typeof y=="function"&&(x0(t,n,y,r),g=t.memoizedState),(h=Qi||fm(t,n,h,r,E,g,p))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),c.props=r,c.state=g,c.context=p,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Gx(e,t),h=t.memoizedProps,p=t.type===t.elementType?h:kr(t.type,h),c.props=p,x=t.pendingProps,E=c.context,g=n.contextType,typeof g=="object"&&g!==null?g=vr(g):(g=jn(n)?io:wn.current,g=ma(t,g));var b=n.getDerivedStateFromProps;(y=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==x||E!==g)&&hm(t,c,r,g),Qi=!1,E=t.memoizedState,c.state=E,qu(t,r,c,s);var R=t.memoizedState;h!==x||E!==R||Fn.current||Qi?(typeof b=="function"&&(x0(t,n,b,r),R=t.memoizedState),(p=Qi||fm(t,n,p,r,E,R,g)||!1)?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,R,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,R,g)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),c.props=r,c.state=R,c.context=g,r=p):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return C0(e,t,n,r,a,s)}function C0(e,t,n,r,s,a){yv(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return s&&im(t,n,!1),ki(e,t,a);r=t.stateNode,m3.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,h,a)):vn(e,t,h,a),t.memoizedState=r.state,s&&im(t,n,!0),t.child}function xv(e){var t=e.stateNode;t.pendingContext?rm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rm(e,t.context,!1),q1(e,t.containerInfo)}function vm(e,t,n,r,s){return wa(),H1(s),t.flags|=256,vn(e,t,n,r),t.child}var S0={dehydrated:null,treeContext:null,retryLane:0};function _0(e){return{baseLanes:e,cachePool:null,transitions:null}}function vv(e,t,n){var r=t.pendingProps,s=_t.current,a=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(s&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),lt(_t,s&1),e===null)return w0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=Ld(c,r,0,null),e=no(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_0(n),t.memoizedState=S0,e):ig(t,c));if(s=e.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return w3(e,t,c,r,h,s,n);if(a){a=r.fallback,c=t.mode,s=e.child,h=s.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=ws(s,g),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=ws(h,a):(a=no(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?_0(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=S0,r}return a=e.child,e=a.sibling,r=ws(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ig(e,t){return t=Ld({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,n,r){return r!==null&&H1(r),ya(t,e.child,null,n),e=ig(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w3(e,t,n,r,s,a,c){if(n)return t.flags&256?(t.flags&=-257,r=ah(Error(re(422))),Gc(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Ld({mode:"visible",children:r.children},s,0,null),a=no(a,s,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ya(t,e.child,null,c),t.child.memoizedState=_0(c),t.memoizedState=S0,a);if(!(t.mode&1))return Gc(e,t,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(re(419)),r=ah(a,r,void 0),Gc(e,t,c,r)}if(h=(c&e.childLanes)!==0,Bn||h){if(r=Zt,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Pi(e,s),Wr(r,e,s,-1))}return ug(),r=ah(Error(re(421))),Gc(e,t,c,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=N3.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,qn=hs(s.nextSibling),Qn=t,bt=!0,Ur=null,e!==null&&(ur[dr++]=Ai,ur[dr++]=Ti,ur[dr++]=so,Ai=e.id,Ti=e.overflow,so=t),t=ig(t,r.children),t.flags|=4096,t)}function bm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),y0(e.return,t,n)}function lh(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function bv(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(vn(e,t,r.children,n),r=_t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,n,t);else if(e.tag===19)bm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(_t,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Qu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),lh(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}lh(t,!0,n,null,a);break;case"together":lh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _u(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ki(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ao|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=ws(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ws(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y3(e,t,n){switch(t.tag){case 3:xv(t),wa();break;case 5:Xx(t);break;case 1:jn(t.type)&&$u(t);break;case 4:q1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;lt(Yu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(lt(_t,_t.current&1),t.flags|=128,null):n&t.child.childLanes?vv(e,t,n):(lt(_t,_t.current&1),e=ki(e,t,n),e!==null?e.sibling:null);lt(_t,_t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(_t,_t.current),r)break;return null;case 22:case 23:return t.lanes=0,wv(e,t,n)}return ki(e,t,n)}var Ev,A0,Cv,Sv;Ev=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A0=function(){};Cv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xs(di.current);var a=null;switch(n){case"input":s=Yh(e,s),r=Yh(e,r),a=[];break;case"select":s=Tt({},s,{value:void 0}),r=Tt({},r,{value:void 0}),a=[];break;case"textarea":s=Qh(e,s),r=Qh(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zu)}Jh(n,r);var c;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var h=s[p];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Nl.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var g=r[p];if(h=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&g!==h&&(g!=null||h!=null))if(p==="style")if(h){for(c in h)!h.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in g)g.hasOwnProperty(c)&&h[c]!==g[c]&&(n||(n={}),n[c]=g[c])}else n||(a||(a=[]),a.push(p,n)),n=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&ft("scroll",e),a||h===g||(a=[])):(a=a||[]).push(p,g))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Sv=function(e,t,n,r){n!==r&&(t.flags|=4)};function il(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x3(e,t,n){var r=t.pendingProps;switch(z1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return jn(t.type)&&Hu(),hn(t),null;case 3:return r=t.stateNode,xa(),gt(Fn),gt(wn),Z1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(D0(Ur),Ur=null))),A0(e,t),hn(t),null;case 5:Q1(t);var s=Xs(Wl.current);if(n=t.type,e!==null&&t.stateNode!=null)Cv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(re(166));return hn(t),null}if(e=Xs(di.current),Hc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[li]=t,r[Ul]=a,e=(t.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<hl.length;s++)ft(hl[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":Np(r,a),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ft("invalid",r);break;case"textarea":Pp(r,a),ft("invalid",r)}Jh(n,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var h=a[c];c==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&zc(r.textContent,h,e),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&zc(r.textContent,h,e),s=["children",""+h]):Nl.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&ft("scroll",r)}switch(n){case"input":Mc(r),Op(r,a,!0);break;case"textarea":Mc(r),kp(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=zu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[li]=t,e[Ul]=r,Ev(e,t,!1,!1),t.stateNode=e;e:{switch(c=e0(n,r),n){case"dialog":ft("cancel",e),ft("close",e),s=r;break;case"iframe":case"object":case"embed":ft("load",e),s=r;break;case"video":case"audio":for(s=0;s<hl.length;s++)ft(hl[s],e);s=r;break;case"source":ft("error",e),s=r;break;case"img":case"image":case"link":ft("error",e),ft("load",e),s=r;break;case"details":ft("toggle",e),s=r;break;case"input":Np(e,r),s=Yh(e,r),ft("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Tt({},r,{value:void 0}),ft("invalid",e);break;case"textarea":Pp(e,r),s=Qh(e,r),ft("invalid",e);break;default:s=r}Jh(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var g=h[a];a==="style"?tx(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Jy(e,g)):a==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Ol(e,g):typeof g=="number"&&Ol(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nl.hasOwnProperty(a)?g!=null&&a==="onScroll"&&ft("scroll",e):g!=null&&I1(e,a,g,c))}switch(n){case"input":Mc(e),Op(e,r,!1);break;case"textarea":Mc(e),kp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ys(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?qo(e,!!r.multiple,a,!1):r.defaultValue!=null&&qo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hn(t),null;case 6:if(e&&t.stateNode!=null)Sv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(re(166));if(n=Xs(Wl.current),Xs(di.current),Hc(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(a=r.nodeValue!==n)&&(e=Qn,e!==null))switch(e.tag){case 3:zc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[li]=t,t.stateNode=r}return hn(t),null;case 13:if(gt(_t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&qn!==null&&t.mode&1&&!(t.flags&128))Wx(),wa(),t.flags|=98560,a=!1;else if(a=Hc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[li]=t}else wa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hn(t),a=!1}else Ur!==null&&(D0(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_t.current&1?Gt===0&&(Gt=3):ug())),t.updateQueue!==null&&(t.flags|=4),hn(t),null);case 4:return xa(),A0(e,t),e===null&&Fl(t.stateNode.containerInfo),hn(t),null;case 10:return X1(t.type._context),hn(t),null;case 17:return jn(t.type)&&Hu(),hn(t),null;case 19:if(gt(_t),a=t.memoizedState,a===null)return hn(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)il(a,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Qu(e),c!==null){for(t.flags|=128,il(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lt(_t,_t.current&1|2),t.child}e=e.sibling}a.tail!==null&&Lt()>ba&&(t.flags|=128,r=!0,il(a,!1),t.lanes=4194304)}else{if(!r)if(e=Qu(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),il(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!bt)return hn(t),null}else 2*Lt()-a.renderingStartTime>ba&&n!==1073741824&&(t.flags|=128,r=!0,il(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Lt(),t.sibling=null,n=_t.current,lt(_t,r?n&1|2:n&1),t):(hn(t),null);case 22:case 23:return cg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gn&1073741824&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function v3(e,t){switch(z1(t),t.tag){case 1:return jn(t.type)&&Hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xa(),gt(Fn),gt(wn),Z1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q1(t),null;case 13:if(gt(_t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));wa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(_t),null;case 4:return xa(),null;case 10:return X1(t.type._context),null;case 22:case 23:return cg(),null;case 24:return null;default:return null}}var Xc=!1,pn=!1,b3=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Xo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(e,t,r)}else n.current=null}function T0(e,t,n){try{n()}catch(r){kt(e,t,r)}}var Em=!1;function E3(e,t){if(u0=Uu,e=Rx(),V1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,h=-1,g=-1,p=0,y=0,x=e,E=null;t:for(;;){for(var b;x!==n||s!==0&&x.nodeType!==3||(h=c+s),x!==a||r!==0&&x.nodeType!==3||(g=c+r),x.nodeType===3&&(c+=x.nodeValue.length),(b=x.firstChild)!==null;)E=x,x=b;for(;;){if(x===e)break t;if(E===n&&++p===s&&(h=c),E===a&&++y===r&&(g=c),(b=x.nextSibling)!==null)break;x=E,E=x.parentNode}x=b}n=h===-1||g===-1?null:{start:h,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(d0={focusedElem:e,selectionRange:n},Uu=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var C=R.memoizedProps,N=R.memoizedState,I=t.stateNode,T=I.getSnapshotBeforeUpdate(t.elementType===t.type?C:kr(t.type,C),N);I.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(M){kt(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return R=Em,Em=!1,R}function El(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&T0(t,n,a)}s=s.next}while(s!==r)}}function Dd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function I0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _v(e){var t=e.alternate;t!==null&&(e.alternate=null,_v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[li],delete t[Ul],delete t[g0],delete t[i3],delete t[s3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Av(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Av(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zu));else if(r!==4&&(e=e.child,e!==null))for(R0(e,t,n),e=e.sibling;e!==null;)R0(e,t,n),e=e.sibling}function N0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(N0(e,t,n),e=e.sibling;e!==null;)N0(e,t,n),e=e.sibling}var sn=null,Fr=!1;function zi(e,t,n){for(n=n.child;n!==null;)Tv(e,t,n),n=n.sibling}function Tv(e,t,n){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(Ad,n)}catch{}switch(n.tag){case 5:pn||Xo(n,t);case 6:var r=sn,s=Fr;sn=null,zi(e,t,n),sn=r,Fr=s,sn!==null&&(Fr?(e=sn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(Fr?(e=sn,n=n.stateNode,e.nodeType===8?th(e.parentNode,n):e.nodeType===1&&th(e,n),Ml(e)):th(sn,n.stateNode));break;case 4:r=sn,s=Fr,sn=n.stateNode.containerInfo,Fr=!0,zi(e,t,n),sn=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&T0(n,t,c),s=s.next}while(s!==r)}zi(e,t,n);break;case 1:if(!pn&&(Xo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){kt(n,t,h)}zi(e,t,n);break;case 21:zi(e,t,n);break;case 22:n.mode&1?(pn=(r=pn)||n.memoizedState!==null,zi(e,t,n),pn=r):zi(e,t,n);break;default:zi(e,t,n)}}function Sm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b3),t.forEach(function(r){var s=O3.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:sn=h.stateNode,Fr=!1;break e;case 3:sn=h.stateNode.containerInfo,Fr=!0;break e;case 4:sn=h.stateNode.containerInfo,Fr=!0;break e}h=h.return}if(sn===null)throw Error(re(160));Tv(a,c,s),sn=null,Fr=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(p){kt(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iv(t,e),t=t.sibling}function Iv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),ri(e),r&4){try{El(3,e,e.return),Dd(3,e)}catch(C){kt(e,e.return,C)}try{El(5,e,e.return)}catch(C){kt(e,e.return,C)}}break;case 1:Nr(t,e),ri(e),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(Nr(t,e),ri(e),r&512&&n!==null&&Xo(n,n.return),e.flags&32){var s=e.stateNode;try{Ol(s,"")}catch(C){kt(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&qy(s,a),e0(h,c);var p=e0(h,a);for(c=0;c<g.length;c+=2){var y=g[c],x=g[c+1];y==="style"?tx(s,x):y==="dangerouslySetInnerHTML"?Jy(s,x):y==="children"?Ol(s,x):I1(s,y,x,p)}switch(h){case"input":Kh(s,a);break;case"textarea":Qy(s,a);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?qo(s,!!a.multiple,b,!1):E!==!!a.multiple&&(a.defaultValue!=null?qo(s,!!a.multiple,a.defaultValue,!0):qo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ul]=a}catch(C){kt(e,e.return,C)}}break;case 6:if(Nr(t,e),ri(e),r&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(C){kt(e,e.return,C)}}break;case 3:if(Nr(t,e),ri(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(C){kt(e,e.return,C)}break;case 4:Nr(t,e),ri(e);break;case 13:Nr(t,e),ri(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ag=Lt())),r&4&&Sm(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(pn=(p=pn)||y,Nr(t,e),pn=p):Nr(t,e),ri(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(xe=e,y=e.child;y!==null;){for(x=xe=y;xe!==null;){switch(E=xe,b=E.child,E.tag){case 0:case 11:case 14:case 15:El(4,E,E.return);break;case 1:Xo(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(C){kt(r,n,C)}}break;case 5:Xo(E,E.return);break;case 22:if(E.memoizedState!==null){Am(x);continue}}b!==null?(b.return=E,xe=b):Am(x)}y=y.sibling}e:for(y=null,x=e;;){if(x.tag===5){if(y===null){y=x;try{s=x.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=x.stateNode,g=x.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=ex("display",c))}catch(C){kt(e,e.return,C)}}}else if(x.tag===6){if(y===null)try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(C){kt(e,e.return,C)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;y===x&&(y=null),x=x.return}y===x&&(y=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Nr(t,e),ri(e),r&4&&Sm(e);break;case 21:break;default:Nr(t,e),ri(e)}}function ri(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Av(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ol(s,""),r.flags&=-33);var a=Cm(e);N0(e,a,s);break;case 3:case 4:var c=r.stateNode.containerInfo,h=Cm(e);R0(e,h,c);break;default:throw Error(re(161))}}catch(g){kt(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C3(e,t,n){xe=e,Rv(e)}function Rv(e,t,n){for(var r=(e.mode&1)!==0;xe!==null;){var s=xe,a=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||Xc;if(!c){var h=s.alternate,g=h!==null&&h.memoizedState!==null||pn;h=Xc;var p=pn;if(Xc=c,(pn=g)&&!p)for(xe=s;xe!==null;)c=xe,g=c.child,c.tag===22&&c.memoizedState!==null?Tm(s):g!==null?(g.return=c,xe=g):Tm(s);for(;a!==null;)xe=a,Rv(a),a=a.sibling;xe=s,Xc=h,pn=p}_m(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,xe=a):_m(e)}}function _m(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Dd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&cm(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cm(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var x=y.dehydrated;x!==null&&Ml(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}pn||t.flags&512&&I0(t)}catch(E){kt(t,t.return,E)}}if(t===e){xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Am(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Tm(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dd(4,t)}catch(g){kt(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(g){kt(t,s,g)}}var a=t.return;try{I0(t)}catch(g){kt(t,a,g)}break;case 5:var c=t.return;try{I0(t)}catch(g){kt(t,c,g)}}}catch(g){kt(t,t.return,g)}if(t===e){xe=null;break}var h=t.sibling;if(h!==null){h.return=t.return,xe=h;break}xe=t.return}}var S3=Math.ceil,ed=Li.ReactCurrentDispatcher,sg=Li.ReactCurrentOwner,xr=Li.ReactCurrentBatchConfig,Ye=0,Zt=null,Ft=null,an=0,Gn=0,Yo=Cs(0),Gt=0,Gl=null,ao=0,Md=0,og=0,Cl=null,Ln=null,ag=0,ba=1/0,Ei=null,td=!1,O0=null,ps=null,Yc=!1,as=null,nd=0,Sl=0,P0=null,Au=-1,Tu=0;function Cn(){return Ye&6?Lt():Au!==-1?Au:Au=Lt()}function ms(e){return e.mode&1?Ye&2&&an!==0?an&-an:a3.transition!==null?(Tu===0&&(Tu=hx()),Tu):(e=nt,e!==0||(e=window.event,e=e===void 0?16:vx(e.type)),e):1}function Wr(e,t,n,r){if(50<Sl)throw Sl=0,P0=null,Error(re(185));lc(e,n,r),(!(Ye&2)||e!==Zt)&&(e===Zt&&(!(Ye&2)&&(Md|=n),Gt===4&&Ji(e,an)),Un(e,r),n===1&&Ye===0&&!(t.mode&1)&&(ba=Lt()+500,Od&&Ss()))}function Un(e,t){var n=e.callbackNode;aA(e,t);var r=ju(e,e===Zt?an:0);if(r===0)n!==null&&Lp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lp(n),t===1)e.tag===0?o3(Im.bind(null,e)):jx(Im.bind(null,e)),n3(function(){!(Ye&6)&&Ss()}),n=null;else{switch(gx(r)){case 1:n=k1;break;case 4:n=dx;break;case 16:n=Fu;break;case 536870912:n=fx;break;default:n=Fu}n=Bv(n,Nv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nv(e,t){if(Au=-1,Tu=0,Ye&6)throw Error(re(327));var n=e.callbackNode;if(ta()&&e.callbackNode!==n)return null;var r=ju(e,e===Zt?an:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rd(e,r);else{t=r;var s=Ye;Ye|=2;var a=Pv();(Zt!==e||an!==t)&&(Ei=null,ba=Lt()+500,to(e,t));do try{T3();break}catch(h){Ov(e,h)}while(!0);G1(),ed.current=a,Ye=s,Ft!==null?t=0:(Zt=null,an=0,t=Gt)}if(t!==0){if(t===2&&(s=s0(e),s!==0&&(r=s,t=k0(e,s))),t===1)throw n=Gl,to(e,0),Ji(e,r),Un(e,Lt()),n;if(t===6)Ji(e,r);else{if(s=e.current.alternate,!(r&30)&&!_3(s)&&(t=rd(e,r),t===2&&(a=s0(e),a!==0&&(r=a,t=k0(e,a))),t===1))throw n=Gl,to(e,0),Ji(e,r),Un(e,Lt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(re(345));case 2:js(e,Ln,Ei);break;case 3:if(Ji(e,r),(r&130023424)===r&&(t=ag+500-Lt(),10<t)){if(ju(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Cn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=h0(js.bind(null,e,Ln,Ei),t);break}js(e,Ln,Ei);break;case 4:if(Ji(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var c=31-Vr(r);a=1<<c,c=t[c],c>s&&(s=c),r&=~a}if(r=s,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S3(r/1960))-r,10<r){e.timeoutHandle=h0(js.bind(null,e,Ln,Ei),r);break}js(e,Ln,Ei);break;case 5:js(e,Ln,Ei);break;default:throw Error(re(329))}}}return Un(e,Lt()),e.callbackNode===n?Nv.bind(null,e):null}function k0(e,t){var n=Cl;return e.current.memoizedState.isDehydrated&&(to(e,t).flags|=256),e=rd(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&D0(t)),e}function D0(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function _3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!zr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t){for(t&=~og,t&=~Md,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),r=1<<n;e[n]=-1,t&=~r}}function Im(e){if(Ye&6)throw Error(re(327));ta();var t=ju(e,0);if(!(t&1))return Un(e,Lt()),null;var n=rd(e,t);if(e.tag!==0&&n===2){var r=s0(e);r!==0&&(t=r,n=k0(e,r))}if(n===1)throw n=Gl,to(e,0),Ji(e,t),Un(e,Lt()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,Ln,Ei),Un(e,Lt()),null}function lg(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(ba=Lt()+500,Od&&Ss())}}function lo(e){as!==null&&as.tag===0&&!(Ye&6)&&ta();var t=Ye;Ye|=1;var n=xr.transition,r=nt;try{if(xr.transition=null,nt=1,e)return e()}finally{nt=r,xr.transition=n,Ye=t,!(Ye&6)&&Ss()}}function cg(){Gn=Yo.current,gt(Yo)}function to(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t3(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(z1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hu();break;case 3:xa(),gt(Fn),gt(wn),Z1();break;case 5:Q1(r);break;case 4:xa();break;case 13:gt(_t);break;case 19:gt(_t);break;case 10:X1(r.type._context);break;case 22:case 23:cg()}n=n.return}if(Zt=e,Ft=e=ws(e.current,null),an=Gn=t,Gt=0,Gl=null,og=Md=ao=0,Ln=Cl=null,Gs!==null){for(t=0;t<Gs.length;t++)if(n=Gs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=s,r.next=c}n.pending=r}Gs=null}return e}function Ov(e,t){do{var n=Ft;try{if(G1(),Cu.current=Ju,Zu){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zu=!1}if(oo=0,Qt=Ht=At=null,bl=!1,zl=0,sg.current=null,n===null||n.return===null){Gt=1,Gl=t,Ft=null;break}e:{var a=e,c=n.return,h=n,g=t;if(t=an,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,y=h,x=y.tag;if(!(y.mode&1)&&(x===0||x===11||x===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var b=pm(c);if(b!==null){b.flags&=-257,mm(b,c,h,a,t),b.mode&1&&gm(a,p,t),t=b,g=p;var R=t.updateQueue;if(R===null){var C=new Set;C.add(g),t.updateQueue=C}else R.add(g);break e}else{if(!(t&1)){gm(a,p,t),ug();break e}g=Error(re(426))}}else if(bt&&h.mode&1){var N=pm(c);if(N!==null){!(N.flags&65536)&&(N.flags|=256),mm(N,c,h,a,t),H1(va(g,h));break e}}a=g=va(g,h),Gt!==4&&(Gt=2),Cl===null?Cl=[a]:Cl.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=gv(a,g,t);lm(a,I);break e;case 1:h=g;var T=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ps===null||!ps.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var M=pv(a,h,t);lm(a,M);break e}}a=a.return}while(a!==null)}Dv(n)}catch(j){t=j,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function Pv(){var e=ed.current;return ed.current=Ju,e===null?Ju:e}function ug(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Zt===null||!(ao&268435455)&&!(Md&268435455)||Ji(Zt,an)}function rd(e,t){var n=Ye;Ye|=2;var r=Pv();(Zt!==e||an!==t)&&(Ei=null,to(e,t));do try{A3();break}catch(s){Ov(e,s)}while(!0);if(G1(),Ye=n,ed.current=r,Ft!==null)throw Error(re(261));return Zt=null,an=0,Gt}function A3(){for(;Ft!==null;)kv(Ft)}function T3(){for(;Ft!==null&&!Z_();)kv(Ft)}function kv(e){var t=Lv(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?Dv(e):Ft=t,sg.current=null}function Dv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v3(n,t),n!==null){n.flags&=32767,Ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Ft=null;return}}else if(n=x3(n,t,Gn),n!==null){Ft=n;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Gt===0&&(Gt=5)}function js(e,t,n){var r=nt,s=xr.transition;try{xr.transition=null,nt=1,I3(e,t,n,r)}finally{xr.transition=s,nt=r}return null}function I3(e,t,n,r){do ta();while(as!==null);if(Ye&6)throw Error(re(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(lA(e,a),e===Zt&&(Ft=Zt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yc||(Yc=!0,Bv(Fu,function(){return ta(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xr.transition,xr.transition=null;var c=nt;nt=1;var h=Ye;Ye|=4,sg.current=null,E3(e,n),Iv(n,e),YA(d0),Uu=!!u0,d0=u0=null,e.current=n,C3(n),J_(),Ye=h,nt=c,xr.transition=a}else e.current=n;if(Yc&&(Yc=!1,as=e,nd=s),a=e.pendingLanes,a===0&&(ps=null),nA(n.stateNode),Un(e,Lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(td)throw td=!1,e=O0,O0=null,e;return nd&1&&e.tag!==0&&ta(),a=e.pendingLanes,a&1?e===P0?Sl++:(Sl=0,P0=e):Sl=0,Ss(),null}function ta(){if(as!==null){var e=gx(nd),t=xr.transition,n=nt;try{if(xr.transition=null,nt=16>e?16:e,as===null)var r=!1;else{if(e=as,as=null,nd=0,Ye&6)throw Error(re(331));var s=Ye;for(Ye|=4,xe=e.current;xe!==null;){var a=xe,c=a.child;if(xe.flags&16){var h=a.deletions;if(h!==null){for(var g=0;g<h.length;g++){var p=h[g];for(xe=p;xe!==null;){var y=xe;switch(y.tag){case 0:case 11:case 15:El(8,y,a)}var x=y.child;if(x!==null)x.return=y,xe=x;else for(;xe!==null;){y=xe;var E=y.sibling,b=y.return;if(_v(y),y===p){xe=null;break}if(E!==null){E.return=b,xe=E;break}xe=b}}}var R=a.alternate;if(R!==null){var C=R.child;if(C!==null){R.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}xe=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,xe=c;else e:for(;xe!==null;){if(a=xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:El(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,xe=I;break e}xe=a.return}}var T=e.current;for(xe=T;xe!==null;){c=xe;var A=c.child;if(c.subtreeFlags&2064&&A!==null)A.return=c,xe=A;else e:for(c=T;xe!==null;){if(h=xe,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Dd(9,h)}}catch(j){kt(h,h.return,j)}if(h===c){xe=null;break e}var M=h.sibling;if(M!==null){M.return=h.return,xe=M;break e}xe=h.return}}if(Ye=s,Ss(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(Ad,e)}catch{}r=!0}return r}finally{nt=n,xr.transition=t}}return!1}function Rm(e,t,n){t=va(n,t),t=gv(e,t,1),e=gs(e,t,1),t=Cn(),e!==null&&(lc(e,1,t),Un(e,t))}function kt(e,t,n){if(e.tag===3)Rm(e,e,n);else for(;t!==null;){if(t.tag===3){Rm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ps===null||!ps.has(r))){e=va(n,e),e=pv(t,e,1),t=gs(t,e,1),e=Cn(),t!==null&&(lc(t,1,e),Un(t,e));break}}t=t.return}}function R3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&n,Zt===e&&(an&n)===n&&(Gt===4||Gt===3&&(an&130023424)===an&&500>Lt()-ag?to(e,0):og|=n),Un(e,t)}function Mv(e,t){t===0&&(e.mode&1?(t=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):t=1);var n=Cn();e=Pi(e,t),e!==null&&(lc(e,t,n),Un(e,n))}function N3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mv(e,n)}function O3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(t),Mv(e,n)}var Lv;Lv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,y3(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,bt&&t.flags&1048576&&Ux(t,Xu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_u(e,t),e=t.pendingProps;var s=ma(t,wn.current);ea(t,n),s=eg(null,t,r,e,s,n);var a=tg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jn(r)?(a=!0,$u(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,K1(t),s.updater=kd,t.stateNode=s,s._reactInternals=t,v0(t,r,e,n),t=C0(null,t,r,!0,a,n)):(t.tag=0,bt&&a&&W1(t),vn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_u(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=k3(r),e=kr(r,e),s){case 0:t=E0(null,t,r,e,n);break e;case 1:t=xm(null,t,r,e,n);break e;case 11:t=wm(null,t,r,e,n);break e;case 14:t=ym(null,t,r,kr(r.type,e),n);break e}throw Error(re(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),E0(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),xm(e,t,r,s,n);case 3:e:{if(xv(t),e===null)throw Error(re(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Gx(e,t),qu(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=va(Error(re(423)),t),t=vm(e,t,r,n,s);break e}else if(r!==s){s=va(Error(re(424)),t),t=vm(e,t,r,n,s);break e}else for(qn=hs(t.stateNode.containerInfo.firstChild),Qn=t,bt=!0,Ur=null,n=Hx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wa(),r===s){t=ki(e,t,n);break e}vn(e,t,r,n)}t=t.child}return t;case 5:return Xx(t),e===null&&w0(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,f0(r,s)?c=null:a!==null&&f0(r,a)&&(t.flags|=32),yv(e,t),vn(e,t,c,n),t.child;case 6:return e===null&&w0(t),null;case 13:return vv(e,t,n);case 4:return q1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ya(t,null,r,n):vn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),wm(e,t,r,s,n);case 7:return vn(e,t,t.pendingProps,n),t.child;case 8:return vn(e,t,t.pendingProps.children,n),t.child;case 12:return vn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,lt(Yu,r._currentValue),r._currentValue=c,a!==null)if(zr(a.value,c)){if(a.children===s.children&&!Fn.current){t=ki(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){c=a.child;for(var g=h.firstContext;g!==null;){if(g.context===r){if(a.tag===1){g=Ri(-1,n&-n),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?g.next=g:(g.next=y.next,y.next=g),p.pending=g}}a.lanes|=n,g=a.alternate,g!==null&&(g.lanes|=n),y0(a.return,n,t),h.lanes|=n;break}g=g.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(re(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),y0(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}vn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ea(t,n),s=vr(s),r=r(s),t.flags|=1,vn(e,t,r,n),t.child;case 14:return r=t.type,s=kr(r,t.pendingProps),s=kr(r.type,s),ym(e,t,r,s,n);case 15:return mv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),_u(e,t),t.tag=1,jn(r)?(e=!0,$u(t)):e=!1,ea(t,n),hv(t,r,s),v0(t,r,s,n),C0(null,t,r,!0,e,n);case 19:return bv(e,t,n);case 22:return wv(e,t,n)}throw Error(re(156,t.tag))};function Bv(e,t){return ux(e,t)}function P3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,n,r){return new P3(e,t,n,r)}function dg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k3(e){if(typeof e=="function")return dg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N1)return 11;if(e===O1)return 14}return 2}function ws(e,t){var n=e.alternate;return n===null?(n=gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,s,a){var c=2;if(r=e,typeof e=="function")dg(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Fo:return no(n.children,s,a,t);case R1:c=8,s|=8;break;case Hh:return e=gr(12,n,t,s|2),e.elementType=Hh,e.lanes=a,e;case $h:return e=gr(13,n,t,s),e.elementType=$h,e.lanes=a,e;case Gh:return e=gr(19,n,t,s),e.elementType=Gh,e.lanes=a,e;case Xy:return Ld(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $y:c=10;break e;case Gy:c=9;break e;case N1:c=11;break e;case O1:c=14;break e;case qi:c=16,r=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=gr(c,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function no(e,t,n,r){return e=gr(7,e,r,t),e.lanes=n,e}function Ld(e,t,n,r){return e=gr(22,e,r,t),e.elementType=Xy,e.lanes=n,e.stateNode={isHidden:!1},e}function ch(e,t,n){return e=gr(6,e,null,t),e.lanes=n,e}function uh(e,t,n){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D3(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hf(0),this.expirationTimes=Hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fg(e,t,n,r,s,a,c,h,g){return e=new D3(e,t,n,h,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},K1(a),e}function M3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fv(e){if(!e)return xs;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(jn(n))return Fx(e,n,t)}return t}function jv(e,t,n,r,s,a,c,h,g){return e=fg(n,r,!0,e,s,a,c,h,g),e.context=Fv(null),n=e.current,r=Cn(),s=ms(n),a=Ri(r,s),a.callback=t??null,gs(n,a,s),e.current.lanes=s,lc(e,s,r),Un(e,r),e}function Bd(e,t,n,r){var s=t.current,a=Cn(),c=ms(s);return n=Fv(n),t.context===null?t.context=n:t.pendingContext=n,t=Ri(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gs(s,t,c),e!==null&&(Wr(e,s,c,a),Eu(e,s,c)),c}function id(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hg(e,t){Nm(e,t),(e=e.alternate)&&Nm(e,t)}function L3(){return null}var Uv=typeof reportError=="function"?reportError:function(e){console.error(e)};function gg(e){this._internalRoot=e}Fd.prototype.render=gg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Bd(e,t,null,null)};Fd.prototype.unmount=gg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lo(function(){Bd(null,e,null,null)}),t[Oi]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=wx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zi.length&&t!==0&&t<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&xx(e)}};function pg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Om(){}function B3(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=id(c);a.call(p)}}var c=jv(t,r,e,0,null,!1,!1,"",Om);return e._reactRootContainer=c,e[Oi]=c.current,Fl(e.nodeType===8?e.parentNode:e),lo(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var p=id(g);h.call(p)}}var g=fg(e,0,!1,null,null,!1,!1,"",Om);return e._reactRootContainer=g,e[Oi]=g.current,Fl(e.nodeType===8?e.parentNode:e),lo(function(){Bd(t,g,n,r)}),g}function Ud(e,t,n,r,s){var a=n._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var h=s;s=function(){var g=id(c);h.call(g)}}Bd(t,c,e,s)}else c=B3(n,t,e,s,r);return id(c)}px=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fl(t.pendingLanes);n!==0&&(D1(t,n|1),Un(t,Lt()),!(Ye&6)&&(ba=Lt()+500,Ss()))}break;case 13:lo(function(){var r=Pi(e,1);if(r!==null){var s=Cn();Wr(r,e,1,s)}}),hg(e,1)}};M1=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var n=Cn();Wr(t,e,134217728,n)}hg(e,134217728)}};mx=function(e){if(e.tag===13){var t=ms(e),n=Pi(e,t);if(n!==null){var r=Cn();Wr(n,e,t,r)}hg(e,t)}};wx=function(){return nt};yx=function(e,t){var n=nt;try{return nt=e,t()}finally{nt=n}};n0=function(e,t,n){switch(t){case"input":if(Kh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Nd(r);if(!s)throw Error(re(90));Ky(r),Kh(r,s)}}}break;case"textarea":Qy(e,n);break;case"select":t=n.value,t!=null&&qo(e,!!n.multiple,t,!1)}};ix=lg;sx=lo;var F3={usingClientEntryPoint:!1,Events:[uc,Wo,Nd,nx,rx,lg]},sl={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j3={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lx(e),e===null?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||L3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Ad=Kc.inject(j3),ui=Kc}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F3;tr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(t))throw Error(re(200));return M3(e,t,null,n)};tr.createRoot=function(e,t){if(!pg(e))throw Error(re(299));var n=!1,r="",s=Uv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fg(e,1,!1,null,null,n,!1,r,s),e[Oi]=t.current,Fl(e.nodeType===8?e.parentNode:e),new gg(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=lx(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return lo(e)};tr.hydrate=function(e,t,n){if(!jd(t))throw Error(re(200));return Ud(null,e,t,!0,n)};tr.hydrateRoot=function(e,t,n){if(!pg(e))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",c=Uv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=jv(t,null,e,1,n??null,s,!1,a,c),e[Oi]=t.current,Fl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Fd(t)};tr.render=function(e,t,n){if(!jd(t))throw Error(re(200));return Ud(null,e,t,!1,n)};tr.unmountComponentAtNode=function(e){if(!jd(e))throw Error(re(40));return e._reactRootContainer?(lo(function(){Ud(null,null,e,!1,function(){e._reactRootContainer=null,e[Oi]=null})}),!0):!1};tr.unstable_batchedUpdates=lg;tr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jd(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Ud(e,t,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function Vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vv)}catch(e){console.error(e)}}Vv(),Vy.exports=tr;var fc=Vy.exports;const Wv=v1(fc);var zv,Pm=fc;zv=Pm.createRoot,Pm.hydrateRoot;const U3=1,V3=1e6;let dh=0;function W3(){return dh=(dh+1)%Number.MAX_SAFE_INTEGER,dh.toString()}const fh=new Map,km=e=>{if(fh.has(e))return;const t=setTimeout(()=>{fh.delete(e),_l({type:"REMOVE_TOAST",toastId:e})},V3);fh.set(e,t)},z3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,U3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?km(n):e.toasts.forEach(r=>{km(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ru=[];let Nu={toasts:[]};function _l(e){Nu=z3(Nu,e),Ru.forEach(t=>{t(Nu)})}function H3({...e}){const t=W3(),n=s=>_l({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>_l({type:"DISMISS_TOAST",toastId:t});return _l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function $3(){const[e,t]=O.useState(Nu);return O.useEffect(()=>(Ru.push(t),()=>{const n=Ru.indexOf(t);n>-1&&Ru.splice(n,1)}),[e]),{...e,toast:H3,dismiss:n=>_l({type:"DISMISS_TOAST",toastId:n})}}function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Dm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hv(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Dm(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Dm(e[s],null)}}}}function pt(...e){return O.useCallback(Hv(...e),e)}function G3(e,t){const n=O.createContext(t),r=a=>{const{children:c,...h}=a,g=O.useMemo(()=>h,Object.values(h));return _.jsx(n.Provider,{value:g,children:c})};r.displayName=e+"Provider";function s(a){const c=O.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Gr(e,t=[]){let n=[];function r(a,c){const h=O.createContext(c),g=n.length;n=[...n,c];const p=x=>{var I;const{scope:E,children:b,...R}=x,C=((I=E==null?void 0:E[e])==null?void 0:I[g])||h,N=O.useMemo(()=>R,Object.values(R));return _.jsx(C.Provider,{value:N,children:b})};p.displayName=a+"Provider";function y(x,E){var C;const b=((C=E==null?void 0:E[e])==null?void 0:C[g])||h,R=O.useContext(b);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${a}\``)}return[p,y]}const s=()=>{const a=n.map(c=>O.createContext(c));return function(h){const g=(h==null?void 0:h[e])||a;return O.useMemo(()=>({[`__scope${e}`]:{...h,[e]:g}}),[h,g])}};return s.scopeName=e,[r,X3(s,...t)]}function X3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=r.reduce((h,{useScope:g,scopeName:p})=>{const x=g(a)[`__scope${p}`];return{...h,...x}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Xl(e){const t=K3(e),n=O.forwardRef((r,s)=>{const{children:a,...c}=r,h=O.Children.toArray(a),g=h.find(Q3);if(g){const p=g.props.children,y=h.map(x=>x===g?O.Children.count(p)>1?O.Children.only(null):O.isValidElement(p)?p.props.children:null:x);return _.jsx(t,{...c,ref:s,children:O.isValidElement(p)?O.cloneElement(p,void 0,y):null})}return _.jsx(t,{...c,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var Y3=Xl("Slot");function K3(e){const t=O.forwardRef((n,r)=>{const{children:s,...a}=n;if(O.isValidElement(s)){const c=J3(s),h=Z3(a,s.props);return s.type!==O.Fragment&&(h.ref=r?Hv(r,c):c),O.cloneElement(s,h)}return O.Children.count(s)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $v=Symbol("radix.slottable");function q3(e){const t=({children:n})=>_.jsx(_.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$v,t}function Q3(e){return O.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$v}function Z3(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...h)=>{const g=a(...h);return s(...h),g}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function J3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gv(e){const t=e+"CollectionProvider",[n,r]=Gr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:N,children:I}=C,T=le.useRef(null),A=le.useRef(new Map).current;return _.jsx(s,{scope:N,itemMap:A,collectionRef:T,children:I})};c.displayName=t;const h=e+"CollectionSlot",g=Xl(h),p=le.forwardRef((C,N)=>{const{scope:I,children:T}=C,A=a(h,I),M=pt(N,A.collectionRef);return _.jsx(g,{ref:M,children:T})});p.displayName=h;const y=e+"CollectionItemSlot",x="data-radix-collection-item",E=Xl(y),b=le.forwardRef((C,N)=>{const{scope:I,children:T,...A}=C,M=le.useRef(null),j=pt(N,M),U=a(y,I);return le.useEffect(()=>(U.itemMap.set(M,{ref:M,...A}),()=>void U.itemMap.delete(M))),_.jsx(E,{[x]:"",ref:j,children:T})});b.displayName=y;function R(C){const N=a(e+"CollectionConsumer",C);return le.useCallback(()=>{const T=N.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((U,F)=>A.indexOf(U.ref.current)-A.indexOf(F.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:p,ItemSlot:b},R,r]}var eT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=eT.reduce((e,t)=>{const n=Xl(`Primitive.${t}`),r=O.forwardRef((s,a)=>{const{asChild:c,...h}=s,g=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(g,{...h,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Xv(e,t){e&&fc.flushSync(()=>e.dispatchEvent(t))}function $t(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function tT(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e);O.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var nT="DismissableLayer",M0="dismissableLayer.update",rT="dismissableLayer.pointerDownOutside",iT="dismissableLayer.focusOutside",Mm,Yv=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vd=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...g}=e,p=O.useContext(Yv),[y,x]=O.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=O.useState({}),R=pt(t,F=>x(F)),C=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),I=C.indexOf(N),T=y?C.indexOf(y):-1,A=p.layersWithOutsidePointerEventsDisabled.size>0,M=T>=I,j=oT(F=>{const H=F.target,z=[...p.branches].some(ee=>ee.contains(H));!M||z||(s==null||s(F),c==null||c(F),F.defaultPrevented||h==null||h())},E),U=aT(F=>{const H=F.target;[...p.branches].some(ee=>ee.contains(H))||(a==null||a(F),c==null||c(F),F.defaultPrevented||h==null||h())},E);return tT(F=>{T===p.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},E),O.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Mm=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Lm(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=Mm)}},[y,E,n,p]),O.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Lm())},[y,p]),O.useEffect(()=>{const F=()=>b({});return document.addEventListener(M0,F),()=>document.removeEventListener(M0,F)},[]),_.jsx(Ue.div,{...g,ref:R,style:{pointerEvents:A?M?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,U.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,j.onPointerDownCapture)})});Vd.displayName=nT;var sT="DismissableLayerBranch",Kv=O.forwardRef((e,t)=>{const n=O.useContext(Yv),r=O.useRef(null),s=pt(t,r);return O.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),_.jsx(Ue.div,{...e,ref:s})});Kv.displayName=sT;function oT(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=O.useRef(!1),s=O.useRef(()=>{});return O.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let g=function(){qv(rT,n,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=g,t.addEventListener("click",s.current,{once:!0})):g()}else t.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function aT(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=O.useRef(!1);return O.useEffect(()=>{const s=a=>{a.target&&!r.current&&qv(iT,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lm(){const e=new CustomEvent(M0);document.dispatchEvent(e)}function qv(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Xv(s,a):s.dispatchEvent(a)}var lT=Vd,cT=Kv,er=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},uT="Portal",mg=O.forwardRef((e,t)=>{var h;const{container:n,...r}=e,[s,a]=O.useState(!1);er(()=>a(!0),[]);const c=n||s&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?Wv.createPortal(_.jsx(Ue.div,{...r,ref:t}),c):null});mg.displayName=uT;function dT(e,t){return O.useReducer((n,r)=>t[n][r]??n,e)}var Er=e=>{const{present:t,children:n}=e,r=fT(t),s=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),a=pt(r.ref,hT(s));return typeof n=="function"||r.isPresent?O.cloneElement(s,{ref:a}):null};Er.displayName="Presence";function fT(e){const[t,n]=O.useState(),r=O.useRef(null),s=O.useRef(e),a=O.useRef("none"),c=e?"mounted":"unmounted",[h,g]=dT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const p=qc(r.current);a.current=h==="mounted"?p:"none"},[h]),er(()=>{const p=r.current,y=s.current;if(y!==e){const E=a.current,b=qc(p);e?g("MOUNT"):b==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(y&&E!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,g]),er(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,x=b=>{const C=qc(r.current).includes(b.animationName);if(b.target===t&&C&&(g("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},E=b=>{b.target===t&&(a.current=qc(r.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:O.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function qc(e){return(e==null?void 0:e.animationName)||"none"}function hT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gT=_1[" useInsertionEffect ".trim().toString()]||er;function hc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,c]=pT({defaultProp:t,onChange:n}),h=e!==void 0,g=h?e:s;{const y=O.useRef(e!==void 0);O.useEffect(()=>{const x=y.current;x!==h&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,r])}const p=O.useCallback(y=>{var x;if(h){const E=mT(y)?y(e):y;E!==e&&((x=c.current)==null||x.call(c,E))}else a(y)},[h,e,a,c]);return[g,p]}function pT({defaultProp:e,onChange:t}){const[n,r]=O.useState(e),s=O.useRef(n),a=O.useRef(t);return gT(()=>{a.current=t},[t]),O.useEffect(()=>{var c;s.current!==n&&((c=a.current)==null||c.call(a,n),s.current=n)},[n,s]),[n,r,a]}function mT(e){return typeof e=="function"}var wT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yT="VisuallyHidden",Wd=O.forwardRef((e,t)=>_.jsx(Ue.span,{...e,ref:t,style:{...wT,...e.style}}));Wd.displayName=yT;var xT=Wd,wg="ToastProvider",[yg,vT,bT]=Gv("Toast"),[Qv,S7]=Gr("Toast",[bT]),[ET,zd]=Qv(wg),Zv=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:c}=e,[h,g]=O.useState(null),[p,y]=O.useState(0),x=O.useRef(!1),E=O.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wg}\`. Expected non-empty \`string\`.`),_.jsx(yg.Provider,{scope:t,children:_.jsx(ET,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:g,onToastAdd:O.useCallback(()=>y(b=>b+1),[]),onToastRemove:O.useCallback(()=>y(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:E,children:c})})};Zv.displayName=wg;var Jv="ToastViewport",CT=["F8"],L0="toast.viewportPause",B0="toast.viewportResume",e2=O.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=CT,label:s="Notifications ({hotkey})",...a}=e,c=zd(Jv,n),h=vT(n),g=O.useRef(null),p=O.useRef(null),y=O.useRef(null),x=O.useRef(null),E=pt(t,x,c.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=c.toastCount>0;O.useEffect(()=>{const N=I=>{var A;r.length!==0&&r.every(M=>I[M]||I.code===M)&&((A=x.current)==null||A.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),O.useEffect(()=>{const N=g.current,I=x.current;if(R&&N&&I){const T=()=>{if(!c.isClosePausedRef.current){const U=new CustomEvent(L0);I.dispatchEvent(U),c.isClosePausedRef.current=!0}},A=()=>{if(c.isClosePausedRef.current){const U=new CustomEvent(B0);I.dispatchEvent(U),c.isClosePausedRef.current=!1}},M=U=>{!N.contains(U.relatedTarget)&&A()},j=()=>{N.contains(document.activeElement)||A()};return N.addEventListener("focusin",T),N.addEventListener("focusout",M),N.addEventListener("pointermove",T),N.addEventListener("pointerleave",j),window.addEventListener("blur",T),window.addEventListener("focus",A),()=>{N.removeEventListener("focusin",T),N.removeEventListener("focusout",M),N.removeEventListener("pointermove",T),N.removeEventListener("pointerleave",j),window.removeEventListener("blur",T),window.removeEventListener("focus",A)}}},[R,c.isClosePausedRef]);const C=O.useCallback(({tabbingDirection:N})=>{const T=h().map(A=>{const M=A.ref.current,j=[M,...LT(M)];return N==="forwards"?j:j.reverse()});return(N==="forwards"?T.reverse():T).flat()},[h]);return O.useEffect(()=>{const N=x.current;if(N){const I=T=>{var j,U,F;const A=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!A){const H=document.activeElement,z=T.shiftKey;if(T.target===N&&z){(j=p.current)==null||j.focus();return}const Q=C({tabbingDirection:z?"backwards":"forwards"}),ue=Q.findIndex(ie=>ie===H);hh(Q.slice(ue+1))?T.preventDefault():z?(U=p.current)==null||U.focus():(F=y.current)==null||F.focus()}};return N.addEventListener("keydown",I),()=>N.removeEventListener("keydown",I)}},[h,C]),_.jsxs(cT,{ref:g,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&_.jsx(F0,{ref:p,onFocusFromOutsideViewport:()=>{const N=C({tabbingDirection:"forwards"});hh(N)}}),_.jsx(yg.Slot,{scope:n,children:_.jsx(Ue.ol,{tabIndex:-1,...a,ref:E})}),R&&_.jsx(F0,{ref:y,onFocusFromOutsideViewport:()=>{const N=C({tabbingDirection:"backwards"});hh(N)}})]})});e2.displayName=Jv;var t2="ToastFocusProxy",F0=O.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=zd(t2,n);return _.jsx(Wd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:c=>{var p;const h=c.relatedTarget;!((p=a.viewport)!=null&&p.contains(h))&&r()}})});F0.displayName=t2;var gc="Toast",ST="toast.swipeStart",_T="toast.swipeMove",AT="toast.swipeCancel",TT="toast.swipeEnd",n2=O.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...c}=e,[h,g]=hc({prop:r,defaultProp:s??!0,onChange:a,caller:gc});return _.jsx(Er,{present:n||h,children:_.jsx(NT,{open:h,...c,ref:t,onClose:()=>g(!1),onPause:$t(e.onPause),onResume:$t(e.onResume),onSwipeStart:Pe(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,p=>{const{x:y,y:x}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,p=>{const{x:y,y:x}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),g(!1)})})})});n2.displayName=gc;var[IT,RT]=Qv(gc,{onClose(){}}),NT=O.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:c,onEscapeKeyDown:h,onPause:g,onResume:p,onSwipeStart:y,onSwipeMove:x,onSwipeCancel:E,onSwipeEnd:b,...R}=e,C=zd(gc,n),[N,I]=O.useState(null),T=pt(t,ie=>I(ie)),A=O.useRef(null),M=O.useRef(null),j=s||C.duration,U=O.useRef(0),F=O.useRef(j),H=O.useRef(0),{onToastAdd:z,onToastRemove:ee}=C,de=$t(()=>{var G;(N==null?void 0:N.contains(document.activeElement))&&((G=C.viewport)==null||G.focus()),c()}),Q=O.useCallback(ie=>{!ie||ie===1/0||(window.clearTimeout(H.current),U.current=new Date().getTime(),H.current=window.setTimeout(de,ie))},[de]);O.useEffect(()=>{const ie=C.viewport;if(ie){const G=()=>{Q(F.current),p==null||p()},he=()=>{const ce=new Date().getTime()-U.current;F.current=F.current-ce,window.clearTimeout(H.current),g==null||g()};return ie.addEventListener(L0,he),ie.addEventListener(B0,G),()=>{ie.removeEventListener(L0,he),ie.removeEventListener(B0,G)}}},[C.viewport,j,g,p,Q]),O.useEffect(()=>{a&&!C.isClosePausedRef.current&&Q(j)},[a,j,C.isClosePausedRef,Q]),O.useEffect(()=>(z(),()=>ee()),[z,ee]);const ue=O.useMemo(()=>N?c2(N):null,[N]);return C.viewport?_.jsxs(_.Fragment,{children:[ue&&_.jsx(OT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ue}),_.jsx(IT,{scope:n,onClose:de,children:fc.createPortal(_.jsx(yg.ItemSlot,{scope:n,children:_.jsx(lT,{asChild:!0,onEscapeKeyDown:Pe(h,()=>{C.isFocusedToastEscapeKeyDownRef.current||de(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(Ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":C.swipeDirection,...R,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,ie=>{ie.key==="Escape"&&(h==null||h(ie.nativeEvent),ie.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,de()))}),onPointerDown:Pe(e.onPointerDown,ie=>{ie.button===0&&(A.current={x:ie.clientX,y:ie.clientY})}),onPointerMove:Pe(e.onPointerMove,ie=>{if(!A.current)return;const G=ie.clientX-A.current.x,he=ie.clientY-A.current.y,ce=!!M.current,q=["left","right"].includes(C.swipeDirection),J=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,fe=q?J(0,G):0,Re=q?0:J(0,he),ge=ie.pointerType==="touch"?10:2,Ne={x:fe,y:Re},_e={originalEvent:ie,delta:Ne};ce?(M.current=Ne,Qc(_T,x,_e,{discrete:!1})):Bm(Ne,C.swipeDirection,ge)?(M.current=Ne,Qc(ST,y,_e,{discrete:!1}),ie.target.setPointerCapture(ie.pointerId)):(Math.abs(G)>ge||Math.abs(he)>ge)&&(A.current=null)}),onPointerUp:Pe(e.onPointerUp,ie=>{const G=M.current,he=ie.target;if(he.hasPointerCapture(ie.pointerId)&&he.releasePointerCapture(ie.pointerId),M.current=null,A.current=null,G){const ce=ie.currentTarget,q={originalEvent:ie,delta:G};Bm(G,C.swipeDirection,C.swipeThreshold)?Qc(TT,b,q,{discrete:!0}):Qc(AT,E,q,{discrete:!0}),ce.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),OT=e=>{const{__scopeToast:t,children:n,...r}=e,s=zd(gc,t),[a,c]=O.useState(!1),[h,g]=O.useState(!1);return DT(()=>c(!0)),O.useEffect(()=>{const p=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:_.jsx(mg,{asChild:!0,children:_.jsx(Wd,{...r,children:a&&_.jsxs(_.Fragment,{children:[s.label," ",n]})})})},PT="ToastTitle",r2=O.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return _.jsx(Ue.div,{...r,ref:t})});r2.displayName=PT;var kT="ToastDescription",i2=O.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return _.jsx(Ue.div,{...r,ref:t})});i2.displayName=kT;var s2="ToastAction",o2=O.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?_.jsx(l2,{altText:n,asChild:!0,children:_.jsx(xg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${s2}\`. Expected non-empty \`string\`.`),null)});o2.displayName=s2;var a2="ToastClose",xg=O.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=RT(a2,n);return _.jsx(l2,{asChild:!0,children:_.jsx(Ue.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,s.onClose)})})});xg.displayName=a2;var l2=O.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return _.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function c2(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),MT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...c2(r))}}),t}function Qc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Xv(s,a):s.dispatchEvent(a)}var Bm=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function DT(e=()=>{}){const t=$t(e);er(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function MT(e){return e.nodeType===e.ELEMENT_NODE}function LT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var BT=Zv,u2=e2,d2=n2,f2=r2,h2=i2,g2=o2,p2=xg;function m2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=m2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function w2(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=m2(e))&&(r&&(r+=" "),r+=t);return r}const Fm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jm=w2,Hd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return jm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,c=Object.keys(s).map(p=>{const y=n==null?void 0:n[p],x=a==null?void 0:a[p];if(y===null)return null;const E=Fm(y)||Fm(x);return s[p][E]}),h=n&&Object.entries(n).reduce((p,y)=>{let[x,E]=y;return E===void 0||(p[x]=E),p},{}),g=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:x,className:E,...b}=y;return Object.entries(b).every(R=>{let[C,N]=R;return Array.isArray(N)?N.includes({...a,...h}[C]):{...a,...h}[C]===N})?[...p,x,E]:p},[]);return jm(e,c,g,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:c,...h},g)=>O.createElement("svg",{ref:g,...jT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:y2("lucide",s),...h},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=(e,t)=>{const n=O.forwardRef(({className:r,...s},a)=>O.createElement(UT,{ref:a,iconNode:t,className:y2(`lucide-${FT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Vn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Vn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Vn("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Vn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Vn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Vn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Vn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Vn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Vn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Vn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Vn("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Vn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Vn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Vn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bg="-",GT=e=>{const t=YT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const h=c.split(bg);return h[0]===""&&h.length!==1&&h.shift(),E2(h,t)||XT(c)},getConflictingClassGroupIds:(c,h)=>{const g=n[c]||[];return h&&r[c]?[...g,...r[c]]:g}}},E2=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?E2(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(bg);return(c=t.validators.find(({validator:h})=>h(a)))==null?void 0:c.classGroupId},Wm=/^\[(.+)\]$/,XT=e=>{if(Wm.test(e)){const t=Wm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return qT(Object.entries(e.classGroups),n).forEach(([a,c])=>{j0(c,r,a,t)}),r},j0=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:zm(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(KT(s)){j0(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,c])=>{j0(c,zm(t,a),n,r)})})},zm=(e,t)=>{let n=e;return t.split(bg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KT=e=>e.isThemeGetter,qT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,h])=>[t+c,h])):a);return[n,s]}):e,QT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,c)=>{n.set(a,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return s(a,c),c},set(a,c){n.has(a)?n.set(a,c):s(a,c)}}},C2="!",ZT=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,c=h=>{const g=[];let p=0,y=0,x;for(let N=0;N<h.length;N++){let I=h[N];if(p===0){if(I===s&&(r||h.slice(N,N+a)===t)){g.push(h.slice(y,N)),y=N+a;continue}if(I==="/"){x=N;continue}}I==="["?p++:I==="]"&&p--}const E=g.length===0?h:h.substring(y),b=E.startsWith(C2),R=b?E.substring(1):E,C=x&&x>y?x-y:void 0;return{modifiers:g,hasImportantModifier:b,baseClassName:R,maybePostfixModifierPosition:C}};return n?h=>n({className:h,parseClassName:c}):c},JT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},e4=e=>({cache:QT(e.cacheSize),parseClassName:ZT(e),...GT(e)}),t4=/\s+/,n4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],c=e.trim().split(t4);let h="";for(let g=c.length-1;g>=0;g-=1){const p=c[g],{modifiers:y,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:b}=n(p);let R=!!b,C=r(R?E.substring(0,b):E);if(!C){if(!R){h=p+(h.length>0?" "+h:h);continue}if(C=r(E),!C){h=p+(h.length>0?" "+h:h);continue}R=!1}const N=JT(y).join(":"),I=x?N+C2:N,T=I+C;if(a.includes(T))continue;a.push(T);const A=s(C,R);for(let M=0;M<A.length;++M){const j=A[M];a.push(I+j)}h=p+(h.length>0?" "+h:h)}return h};function r4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=S2(t))&&(r&&(r+=" "),r+=n);return r}const S2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=S2(e[r]))&&(n&&(n+=" "),n+=t);return n};function i4(e,...t){let n,r,s,a=c;function c(g){const p=t.reduce((y,x)=>x(y),e());return n=e4(p),r=n.cache.get,s=n.cache.set,a=h,h(g)}function h(g){const p=r(g);if(p)return p;const y=n4(g,n);return s(g,y),y}return function(){return a(r4.apply(null,arguments))}}const dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},_2=/^\[(?:([a-z-]+):)?(.+)\]$/i,s4=/^\d+\/\d+$/,o4=new Set(["px","full","screen"]),a4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=e=>ra(e)||o4.has(e)||s4.test(e),Hi=e=>Da(e,"length",x4),ra=e=>!!e&&!Number.isNaN(Number(e)),gh=e=>Da(e,"number",ra),ol=e=>!!e&&Number.isInteger(Number(e)),f4=e=>e.endsWith("%")&&ra(e.slice(0,-1)),Me=e=>_2.test(e),$i=e=>a4.test(e),h4=new Set(["length","size","percentage"]),g4=e=>Da(e,h4,A2),p4=e=>Da(e,"position",A2),m4=new Set(["image","url"]),w4=e=>Da(e,m4,b4),y4=e=>Da(e,"",v4),al=()=>!0,Da=(e,t,n)=>{const r=_2.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},x4=e=>l4.test(e)&&!c4.test(e),A2=()=>!1,v4=e=>u4.test(e),b4=e=>d4.test(e),E4=()=>{const e=dt("colors"),t=dt("spacing"),n=dt("blur"),r=dt("brightness"),s=dt("borderColor"),a=dt("borderRadius"),c=dt("borderSpacing"),h=dt("borderWidth"),g=dt("contrast"),p=dt("grayscale"),y=dt("hueRotate"),x=dt("invert"),E=dt("gap"),b=dt("gradientColorStops"),R=dt("gradientColorStopPositions"),C=dt("inset"),N=dt("margin"),I=dt("opacity"),T=dt("padding"),A=dt("saturate"),M=dt("scale"),j=dt("sepia"),U=dt("skew"),F=dt("space"),H=dt("translate"),z=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto",Me,t],Q=()=>[Me,t],ue=()=>["",xi,Hi],ie=()=>["auto",ra,Me],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Me],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Re=()=>[ra,Me];return{cacheSize:500,separator:":",theme:{colors:[al],spacing:[xi,Hi],blur:["none","",$i,Me],brightness:Re(),borderColor:[e],borderRadius:["none","","full",$i,Me],borderSpacing:Q(),borderWidth:ue(),contrast:Re(),grayscale:J(),hueRotate:Re(),invert:J(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[f4,Hi],inset:de(),margin:de(),opacity:Re(),padding:Q(),saturate:Re(),scale:Re(),sepia:J(),skew:Re(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Me]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ol,Me]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",ol,Me]}],"grid-cols":[{"grid-cols":[al]}],"col-start-end":[{col:["auto",{span:["full",ol,Me]},Me]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[al]}],"row-start-end":[{row:["auto",{span:[ol,Me]},Me]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,Hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gh]}],"font-family":[{font:[al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",ra,gh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,Hi]}],"underline-offset":[{"underline-offset":["auto",xi,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),p4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},w4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:he()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[xi,Me]}],"outline-w":[{outline:[xi,Hi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[xi,Hi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$i,y4]}],"shadow-color":[{shadow:[al]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",$i,Me]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[A]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:Re()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:Re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ol,Me]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xi,Hi,gh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C4=i4(E4);function Ke(...e){return C4(w2(e))}const S4=BT,T2=O.forwardRef(({className:e,...t},n)=>_.jsx(u2,{ref:n,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));T2.displayName=u2.displayName;const _4=Hd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),I2=O.forwardRef(({className:e,variant:t,...n},r)=>_.jsx(d2,{ref:r,className:Ke(_4({variant:t}),e),...n}));I2.displayName=d2.displayName;const A4=O.forwardRef(({className:e,...t},n)=>_.jsx(g2,{ref:n,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));A4.displayName=g2.displayName;const R2=O.forwardRef(({className:e,...t},n)=>_.jsx(p2,{ref:n,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:_.jsx(vg,{className:"h-4 w-4"})}));R2.displayName=p2.displayName;const N2=O.forwardRef(({className:e,...t},n)=>_.jsx(f2,{ref:n,className:Ke("text-sm font-semibold",e),...t}));N2.displayName=f2.displayName;const O2=O.forwardRef(({className:e,...t},n)=>_.jsx(h2,{ref:n,className:Ke("text-sm opacity-90",e),...t}));O2.displayName=h2.displayName;function T4(){const{toasts:e}=$3();return _.jsxs(S4,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return _.jsxs(I2,{...a,children:[_.jsxs("div",{className:"grid gap-1",children:[n&&_.jsx(N2,{children:n}),r&&_.jsx(O2,{children:r})]}),s,_.jsx(R2,{})]},t)}),_.jsx(T2,{})]})}var Hm=["light","dark"],I4="(prefers-color-scheme: dark)",R4=O.createContext(void 0),N4={setTheme:e=>{},themes:[]},O4=()=>{var e;return(e=O.useContext(R4))!=null?e:N4};O.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:c,attrs:h,nonce:g})=>{let p=a==="system",y=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${h.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,x=s?Hm.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(R,C=!1,N=!0)=>{let I=c?c[R]:R,T=C?R+"|| ''":`'${I}'`,A="";return s&&N&&!C&&Hm.includes(R)&&(A+=`d.style.colorScheme = '${R}';`),n==="class"?C||I?A+=`c.add(${T})`:A+="null":I&&(A+=`d[s](n,${T})`),A},b=e?`!function(){${y}${E(e)}}()`:r?`!function(){try{${y}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${p})){var t='${I4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${E(c?"x[e]":"e",!0)}}${p?"":"else{"+E(a,!1,!1)+"}"}${x}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${E(c?"x[e]":"e",!0)}}else{${E(a,!1,!1)};}${x}}catch(t){}}();`;return O.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:b}})});var P4=e=>{switch(e){case"success":return M4;case"info":return B4;case"warning":return L4;case"error":return F4;default:return null}},k4=Array(12).fill(0),D4=({visible:e,className:t})=>le.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},le.createElement("div",{className:"sonner-spinner"},k4.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),M4=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L4=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B4=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F4=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j4=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U4=()=>{let[e,t]=le.useState(document.hidden);return le.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},U0=1,V4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:U0++,a=this.toasts.find(h=>h.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(h=>h.id===s?(this.publish({...h,...e,id:s,title:n}),{...h,...e,id:s,dismissible:c,title:n}):h):this.addToast({title:n,...r,dismissible:c,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,c=r.then(async g=>{if(a=["resolve",g],le.isValidElement(g))s=!1,this.create({id:n,type:"default",message:g});else if(z4(g)&&!g.ok){s=!1;let p=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description;this.create({id:n,type:"error",message:p,description:y})}else if(t.success!==void 0){s=!1;let p=typeof t.success=="function"?await t.success(g):t.success,y=typeof t.description=="function"?await t.description(g):t.description;this.create({id:n,type:"success",message:p,description:y})}}).catch(async g=>{if(a=["reject",g],t.error!==void 0){s=!1;let p=typeof t.error=="function"?await t.error(g):t.error,y=typeof t.description=="function"?await t.description(g):t.description;this.create({id:n,type:"error",message:p,description:y})}}).finally(()=>{var g;s&&(this.dismiss(n),n=void 0),(g=t.finally)==null||g.call(t)}),h=()=>new Promise((g,p)=>c.then(()=>a[0]==="reject"?p(a[1]):g(a[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||U0++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dn=new V4,W4=(e,t)=>{let n=(t==null?void 0:t.id)||U0++;return Dn.addToast({title:e,...t,id:n}),n},z4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",H4=W4,$4=()=>Dn.toasts,G4=()=>Dn.getActiveToasts(),fr=Object.assign(H4,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:$4,getToasts:G4});function X4(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}X4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zc(e){return e.label!==void 0}var Y4=3,K4="32px",q4="16px",$m=4e3,Q4=356,Z4=14,J4=20,e8=200;function Or(...e){return e.filter(Boolean).join(" ")}function t8(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var n8=e=>{var t,n,r,s,a,c,h,g,p,y,x;let{invert:E,toast:b,unstyled:R,interacting:C,setHeights:N,visibleToasts:I,heights:T,index:A,toasts:M,expanded:j,removeToast:U,defaultRichColors:F,closeButton:H,style:z,cancelButtonStyle:ee,actionButtonStyle:de,className:Q="",descriptionClassName:ue="",duration:ie,position:G,gap:he,loadingIcon:ce,expandByDefault:q,classNames:J,icons:fe,closeButtonAriaLabel:Re="Close toast",pauseWhenPageIsHidden:ge}=e,[Ne,_e]=le.useState(null),[mt,pe]=le.useState(null),[He,ct]=le.useState(!1),[Tn,Wn]=le.useState(!1),[Et,Sr]=le.useState(!1),[Le,_r]=le.useState(!1),[In,Kr]=le.useState(!1),[Dt,qe]=le.useState(0),[Be,Is]=le.useState(0),me=le.useRef(b.duration||ie||$m),Rs=le.useRef(null),qr=le.useRef(null),Ar=A===0,Va=A+1<=I,wt=b.type,wi=b.dismissible!==!1,Qr=b.className||"",Jt=b.descriptionClassName||"",Ns=le.useMemo(()=>T.findIndex(Ce=>Ce.toastId===b.id)||0,[T,b.id]),po=le.useMemo(()=>{var Ce;return(Ce=b.closeButton)!=null?Ce:H},[b.closeButton,H]),Ec=le.useMemo(()=>b.duration||ie||$m,[b.duration,ie]),yt=le.useRef(0),ae=le.useRef(0),It=le.useRef(0),$e=le.useRef(null),[xt,Os]=G.split("-"),mo=le.useMemo(()=>T.reduce((Ce,Qe,De)=>De>=Ns?Ce:Ce+Qe.height,0),[T,Ns]),Wa=U4(),Ge=b.invert||E,Tr=wt==="loading";ae.current=le.useMemo(()=>Ns*he+mo,[Ns,mo]),le.useEffect(()=>{me.current=Ec},[Ec]),le.useEffect(()=>{ct(!0)},[]),le.useEffect(()=>{let Ce=qr.current;if(Ce){let Qe=Ce.getBoundingClientRect().height;return Is(Qe),N(De=>[{toastId:b.id,height:Qe,position:b.position},...De]),()=>N(De=>De.filter(Yt=>Yt.toastId!==b.id))}},[N,b.id]),le.useLayoutEffect(()=>{if(!He)return;let Ce=qr.current,Qe=Ce.style.height;Ce.style.height="auto";let De=Ce.getBoundingClientRect().height;Ce.style.height=Qe,Is(De),N(Yt=>Yt.find(cn=>cn.toastId===b.id)?Yt.map(cn=>cn.toastId===b.id?{...cn,height:De}:cn):[{toastId:b.id,height:De,position:b.position},...Yt])},[He,b.title,b.description,N,b.id]);let Ir=le.useCallback(()=>{Wn(!0),qe(ae.current),N(Ce=>Ce.filter(Qe=>Qe.toastId!==b.id)),setTimeout(()=>{U(b)},e8)},[b,U,N,ae]);le.useEffect(()=>{if(b.promise&&wt==="loading"||b.duration===1/0||b.type==="loading")return;let Ce;return j||C||ge&&Wa?(()=>{if(It.current<yt.current){let Qe=new Date().getTime()-yt.current;me.current=me.current-Qe}It.current=new Date().getTime()})():me.current!==1/0&&(yt.current=new Date().getTime(),Ce=setTimeout(()=>{var Qe;(Qe=b.onAutoClose)==null||Qe.call(b,b),Ir()},me.current)),()=>clearTimeout(Ce)},[j,C,b,wt,ge,Wa,Ir]),le.useEffect(()=>{b.delete&&Ir()},[Ir,b.delete]);function Cc(){var Ce,Qe,De;return fe!=null&&fe.loading?le.createElement("div",{className:Or(J==null?void 0:J.loader,(Ce=b==null?void 0:b.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":wt==="loading"},fe.loading):ce?le.createElement("div",{className:Or(J==null?void 0:J.loader,(Qe=b==null?void 0:b.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":wt==="loading"},ce):le.createElement(D4,{className:Or(J==null?void 0:J.loader,(De=b==null?void 0:b.classNames)==null?void 0:De.loader),visible:wt==="loading"})}return le.createElement("li",{tabIndex:0,ref:qr,className:Or(Q,Qr,J==null?void 0:J.toast,(t=b==null?void 0:b.classNames)==null?void 0:t.toast,J==null?void 0:J.default,J==null?void 0:J[wt],(n=b==null?void 0:b.classNames)==null?void 0:n[wt]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:F,"data-styled":!(b.jsx||b.unstyled||R),"data-mounted":He,"data-promise":!!b.promise,"data-swiped":In,"data-removed":Tn,"data-visible":Va,"data-y-position":xt,"data-x-position":Os,"data-index":A,"data-front":Ar,"data-swiping":Et,"data-dismissible":wi,"data-type":wt,"data-invert":Ge,"data-swipe-out":Le,"data-swipe-direction":mt,"data-expanded":!!(j||q&&He),style:{"--index":A,"--toasts-before":A,"--z-index":M.length-A,"--offset":`${Tn?Dt:ae.current}px`,"--initial-height":q?"auto":`${Be}px`,...z,...b.style},onDragEnd:()=>{Sr(!1),_e(null),$e.current=null},onPointerDown:Ce=>{Tr||!wi||(Rs.current=new Date,qe(ae.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Sr(!0),$e.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,Qe,De,Yt;if(Le||!wi)return;$e.current=null;let cn=Number(((Ce=qr.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number(((Qe=qr.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yi=new Date().getTime()-((De=Rs.current)==null?void 0:De.getTime()),Ut=Ne==="x"?cn:jt,ir=Math.abs(Ut)/yi;if(Math.abs(Ut)>=J4||ir>.11){qe(ae.current),(Yt=b.onDismiss)==null||Yt.call(b,b),pe(Ne==="x"?cn>0?"right":"left":jt>0?"down":"up"),Ir(),_r(!0),Kr(!1);return}Sr(!1),_e(null)},onPointerMove:Ce=>{var Qe,De,Yt,cn;if(!$e.current||!wi||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let jt=Ce.clientY-$e.current.y,yi=Ce.clientX-$e.current.x,Ut=(De=e.swipeDirections)!=null?De:t8(G);!Ne&&(Math.abs(yi)>1||Math.abs(jt)>1)&&_e(Math.abs(yi)>Math.abs(jt)?"x":"y");let ir={x:0,y:0};Ne==="y"?(Ut.includes("top")||Ut.includes("bottom"))&&(Ut.includes("top")&&jt<0||Ut.includes("bottom")&&jt>0)&&(ir.y=jt):Ne==="x"&&(Ut.includes("left")||Ut.includes("right"))&&(Ut.includes("left")&&yi<0||Ut.includes("right")&&yi>0)&&(ir.x=yi),(Math.abs(ir.x)>0||Math.abs(ir.y)>0)&&Kr(!0),(Yt=qr.current)==null||Yt.style.setProperty("--swipe-amount-x",`${ir.x}px`),(cn=qr.current)==null||cn.style.setProperty("--swipe-amount-y",`${ir.y}px`)}},po&&!b.jsx?le.createElement("button",{"aria-label":Re,"data-disabled":Tr,"data-close-button":!0,onClick:Tr||!wi?()=>{}:()=>{var Ce;Ir(),(Ce=b.onDismiss)==null||Ce.call(b,b)},className:Or(J==null?void 0:J.closeButton,(s=b==null?void 0:b.classNames)==null?void 0:s.closeButton)},(a=fe==null?void 0:fe.close)!=null?a:j4):null,b.jsx||O.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:le.createElement(le.Fragment,null,wt||b.icon||b.promise?le.createElement("div",{"data-icon":"",className:Or(J==null?void 0:J.icon,(c=b==null?void 0:b.classNames)==null?void 0:c.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Cc():null,b.type!=="loading"?b.icon||(fe==null?void 0:fe[wt])||P4(wt):null):null,le.createElement("div",{"data-content":"",className:Or(J==null?void 0:J.content,(h=b==null?void 0:b.classNames)==null?void 0:h.content)},le.createElement("div",{"data-title":"",className:Or(J==null?void 0:J.title,(g=b==null?void 0:b.classNames)==null?void 0:g.title)},typeof b.title=="function"?b.title():b.title),b.description?le.createElement("div",{"data-description":"",className:Or(ue,Jt,J==null?void 0:J.description,(p=b==null?void 0:b.classNames)==null?void 0:p.description)},typeof b.description=="function"?b.description():b.description):null),O.isValidElement(b.cancel)?b.cancel:b.cancel&&Zc(b.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||ee,onClick:Ce=>{var Qe,De;Zc(b.cancel)&&wi&&((De=(Qe=b.cancel).onClick)==null||De.call(Qe,Ce),Ir())},className:Or(J==null?void 0:J.cancelButton,(y=b==null?void 0:b.classNames)==null?void 0:y.cancelButton)},b.cancel.label):null,O.isValidElement(b.action)?b.action:b.action&&Zc(b.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||de,onClick:Ce=>{var Qe,De;Zc(b.action)&&((De=(Qe=b.action).onClick)==null||De.call(Qe,Ce),!Ce.defaultPrevented&&Ir())},className:Or(J==null?void 0:J.actionButton,(x=b==null?void 0:b.classNames)==null?void 0:x.actionButton)},b.action.label):null))};function Gm(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function r8(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,c=a?"--mobile-offset":"--offset",h=a?q4:K4;function g(p){["top","right","bottom","left"].forEach(y=>{n[`${c}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?g(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${c}-${p}`]=h:n[`${c}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):g(h)}),n}var i8=O.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:c,className:h,offset:g,mobileOffset:p,theme:y="light",richColors:x,duration:E,style:b,visibleToasts:R=Y4,toastOptions:C,dir:N=Gm(),gap:I=Z4,loadingIcon:T,icons:A,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:j}=e,[U,F]=le.useState([]),H=le.useMemo(()=>Array.from(new Set([r].concat(U.filter(ge=>ge.position).map(ge=>ge.position)))),[U,r]),[z,ee]=le.useState([]),[de,Q]=le.useState(!1),[ue,ie]=le.useState(!1),[G,he]=le.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=le.useRef(null),q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=le.useRef(null),fe=le.useRef(!1),Re=le.useCallback(ge=>{F(Ne=>{var _e;return(_e=Ne.find(mt=>mt.id===ge.id))!=null&&_e.delete||Dn.dismiss(ge.id),Ne.filter(({id:mt})=>mt!==ge.id)})},[]);return le.useEffect(()=>Dn.subscribe(ge=>{if(ge.dismiss){F(Ne=>Ne.map(_e=>_e.id===ge.id?{..._e,delete:!0}:_e));return}setTimeout(()=>{Wv.flushSync(()=>{F(Ne=>{let _e=Ne.findIndex(mt=>mt.id===ge.id);return _e!==-1?[...Ne.slice(0,_e),{...Ne[_e],...ge},...Ne.slice(_e+1)]:[ge,...Ne]})})})}),[]),le.useEffect(()=>{if(y!=="system"){he(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;let ge=window.matchMedia("(prefers-color-scheme: dark)");try{ge.addEventListener("change",({matches:Ne})=>{he(Ne?"dark":"light")})}catch{ge.addListener(({matches:_e})=>{try{he(_e?"dark":"light")}catch(mt){console.error(mt)}})}},[y]),le.useEffect(()=>{U.length<=1&&Q(!1)},[U]),le.useEffect(()=>{let ge=Ne=>{var _e,mt;s.every(pe=>Ne[pe]||Ne.code===pe)&&(Q(!0),(_e=ce.current)==null||_e.focus()),Ne.code==="Escape"&&(document.activeElement===ce.current||(mt=ce.current)!=null&&mt.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",ge),()=>document.removeEventListener("keydown",ge)},[s]),le.useEffect(()=>{if(ce.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,fe.current=!1)}},[ce.current]),le.createElement("section",{ref:t,"aria-label":`${M} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((ge,Ne)=>{var _e;let[mt,pe]=ge.split("-");return U.length?le.createElement("ol",{key:ge,dir:N==="auto"?Gm():N,tabIndex:-1,ref:ce,className:h,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":mt,"data-lifted":de&&U.length>1&&!a,"data-x-position":pe,style:{"--front-toast-height":`${((_e=z[0])==null?void 0:_e.height)||0}px`,"--width":`${Q4}px`,"--gap":`${I}px`,...b,...r8(g,p)},onBlur:He=>{fe.current&&!He.currentTarget.contains(He.relatedTarget)&&(fe.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:He=>{He.target instanceof HTMLElement&&He.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,J.current=He.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{ue||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:He=>{He.target instanceof HTMLElement&&He.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},U.filter(He=>!He.position&&Ne===0||He.position===ge).map((He,ct)=>{var Tn,Wn;return le.createElement(n8,{key:He.id,icons:A,index:ct,toast:He,defaultRichColors:x,duration:(Tn=C==null?void 0:C.duration)!=null?Tn:E,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:n,visibleToasts:R,closeButton:(Wn=C==null?void 0:C.closeButton)!=null?Wn:c,interacting:ue,position:ge,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:Re,toasts:U.filter(Et=>Et.position==He.position),heights:z.filter(Et=>Et.position==He.position),setHeights:ee,expandByDefault:a,gap:I,loadingIcon:T,expanded:de,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const s8=({...e})=>{const{theme:t="system"}=O4();return _.jsx(i8,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var o8=_1[" useId ".trim().toString()]||(()=>{}),a8=0;function Al(e){const[t,n]=O.useState(o8());return er(()=>{e||n(r=>r??String(a8++))},[e]),e||(t?`radix-${t}`:"")}const l8=["top","right","bottom","left"],vs=Math.min,Xn=Math.max,od=Math.round,Jc=Math.floor,fi=e=>({x:e,y:e}),c8={left:"right",right:"left",bottom:"top",top:"bottom"},u8={start:"end",end:"start"};function V0(e,t,n){return Xn(e,vs(t,n))}function Di(e,t){return typeof e=="function"?e(t):e}function Mi(e){return e.split("-")[0]}function Ma(e){return e.split("-")[1]}function Eg(e){return e==="x"?"y":"x"}function Cg(e){return e==="y"?"height":"width"}const d8=new Set(["top","bottom"]);function ci(e){return d8.has(Mi(e))?"y":"x"}function Sg(e){return Eg(ci(e))}function f8(e,t,n){n===void 0&&(n=!1);const r=Ma(e),s=Sg(e),a=Cg(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=ad(c)),[c,ad(c)]}function h8(e){const t=ad(e);return[W0(e),t,W0(t)]}function W0(e){return e.replace(/start|end/g,t=>u8[t])}const Xm=["left","right"],Ym=["right","left"],g8=["top","bottom"],p8=["bottom","top"];function m8(e,t,n){switch(e){case"top":case"bottom":return n?t?Ym:Xm:t?Xm:Ym;case"left":case"right":return t?g8:p8;default:return[]}}function w8(e,t,n,r){const s=Ma(e);let a=m8(Mi(e),n==="start",r);return s&&(a=a.map(c=>c+"-"+s),t&&(a=a.concat(a.map(W0)))),a}function ad(e){return e.replace(/left|right|bottom|top/g,t=>c8[t])}function y8(e){return{top:0,right:0,bottom:0,left:0,...e}}function P2(e){return typeof e!="number"?y8(e):{top:e,right:e,bottom:e,left:e}}function ld(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Km(e,t,n){let{reference:r,floating:s}=e;const a=ci(t),c=Sg(t),h=Cg(c),g=Mi(t),p=a==="y",y=r.x+r.width/2-s.width/2,x=r.y+r.height/2-s.height/2,E=r[h]/2-s[h]/2;let b;switch(g){case"top":b={x:y,y:r.y-s.height};break;case"bottom":b={x:y,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:x};break;case"left":b={x:r.x-s.width,y:x};break;default:b={x:r.x,y:r.y}}switch(Ma(t)){case"start":b[c]-=E*(n&&p?-1:1);break;case"end":b[c]+=E*(n&&p?-1:1);break}return b}const x8=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:c}=n,h=a.filter(Boolean),g=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:y,y:x}=Km(p,r,g),E=r,b={},R=0;for(let C=0;C<h.length;C++){const{name:N,fn:I}=h[C],{x:T,y:A,data:M,reset:j}=await I({x:y,y:x,initialPlacement:r,placement:E,strategy:s,middlewareData:b,rects:p,platform:c,elements:{reference:e,floating:t}});y=T??y,x=A??x,b={...b,[N]:{...b[N],...M}},j&&R<=50&&(R++,typeof j=="object"&&(j.placement&&(E=j.placement),j.rects&&(p=j.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:y,y:x}=Km(p,E,g)),C=-1)}return{x:y,y:x,placement:E,strategy:s,middlewareData:b}};async function Yl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:c,elements:h,strategy:g}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:E=!1,padding:b=0}=Di(t,e),R=P2(b),N=h[E?x==="floating"?"reference":"floating":x],I=ld(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(N)))==null||n?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:y,strategy:g})),T=x==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),M=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},j=ld(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:T,offsetParent:A,strategy:g}):T);return{top:(I.top-j.top+R.top)/M.y,bottom:(j.bottom-I.bottom+R.bottom)/M.y,left:(I.left-j.left+R.left)/M.x,right:(j.right-I.right+R.right)/M.x}}const v8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:c,elements:h,middlewareData:g}=t,{element:p,padding:y=0}=Di(e,t)||{};if(p==null)return{};const x=P2(y),E={x:n,y:r},b=Sg(s),R=Cg(b),C=await c.getDimensions(p),N=b==="y",I=N?"top":"left",T=N?"bottom":"right",A=N?"clientHeight":"clientWidth",M=a.reference[R]+a.reference[b]-E[b]-a.floating[R],j=E[b]-a.reference[b],U=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let F=U?U[A]:0;(!F||!await(c.isElement==null?void 0:c.isElement(U)))&&(F=h.floating[A]||a.floating[R]);const H=M/2-j/2,z=F/2-C[R]/2-1,ee=vs(x[I],z),de=vs(x[T],z),Q=ee,ue=F-C[R]-de,ie=F/2-C[R]/2+H,G=V0(Q,ie,ue),he=!g.arrow&&Ma(s)!=null&&ie!==G&&a.reference[R]/2-(ie<Q?ee:de)-C[R]/2<0,ce=he?ie<Q?ie-Q:ie-ue:0;return{[b]:E[b]+ce,data:{[b]:G,centerOffset:ie-G-ce,...he&&{alignmentOffset:ce}},reset:he}}}),b8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:c,initialPlacement:h,platform:g,elements:p}=t,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:E,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...N}=Di(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const I=Mi(s),T=ci(h),A=Mi(h)===h,M=await(g.isRTL==null?void 0:g.isRTL(p.floating)),j=E||(A||!C?[ad(h)]:h8(h)),U=R!=="none";!E&&U&&j.push(...w8(h,C,R,M));const F=[h,...j],H=await Yl(t,N),z=[];let ee=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&z.push(H[I]),x){const ie=f8(s,c,M);z.push(H[ie[0]],H[ie[1]])}if(ee=[...ee,{placement:s,overflows:z}],!z.every(ie=>ie<=0)){var de,Q;const ie=(((de=a.flip)==null?void 0:de.index)||0)+1,G=F[ie];if(G&&(!(x==="alignment"?T!==ci(G):!1)||ee.every(q=>q.overflows[0]>0&&ci(q.placement)===T)))return{data:{index:ie,overflows:ee},reset:{placement:G}};let he=(Q=ee.filter(ce=>ce.overflows[0]<=0).sort((ce,q)=>ce.overflows[1]-q.overflows[1])[0])==null?void 0:Q.placement;if(!he)switch(b){case"bestFit":{var ue;const ce=(ue=ee.filter(q=>{if(U){const J=ci(q.placement);return J===T||J==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(J=>J>0).reduce((J,fe)=>J+fe,0)]).sort((q,J)=>q[1]-J[1])[0])==null?void 0:ue[0];ce&&(he=ce);break}case"initialPlacement":he=h;break}if(s!==he)return{reset:{placement:he}}}return{}}}};function qm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qm(e){return l8.some(t=>e[t]>=0)}const E8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Di(e,t);switch(r){case"referenceHidden":{const a=await Yl(t,{...s,elementContext:"reference"}),c=qm(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Qm(c)}}}case"escaped":{const a=await Yl(t,{...s,altBoundary:!0}),c=qm(a,n.floating);return{data:{escapedOffsets:c,escaped:Qm(c)}}}default:return{}}}}},k2=new Set(["left","top"]);async function C8(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=Mi(n),h=Ma(n),g=ci(n)==="y",p=k2.has(c)?-1:1,y=a&&g?-1:1,x=Di(t,e);let{mainAxis:E,crossAxis:b,alignmentAxis:R}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof R=="number"&&(b=h==="end"?R*-1:R),g?{x:b*y,y:E*p}:{x:E*p,y:b*y}}const S8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:c,middlewareData:h}=t,g=await C8(t,e);return c===((n=h.offset)==null?void 0:n.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:s+g.x,y:a+g.y,data:{...g,placement:c}}}}},_8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:N=>{let{x:I,y:T}=N;return{x:I,y:T}}},...g}=Di(e,t),p={x:n,y:r},y=await Yl(t,g),x=ci(Mi(s)),E=Eg(x);let b=p[E],R=p[x];if(a){const N=E==="y"?"top":"left",I=E==="y"?"bottom":"right",T=b+y[N],A=b-y[I];b=V0(T,b,A)}if(c){const N=x==="y"?"top":"left",I=x==="y"?"bottom":"right",T=R+y[N],A=R-y[I];R=V0(T,R,A)}const C=h.fn({...t,[E]:b,[x]:R});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[E]:a,[x]:c}}}}}},A8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:c}=t,{offset:h=0,mainAxis:g=!0,crossAxis:p=!0}=Di(e,t),y={x:n,y:r},x=ci(s),E=Eg(x);let b=y[E],R=y[x];const C=Di(h,t),N=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(g){const A=E==="y"?"height":"width",M=a.reference[E]-a.floating[A]+N.mainAxis,j=a.reference[E]+a.reference[A]-N.mainAxis;b<M?b=M:b>j&&(b=j)}if(p){var I,T;const A=E==="y"?"width":"height",M=k2.has(Mi(s)),j=a.reference[x]-a.floating[A]+(M&&((I=c.offset)==null?void 0:I[x])||0)+(M?0:N.crossAxis),U=a.reference[x]+a.reference[A]+(M?0:((T=c.offset)==null?void 0:T[x])||0)-(M?N.crossAxis:0);R<j?R=j:R>U&&(R=U)}return{[E]:b,[x]:R}}}},T8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:c,elements:h}=t,{apply:g=()=>{},...p}=Di(e,t),y=await Yl(t,p),x=Mi(s),E=Ma(s),b=ci(s)==="y",{width:R,height:C}=a.floating;let N,I;x==="top"||x==="bottom"?(N=x,I=E===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(I=x,N=E==="end"?"top":"bottom");const T=C-y.top-y.bottom,A=R-y.left-y.right,M=vs(C-y[N],T),j=vs(R-y[I],A),U=!t.middlewareData.shift;let F=M,H=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(H=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=T),U&&!E){const ee=Xn(y.left,0),de=Xn(y.right,0),Q=Xn(y.top,0),ue=Xn(y.bottom,0);b?H=R-2*(ee!==0||de!==0?ee+de:Xn(y.left,y.right)):F=C-2*(Q!==0||ue!==0?Q+ue:Xn(y.top,y.bottom))}await g({...t,availableWidth:H,availableHeight:F});const z=await c.getDimensions(h.floating);return R!==z.width||C!==z.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function La(e){return D2(e)?(e.nodeName||"").toLowerCase():"#document"}function Zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gi(e){var t;return(t=(D2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D2(e){return Gd()?e instanceof Node||e instanceof Zn(e).Node:!1}function Hr(e){return Gd()?e instanceof Element||e instanceof Zn(e).Element:!1}function hi(e){return Gd()?e instanceof HTMLElement||e instanceof Zn(e).HTMLElement:!1}function Zm(e){return!Gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zn(e).ShadowRoot}const I8=new Set(["inline","contents"]);function pc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!I8.has(s)}const R8=new Set(["table","td","th"]);function N8(e){return R8.has(La(e))}const O8=[":popover-open",":modal"];function Xd(e){return O8.some(t=>{try{return e.matches(t)}catch{return!1}})}const P8=["transform","translate","scale","rotate","perspective"],k8=["transform","translate","scale","rotate","perspective","filter"],D8=["paint","layout","strict","content"];function _g(e){const t=Ag(),n=Hr(e)?$r(e):e;return P8.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||k8.some(r=>(n.willChange||"").includes(r))||D8.some(r=>(n.contain||"").includes(r))}function M8(e){let t=bs(e);for(;hi(t)&&!Ea(t);){if(_g(t))return t;if(Xd(t))return null;t=bs(t)}return null}function Ag(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L8=new Set(["html","body","#document"]);function Ea(e){return L8.has(La(e))}function $r(e){return Zn(e).getComputedStyle(e)}function Yd(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bs(e){if(La(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zm(e)&&e.host||gi(e);return Zm(t)?t.host:t}function M2(e){const t=bs(e);return Ea(t)?e.ownerDocument?e.ownerDocument.body:e.body:hi(t)&&pc(t)?t:M2(t)}function Kl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=M2(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),c=Zn(s);if(a){const h=z0(c);return t.concat(c,c.visualViewport||[],pc(s)?s:[],h&&n?Kl(h):[])}return t.concat(s,Kl(s,[],n))}function z0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L2(e){const t=$r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=hi(e),a=s?e.offsetWidth:n,c=s?e.offsetHeight:r,h=od(n)!==a||od(r)!==c;return h&&(n=a,r=c),{width:n,height:r,$:h}}function Tg(e){return Hr(e)?e:e.contextElement}function ia(e){const t=Tg(e);if(!hi(t))return fi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=L2(t);let c=(a?od(n.width):n.width)/r,h=(a?od(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const B8=fi(0);function B2(e){const t=Zn(e);return!Ag()||!t.visualViewport?B8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function F8(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zn(e)?!1:t}function co(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Tg(e);let c=fi(1);t&&(r?Hr(r)&&(c=ia(r)):c=ia(e));const h=F8(a,n,r)?B2(a):fi(0);let g=(s.left+h.x)/c.x,p=(s.top+h.y)/c.y,y=s.width/c.x,x=s.height/c.y;if(a){const E=Zn(a),b=r&&Hr(r)?Zn(r):r;let R=E,C=z0(R);for(;C&&r&&b!==R;){const N=ia(C),I=C.getBoundingClientRect(),T=$r(C),A=I.left+(C.clientLeft+parseFloat(T.paddingLeft))*N.x,M=I.top+(C.clientTop+parseFloat(T.paddingTop))*N.y;g*=N.x,p*=N.y,y*=N.x,x*=N.y,g+=A,p+=M,R=Zn(C),C=z0(R)}}return ld({width:y,height:x,x:g,y:p})}function Ig(e,t){const n=Yd(e).scrollLeft;return t?t.left+n:co(gi(e)).left+n}function F2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ig(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function j8(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",c=gi(r),h=t?Xd(t.floating):!1;if(r===c||h&&a)return n;let g={scrollLeft:0,scrollTop:0},p=fi(1);const y=fi(0),x=hi(r);if((x||!x&&!a)&&((La(r)!=="body"||pc(c))&&(g=Yd(r)),hi(r))){const b=co(r);p=ia(r),y.x=b.x+r.clientLeft,y.y=b.y+r.clientTop}const E=c&&!x&&!a?F2(c,g,!0):fi(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-g.scrollLeft*p.x+y.x+E.x,y:n.y*p.y-g.scrollTop*p.y+y.y+E.y}}function U8(e){return Array.from(e.getClientRects())}function V8(e){const t=gi(e),n=Yd(e),r=e.ownerDocument.body,s=Xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Ig(e);const h=-n.scrollTop;return $r(r).direction==="rtl"&&(c+=Xn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:c,y:h}}function W8(e,t){const n=Zn(e),r=gi(e),s=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,h=0,g=0;if(s){a=s.width,c=s.height;const p=Ag();(!p||p&&t==="fixed")&&(h=s.offsetLeft,g=s.offsetTop)}return{width:a,height:c,x:h,y:g}}const z8=new Set(["absolute","fixed"]);function H8(e,t){const n=co(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=hi(e)?ia(e):fi(1),c=e.clientWidth*a.x,h=e.clientHeight*a.y,g=s*a.x,p=r*a.y;return{width:c,height:h,x:g,y:p}}function Jm(e,t,n){let r;if(t==="viewport")r=W8(e,n);else if(t==="document")r=V8(gi(e));else if(Hr(t))r=H8(t,n);else{const s=B2(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ld(r)}function j2(e,t){const n=bs(e);return n===t||!Hr(n)||Ea(n)?!1:$r(n).position==="fixed"||j2(n,t)}function $8(e,t){const n=t.get(e);if(n)return n;let r=Kl(e,[],!1).filter(h=>Hr(h)&&La(h)!=="body"),s=null;const a=$r(e).position==="fixed";let c=a?bs(e):e;for(;Hr(c)&&!Ea(c);){const h=$r(c),g=_g(c);!g&&h.position==="fixed"&&(s=null),(a?!g&&!s:!g&&h.position==="static"&&!!s&&z8.has(s.position)||pc(c)&&!g&&j2(e,c))?r=r.filter(y=>y!==c):s=h,c=bs(c)}return t.set(e,r),r}function G8(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const c=[...n==="clippingAncestors"?Xd(t)?[]:$8(t,this._c):[].concat(n),r],h=c[0],g=c.reduce((p,y)=>{const x=Jm(t,y,s);return p.top=Xn(x.top,p.top),p.right=vs(x.right,p.right),p.bottom=vs(x.bottom,p.bottom),p.left=Xn(x.left,p.left),p},Jm(t,h,s));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function X8(e){const{width:t,height:n}=L2(e);return{width:t,height:n}}function Y8(e,t,n){const r=hi(t),s=gi(t),a=n==="fixed",c=co(e,!0,a,t);let h={scrollLeft:0,scrollTop:0};const g=fi(0);function p(){g.x=Ig(s)}if(r||!r&&!a)if((La(t)!=="body"||pc(s))&&(h=Yd(t)),r){const b=co(t,!0,a,t);g.x=b.x+t.clientLeft,g.y=b.y+t.clientTop}else s&&p();a&&!r&&s&&p();const y=s&&!r&&!a?F2(s,h):fi(0),x=c.left+h.scrollLeft-g.x-y.x,E=c.top+h.scrollTop-g.y-y.y;return{x,y:E,width:c.width,height:c.height}}function ph(e){return $r(e).position==="static"}function ew(e,t){if(!hi(e)||$r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gi(e)===n&&(n=n.ownerDocument.body),n}function U2(e,t){const n=Zn(e);if(Xd(e))return n;if(!hi(e)){let s=bs(e);for(;s&&!Ea(s);){if(Hr(s)&&!ph(s))return s;s=bs(s)}return n}let r=ew(e,t);for(;r&&N8(r)&&ph(r);)r=ew(r,t);return r&&Ea(r)&&ph(r)&&!_g(r)?n:r||M8(e)||n}const K8=async function(e){const t=this.getOffsetParent||U2,n=this.getDimensions,r=await n(e.floating);return{reference:Y8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q8(e){return $r(e).direction==="rtl"}const Q8={convertOffsetParentRelativeRectToViewportRelativeRect:j8,getDocumentElement:gi,getClippingRect:G8,getOffsetParent:U2,getElementRects:K8,getClientRects:U8,getDimensions:X8,getScale:ia,isElement:Hr,isRTL:q8};function V2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Z8(e,t){let n=null,r;const s=gi(e);function a(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function c(h,g){h===void 0&&(h=!1),g===void 0&&(g=1),a();const p=e.getBoundingClientRect(),{left:y,top:x,width:E,height:b}=p;if(h||t(),!E||!b)return;const R=Jc(x),C=Jc(s.clientWidth-(y+E)),N=Jc(s.clientHeight-(x+b)),I=Jc(y),A={rootMargin:-R+"px "+-C+"px "+-N+"px "+-I+"px",threshold:Xn(0,vs(1,g))||1};let M=!0;function j(U){const F=U[0].intersectionRatio;if(F!==g){if(!M)return c();F?c(!1,F):r=setTimeout(()=>{c(!1,1e-7)},1e3)}F===1&&!V2(p,e.getBoundingClientRect())&&c(),M=!1}try{n=new IntersectionObserver(j,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,A)}n.observe(e)}return c(!0),a}function J8(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,p=Tg(e),y=s||a?[...p?Kl(p):[],...Kl(t)]:[];y.forEach(I=>{s&&I.addEventListener("scroll",n,{passive:!0}),a&&I.addEventListener("resize",n)});const x=p&&h?Z8(p,n):null;let E=-1,b=null;c&&(b=new ResizeObserver(I=>{let[T]=I;T&&T.target===p&&b&&(b.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),n()}),p&&!g&&b.observe(p),b.observe(t));let R,C=g?co(e):null;g&&N();function N(){const I=co(e);C&&!V2(C,I)&&n(),C=I,R=requestAnimationFrame(N)}return n(),()=>{var I;y.forEach(T=>{s&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),x==null||x(),(I=b)==null||I.disconnect(),b=null,g&&cancelAnimationFrame(R)}}const eI=S8,tI=_8,nI=b8,rI=T8,iI=E8,tw=v8,sI=A8,oI=(e,t,n)=>{const r=new Map,s={platform:Q8,...n},a={...s.platform,_c:r};return x8(e,t,{...s,platform:a})};var aI=typeof document<"u",lI=function(){},Ou=aI?O.useLayoutEffect:lI;function cd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!cd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!cd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function W2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nw(e,t){const n=W2(e);return Math.round(t*n)/n}function mh(e){const t=O.useRef(e);return Ou(()=>{t.current=e}),t}function cI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:g,open:p}=e,[y,x]=O.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,b]=O.useState(r);cd(E,r)||b(r);const[R,C]=O.useState(null),[N,I]=O.useState(null),T=O.useCallback(q=>{q!==U.current&&(U.current=q,C(q))},[]),A=O.useCallback(q=>{q!==F.current&&(F.current=q,I(q))},[]),M=a||R,j=c||N,U=O.useRef(null),F=O.useRef(null),H=O.useRef(y),z=g!=null,ee=mh(g),de=mh(s),Q=mh(p),ue=O.useCallback(()=>{if(!U.current||!F.current)return;const q={placement:t,strategy:n,middleware:E};de.current&&(q.platform=de.current),oI(U.current,F.current,q).then(J=>{const fe={...J,isPositioned:Q.current!==!1};ie.current&&!cd(H.current,fe)&&(H.current=fe,fc.flushSync(()=>{x(fe)}))})},[E,t,n,de,Q]);Ou(()=>{p===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[p]);const ie=O.useRef(!1);Ou(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Ou(()=>{if(M&&(U.current=M),j&&(F.current=j),M&&j){if(ee.current)return ee.current(M,j,ue);ue()}},[M,j,ue,ee,z]);const G=O.useMemo(()=>({reference:U,floating:F,setReference:T,setFloating:A}),[T,A]),he=O.useMemo(()=>({reference:M,floating:j}),[M,j]),ce=O.useMemo(()=>{const q={position:n,left:0,top:0};if(!he.floating)return q;const J=nw(he.floating,y.x),fe=nw(he.floating,y.y);return h?{...q,transform:"translate("+J+"px, "+fe+"px)",...W2(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:fe}},[n,h,he.floating,y.x,y.y]);return O.useMemo(()=>({...y,update:ue,refs:G,elements:he,floatingStyles:ce}),[y,ue,G,he,ce])}const uI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?tw({element:r.current,padding:s}).fn(n):{}:r?tw({element:r,padding:s}).fn(n):{}}}},dI=(e,t)=>({...eI(e),options:[e,t]}),fI=(e,t)=>({...tI(e),options:[e,t]}),hI=(e,t)=>({...sI(e),options:[e,t]}),gI=(e,t)=>({...nI(e),options:[e,t]}),pI=(e,t)=>({...rI(e),options:[e,t]}),mI=(e,t)=>({...iI(e),options:[e,t]}),wI=(e,t)=>({...uI(e),options:[e,t]});var yI="Arrow",z2=O.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return _.jsx(Ue.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});z2.displayName=yI;var xI=z2;function H2(e){const[t,n]=O.useState(void 0);return er(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let c,h;if("borderBoxSize"in a){const g=a.borderBoxSize,p=Array.isArray(g)?g[0]:g;c=p.inlineSize,h=p.blockSize}else c=e.offsetWidth,h=e.offsetHeight;n({width:c,height:h})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var $2="Popper",[G2,X2]=Gr($2),[_7,Y2]=G2($2),K2="PopperAnchor",q2=O.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Y2(K2,n),c=O.useRef(null),h=pt(t,c);return O.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:_.jsx(Ue.div,{...s,ref:h})});q2.displayName=K2;var Rg="PopperContent",[vI,bI]=G2(Rg),Q2=O.forwardRef((e,t)=>{var He,ct,Tn,Wn,Et,Sr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:E=!1,updatePositionStrategy:b="optimized",onPlaced:R,...C}=e,N=Y2(Rg,n),[I,T]=O.useState(null),A=pt(t,Le=>T(Le)),[M,j]=O.useState(null),U=H2(M),F=(U==null?void 0:U.width)??0,H=(U==null?void 0:U.height)??0,z=r+(a!=="center"?"-"+a:""),ee=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},de=Array.isArray(p)?p:[p],Q=de.length>0,ue={padding:ee,boundary:de.filter(CI),altBoundary:Q},{refs:ie,floatingStyles:G,placement:he,isPositioned:ce,middlewareData:q}=cI({strategy:"fixed",placement:z,whileElementsMounted:(...Le)=>J8(...Le,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[dI({mainAxis:s+H,alignmentAxis:c}),g&&fI({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?hI():void 0,...ue}),g&&gI({...ue}),pI({...ue,apply:({elements:Le,rects:_r,availableWidth:In,availableHeight:Kr})=>{const{width:Dt,height:qe}=_r.reference,Be=Le.floating.style;Be.setProperty("--radix-popper-available-width",`${In}px`),Be.setProperty("--radix-popper-available-height",`${Kr}px`),Be.setProperty("--radix-popper-anchor-width",`${Dt}px`),Be.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),M&&wI({element:M,padding:h}),SI({arrowWidth:F,arrowHeight:H}),E&&mI({strategy:"referenceHidden",...ue})]}),[J,fe]=eb(he),Re=$t(R);er(()=>{ce&&(Re==null||Re())},[ce,Re]);const ge=(He=q.arrow)==null?void 0:He.x,Ne=(ct=q.arrow)==null?void 0:ct.y,_e=((Tn=q.arrow)==null?void 0:Tn.centerOffset)!==0,[mt,pe]=O.useState();return er(()=>{I&&pe(window.getComputedStyle(I).zIndex)},[I]),_.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ce?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:mt,"--radix-popper-transform-origin":[(Wn=q.transformOrigin)==null?void 0:Wn.x,(Et=q.transformOrigin)==null?void 0:Et.y].join(" "),...((Sr=q.hide)==null?void 0:Sr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:_.jsx(vI,{scope:n,placedSide:J,onArrowChange:j,arrowX:ge,arrowY:Ne,shouldHideArrow:_e,children:_.jsx(Ue.div,{"data-side":J,"data-align":fe,...C,ref:A,style:{...C.style,animation:ce?void 0:"none"}})})})});Q2.displayName=Rg;var Z2="PopperArrow",EI={top:"bottom",right:"left",bottom:"top",left:"right"},J2=O.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=bI(Z2,r),c=EI[a.placedSide];return _.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:_.jsx(xI,{...s,ref:n,style:{...s.style,display:"block"}})})});J2.displayName=Z2;function CI(e){return e!==null}var SI=e=>({name:"transformOrigin",options:e,fn(t){var N,I,T;const{placement:n,rects:r,middlewareData:s}=t,c=((N=s.arrow)==null?void 0:N.centerOffset)!==0,h=c?0:e.arrowWidth,g=c?0:e.arrowHeight,[p,y]=eb(n),x={start:"0%",center:"50%",end:"100%"}[y],E=(((I=s.arrow)==null?void 0:I.x)??0)+h/2,b=(((T=s.arrow)==null?void 0:T.y)??0)+g/2;let R="",C="";return p==="bottom"?(R=c?x:`${E}px`,C=`${-g}px`):p==="top"?(R=c?x:`${E}px`,C=`${r.floating.height+g}px`):p==="right"?(R=`${-g}px`,C=c?x:`${b}px`):p==="left"&&(R=`${r.floating.width+g}px`,C=c?x:`${b}px`),{data:{x:R,y:C}}}});function eb(e){const[t,n="center"]=e.split("-");return[t,n]}var _I=q2,AI=Q2,TI=J2,[Kd,A7]=Gr("Tooltip",[X2]),Ng=X2(),tb="TooltipProvider",II=700,rw="tooltip.open",[RI,nb]=Kd(tb),rb=e=>{const{__scopeTooltip:t,delayDuration:n=II,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,c=O.useRef(!0),h=O.useRef(!1),g=O.useRef(0);return O.useEffect(()=>{const p=g.current;return()=>window.clearTimeout(p)},[]),_.jsx(RI,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:O.useCallback(()=>{window.clearTimeout(g.current),c.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:O.useCallback(p=>{h.current=p},[]),disableHoverableContent:s,children:a})};rb.displayName=tb;var ib="Tooltip",[T7,qd]=Kd(ib),H0="TooltipTrigger",NI=O.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=qd(H0,n),a=nb(H0,n),c=Ng(n),h=O.useRef(null),g=pt(t,h,s.onTriggerChange),p=O.useRef(!1),y=O.useRef(!1),x=O.useCallback(()=>p.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),_.jsx(_I,{asChild:!0,...c,children:_.jsx(Ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:g,onPointerMove:Pe(e.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),y.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{s.onTriggerLeave(),y.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:Pe(e.onFocus,()=>{p.current||s.onOpen()}),onBlur:Pe(e.onBlur,s.onClose),onClick:Pe(e.onClick,s.onClose)})})});NI.displayName=H0;var OI="TooltipPortal",[I7,PI]=Kd(OI,{forceMount:void 0}),Ca="TooltipContent",sb=O.forwardRef((e,t)=>{const n=PI(Ca,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,c=qd(Ca,e.__scopeTooltip);return _.jsx(Er,{present:r||c.open,children:c.disableHoverableContent?_.jsx(ob,{side:s,...a,ref:t}):_.jsx(kI,{side:s,...a,ref:t})})}),kI=O.forwardRef((e,t)=>{const n=qd(Ca,e.__scopeTooltip),r=nb(Ca,e.__scopeTooltip),s=O.useRef(null),a=pt(t,s),[c,h]=O.useState(null),{trigger:g,onClose:p}=n,y=s.current,{onPointerInTransitChange:x}=r,E=O.useCallback(()=>{h(null),x(!1)},[x]),b=O.useCallback((R,C)=>{const N=R.currentTarget,I={x:R.clientX,y:R.clientY},T=FI(I,N.getBoundingClientRect()),A=jI(I,T),M=UI(C.getBoundingClientRect()),j=WI([...A,...M]);h(j),x(!0)},[x]);return O.useEffect(()=>()=>E(),[E]),O.useEffect(()=>{if(g&&y){const R=N=>b(N,y),C=N=>b(N,g);return g.addEventListener("pointerleave",R),y.addEventListener("pointerleave",C),()=>{g.removeEventListener("pointerleave",R),y.removeEventListener("pointerleave",C)}}},[g,y,b,E]),O.useEffect(()=>{if(c){const R=C=>{const N=C.target,I={x:C.clientX,y:C.clientY},T=(g==null?void 0:g.contains(N))||(y==null?void 0:y.contains(N)),A=!VI(I,c);T?E():A&&(E(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[g,y,c,p,E]),_.jsx(ob,{...e,ref:a})}),[DI,MI]=Kd(ib,{isInside:!1}),LI=q3("TooltipContent"),ob=O.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=e,g=qd(Ca,n),p=Ng(n),{onClose:y}=g;return O.useEffect(()=>(document.addEventListener(rw,y),()=>document.removeEventListener(rw,y)),[y]),O.useEffect(()=>{if(g.trigger){const x=E=>{const b=E.target;b!=null&&b.contains(g.trigger)&&y()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[g.trigger,y]),_.jsx(Vd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:x=>x.preventDefault(),onDismiss:y,children:_.jsxs(AI,{"data-state":g.stateAttribute,...p,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(LI,{children:r}),_.jsx(DI,{scope:n,isInside:!0,children:_.jsx(xT,{id:g.contentId,role:"tooltip",children:s||r})})]})})});sb.displayName=Ca;var ab="TooltipArrow",BI=O.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ng(n);return MI(ab,n).isInside?null:_.jsx(TI,{...s,...r,ref:t})});BI.displayName=ab;function FI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function UI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function VI(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const h=t[a],g=t[c],p=h.x,y=h.y,x=g.x,E=g.y;y>r!=E>r&&n<(x-p)*(r-y)/(E-y)+p&&(s=!s)}return s}function WI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zI(t)}function zI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(s.y-c.y)>=(a.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(s.y-c.y)>=(a.y-c.y)*(s.x-c.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var HI=rb,lb=sb;const $I=HI,GI=O.forwardRef(({className:e,sideOffset:t=4,...n},r)=>_.jsx(lb,{ref:r,sideOffset:t,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));GI.displayName=lb.displayName;var Qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zd=typeof window>"u"||"Deno"in globalThis;function Dr(){}function XI(e,t){return typeof e=="function"?e(t):e}function YI(e){return typeof e=="number"&&e>=0&&e!==1/0}function KI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $0(e,t){return typeof e=="function"?e(t):e}function qI(e,t){return typeof e=="function"?e(t):e}function iw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:c,stale:h}=e;if(c){if(r){if(t.queryHash!==Og(c,t.options))return!1}else if(!Ql(t.queryKey,c))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||s&&s!==t.state.fetchStatus||a&&!a(t))}function sw(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ql(t.options.mutationKey)!==ql(a))return!1}else if(!Ql(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Og(e,t){return((t==null?void 0:t.queryKeyHashFn)||ql)(e)}function ql(e){return JSON.stringify(e,(t,n)=>G0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ql(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ql(e[n],t[n])):!1}function cb(e,t){if(e===t)return e;const n=ow(e)&&ow(t);if(n||G0(e)&&G0(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),c=a.length,h=n?[]:{},g=new Set(r);let p=0;for(let y=0;y<c;y++){const x=n?y:a[y];(!n&&g.has(x)||n)&&e[x]===void 0&&t[x]===void 0?(h[x]=void 0,p++):(h[x]=cb(e[x],t[x]),h[x]===e[x]&&e[x]!==void 0&&p++)}return s===c&&p===s?e:h}return t}function ow(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function G0(e){if(!aw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!aw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aw(e){return Object.prototype.toString.call(e)==="[object Object]"}function QI(e){return new Promise(t=>{setTimeout(t,e)})}function ZI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?cb(e,t):t}function JI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function eR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Pg=Symbol();function ub(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Pg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ks,ts,aa,Ey,tR=(Ey=class extends Qd{constructor(){super();Ze(this,Ks);Ze(this,ts);Ze(this,aa);Oe(this,aa,t=>{if(!Zd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,ts)||this.setEventListener(Z(this,aa))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,ts))==null||t.call(this),Oe(this,ts,void 0))}setEventListener(t){var n;Oe(this,aa,t),(n=Z(this,ts))==null||n.call(this),Oe(this,ts,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Z(this,Ks)!==t&&(Oe(this,Ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Z(this,Ks)=="boolean"?Z(this,Ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ks=new WeakMap,ts=new WeakMap,aa=new WeakMap,Ey),db=new tR,la,ns,ca,Cy,nR=(Cy=class extends Qd{constructor(){super();Ze(this,la,!0);Ze(this,ns);Ze(this,ca);Oe(this,ca,t=>{if(!Zd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,ns)||this.setEventListener(Z(this,ca))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,ns))==null||t.call(this),Oe(this,ns,void 0))}setEventListener(t){var n;Oe(this,ca,t),(n=Z(this,ns))==null||n.call(this),Oe(this,ns,t(this.setOnline.bind(this)))}setOnline(t){Z(this,la)!==t&&(Oe(this,la,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Z(this,la)}},la=new WeakMap,ns=new WeakMap,ca=new WeakMap,Cy),ud=new nR;function rR(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function iR(e){return Math.min(1e3*2**e,3e4)}function fb(e){return(e??"online")==="online"?ud.isOnline():!0}var hb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wh(e){return e instanceof hb}function gb(e){let t=!1,n=0,r=!1,s;const a=rR(),c=C=>{var N;r||(E(new hb(C)),(N=e.abort)==null||N.call(e))},h=()=>{t=!0},g=()=>{t=!1},p=()=>db.isFocused()&&(e.networkMode==="always"||ud.isOnline())&&e.canRun(),y=()=>fb(e.networkMode)&&e.canRun(),x=C=>{var N;r||(r=!0,(N=e.onSuccess)==null||N.call(e,C),s==null||s(),a.resolve(C))},E=C=>{var N;r||(r=!0,(N=e.onError)==null||N.call(e,C),s==null||s(),a.reject(C))},b=()=>new Promise(C=>{var N;s=I=>{(r||p())&&C(I)},(N=e.onPause)==null||N.call(e)}).then(()=>{var C;s=void 0,r||(C=e.onContinue)==null||C.call(e)}),R=()=>{if(r)return;let C;const N=n===0?e.initialPromise:void 0;try{C=N??e.fn()}catch(I){C=Promise.reject(I)}Promise.resolve(C).then(x).catch(I=>{var U;if(r)return;const T=e.retry??(Zd?0:3),A=e.retryDelay??iR,M=typeof A=="function"?A(n,I):A,j=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,I);if(t||!j){E(I);return}n++,(U=e.onFail)==null||U.call(e,n,I),QI(M).then(()=>p()?void 0:b()).then(()=>{t?E(I):R()})})};return{promise:a,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:h,continueRetry:g,canStart:y,start:()=>(y()?R():b().then(R),a)}}var sR=e=>setTimeout(e,0);function oR(){let e=[],t=0,n=h=>{h()},r=h=>{h()},s=sR;const a=h=>{t?e.push(h):s(()=>{n(h)})},c=()=>{const h=e;e=[],h.length&&s(()=>{r(()=>{h.forEach(g=>{n(g)})})})};return{batch:h=>{let g;t++;try{g=h()}finally{t--,t||c()}return g},batchCalls:h=>(...g)=>{a(()=>{h(...g)})},schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{s=h}}}var bn=oR(),qs,Sy,pb=(Sy=class{constructor(){Ze(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YI(this.gcTime)&&Oe(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zd?1/0:5*60*1e3))}clearGcTimeout(){Z(this,qs)&&(clearTimeout(Z(this,qs)),Oe(this,qs,void 0))}},qs=new WeakMap,Sy),ua,Qs,cr,Zs,gn,sc,Js,Lr,vi,_y,aR=(_y=class extends pb{constructor(t){super();Ze(this,Lr);Ze(this,ua);Ze(this,Qs);Ze(this,cr);Ze(this,Zs);Ze(this,gn);Ze(this,sc);Ze(this,Js);Oe(this,Js,!1),Oe(this,sc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,Zs,t.client),Oe(this,cr,Z(this,Zs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,ua,cR(this.options)),this.state=t.state??Z(this,ua),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Z(this,gn))==null?void 0:t.promise}setOptions(t){this.options={...Z(this,sc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,cr).remove(this)}setData(t,n){const r=ZI(this.state.data,t,this.options);return dn(this,Lr,vi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){dn(this,Lr,vi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Z(this,gn))==null?void 0:r.promise;return(s=Z(this,gn))==null||s.cancel(t),n?n.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,ua))}isActive(){return this.observers.some(t=>qI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Z(this,gn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Z(this,gn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Z(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Z(this,gn)&&(Z(this,Js)?Z(this,gn).cancel({revert:!0}):Z(this,gn).cancelRetry()),this.scheduleGc()),Z(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dn(this,Lr,vi).call(this,{type:"invalidate"})}fetch(t,n){var p,y,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,gn))return Z(this,gn).continueRetry(),Z(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(b=>b.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Oe(this,Js,!0),r.signal)})},a=()=>{const E=ub(this.options,n),R=(()=>{const C={client:Z(this,Zs),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return Oe(this,Js,!1),this.options.persister?this.options.persister(E,R,this):E(R)},h=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Z(this,Zs),state:this.state,fetchFn:a};return s(E),E})();(p=this.options.behavior)==null||p.onFetch(h,this),Oe(this,Qs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=h.fetchOptions)==null?void 0:y.meta))&&dn(this,Lr,vi).call(this,{type:"fetch",meta:(x=h.fetchOptions)==null?void 0:x.meta});const g=E=>{var b,R,C,N;wh(E)&&E.silent||dn(this,Lr,vi).call(this,{type:"error",error:E}),wh(E)||((R=(b=Z(this,cr).config).onError)==null||R.call(b,E,this),(N=(C=Z(this,cr).config).onSettled)==null||N.call(C,this.state.data,E,this)),this.scheduleGc()};return Oe(this,gn,gb({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:E=>{var b,R,C,N;if(E===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(E)}catch(I){g(I);return}(R=(b=Z(this,cr).config).onSuccess)==null||R.call(b,E,this),(N=(C=Z(this,cr).config).onSettled)==null||N.call(C,E,this.state.error,this),this.scheduleGc()},onError:g,onFail:(E,b)=>{dn(this,Lr,vi).call(this,{type:"failed",failureCount:E,error:b})},onPause:()=>{dn(this,Lr,vi).call(this,{type:"pause"})},onContinue:()=>{dn(this,Lr,vi).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),Z(this,gn).start()}},ua=new WeakMap,Qs=new WeakMap,cr=new WeakMap,Zs=new WeakMap,gn=new WeakMap,sc=new WeakMap,Js=new WeakMap,Lr=new WeakSet,vi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lR(r.data,this.options),fetchMeta:t.meta??null};case"success":return Oe(this,Qs,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return wh(s)&&s.revert&&Z(this,Qs)?{...Z(this,Qs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,cr).notify({query:this,type:"updated",action:t})})},_y);function lR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var si,Ay,uR=(Ay=class extends Qd{constructor(t={}){super();Ze(this,si);this.config=t,Oe(this,si,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??Og(s,n);let c=this.get(a);return c||(c=new aR({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){Z(this,si).has(t.queryHash)||(Z(this,si).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Z(this,si).get(t.queryHash);n&&(t.destroy(),n===t&&Z(this,si).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Z(this,si).get(t)}getAll(){return[...Z(this,si).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>iw(t,r)):n}notify(t){bn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},si=new WeakMap,Ay),oi,xn,eo,ai,Yi,Ty,dR=(Ty=class extends pb{constructor(t){super();Ze(this,ai);Ze(this,oi);Ze(this,xn);Ze(this,eo);this.mutationId=t.mutationId,Oe(this,xn,t.mutationCache),Oe(this,oi,[]),this.state=t.state||fR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Z(this,oi).includes(t)||(Z(this,oi).push(t),this.clearGcTimeout(),Z(this,xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,oi,Z(this,oi).filter(n=>n!==t)),this.scheduleGc(),Z(this,xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Z(this,oi).length||(this.state.status==="pending"?this.scheduleGc():Z(this,xn).remove(this))}continue(){var t;return((t=Z(this,eo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,c,h,g,p,y,x,E,b,R,C,N,I,T,A,M,j,U,F,H;const n=()=>{dn(this,ai,Yi).call(this,{type:"continue"})};Oe(this,eo,gb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,ee)=>{dn(this,ai,Yi).call(this,{type:"failed",failureCount:z,error:ee})},onPause:()=>{dn(this,ai,Yi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,xn).canRun(this)}));const r=this.state.status==="pending",s=!Z(this,eo).canStart();try{if(r)n();else{dn(this,ai,Yi).call(this,{type:"pending",variables:t,isPaused:s}),await((c=(a=Z(this,xn).config).onMutate)==null?void 0:c.call(a,t,this));const ee=await((g=(h=this.options).onMutate)==null?void 0:g.call(h,t));ee!==this.state.context&&dn(this,ai,Yi).call(this,{type:"pending",context:ee,variables:t,isPaused:s})}const z=await Z(this,eo).start();return await((y=(p=Z(this,xn).config).onSuccess)==null?void 0:y.call(p,z,t,this.state.context,this)),await((E=(x=this.options).onSuccess)==null?void 0:E.call(x,z,t,this.state.context)),await((R=(b=Z(this,xn).config).onSettled)==null?void 0:R.call(b,z,null,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,z,null,t,this.state.context)),dn(this,ai,Yi).call(this,{type:"success",data:z}),z}catch(z){try{throw await((T=(I=Z(this,xn).config).onError)==null?void 0:T.call(I,z,t,this.state.context,this)),await((M=(A=this.options).onError)==null?void 0:M.call(A,z,t,this.state.context)),await((U=(j=Z(this,xn).config).onSettled)==null?void 0:U.call(j,void 0,z,this.state.variables,this.state.context,this)),await((H=(F=this.options).onSettled)==null?void 0:H.call(F,void 0,z,t,this.state.context)),z}finally{dn(this,ai,Yi).call(this,{type:"error",error:z})}}finally{Z(this,xn).runNext(this)}}},oi=new WeakMap,xn=new WeakMap,eo=new WeakMap,ai=new WeakSet,Yi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bn.batch(()=>{Z(this,oi).forEach(r=>{r.onMutationUpdate(t)}),Z(this,xn).notify({mutation:this,type:"updated",action:t})})},Ty);function fR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,Br,oc,Iy,hR=(Iy=class extends Qd{constructor(t={}){super();Ze(this,_i);Ze(this,Br);Ze(this,oc);this.config=t,Oe(this,_i,new Set),Oe(this,Br,new Map),Oe(this,oc,0)}build(t,n,r){const s=new dR({mutationCache:this,mutationId:++Pc(this,oc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Z(this,_i).add(t);const n=eu(t);if(typeof n=="string"){const r=Z(this,Br).get(n);r?r.push(t):Z(this,Br).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Z(this,_i).delete(t)){const n=eu(t);if(typeof n=="string"){const r=Z(this,Br).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Z(this,Br).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=eu(t);if(typeof n=="string"){const r=Z(this,Br).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=eu(t);if(typeof n=="string"){const s=(r=Z(this,Br).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bn.batch(()=>{Z(this,_i).forEach(t=>{this.notify({type:"removed",mutation:t})}),Z(this,_i).clear(),Z(this,Br).clear()})}getAll(){return Array.from(Z(this,_i))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sw(n,r))}findAll(t={}){return this.getAll().filter(n=>sw(t,n))}notify(t){bn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return bn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Dr))))}},_i=new WeakMap,Br=new WeakMap,oc=new WeakMap,Iy);function eu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function lw(e){return{onFetch:(t,n)=>{var y,x,E,b,R;const r=t.options,s=(E=(x=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:E.direction,a=((b=t.state.data)==null?void 0:b.pages)||[],c=((R=t.state.data)==null?void 0:R.pageParams)||[];let h={pages:[],pageParams:[]},g=0;const p=async()=>{let C=!1;const N=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},I=ub(t.options,t.fetchOptions),T=async(A,M,j)=>{if(C)return Promise.reject();if(M==null&&A.pages.length)return Promise.resolve(A);const F=(()=>{const de={client:t.client,queryKey:t.queryKey,pageParam:M,direction:j?"backward":"forward",meta:t.options.meta};return N(de),de})(),H=await I(F),{maxPages:z}=t.options,ee=j?eR:JI;return{pages:ee(A.pages,H,z),pageParams:ee(A.pageParams,M,z)}};if(s&&a.length){const A=s==="backward",M=A?gR:cw,j={pages:a,pageParams:c},U=M(r,j);h=await T(j,U,A)}else{const A=e??a.length;do{const M=g===0?c[0]??r.initialPageParam:cw(r,h);if(g>0&&M==null)break;h=await T(h,M),g++}while(g<A)}return h};t.options.persister?t.fetchFn=()=>{var C,N;return(N=(C=t.options).persister)==null?void 0:N.call(C,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function cw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function gR(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ot,rs,is,da,fa,ss,ha,ga,Ry,pR=(Ry=class{constructor(e={}){Ze(this,Ot);Ze(this,rs);Ze(this,is);Ze(this,da);Ze(this,fa);Ze(this,ss);Ze(this,ha);Ze(this,ga);Oe(this,Ot,e.queryCache||new uR),Oe(this,rs,e.mutationCache||new hR),Oe(this,is,e.defaultOptions||{}),Oe(this,da,new Map),Oe(this,fa,new Map),Oe(this,ss,0)}mount(){Pc(this,ss)._++,Z(this,ss)===1&&(Oe(this,ha,db.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Ot).onFocus())})),Oe(this,ga,ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Ot).onOnline())})))}unmount(){var e,t;Pc(this,ss)._--,Z(this,ss)===0&&((e=Z(this,ha))==null||e.call(this),Oe(this,ha,void 0),(t=Z(this,ga))==null||t.call(this),Oe(this,ga,void 0))}isFetching(e){return Z(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Z(this,rs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Z(this,Ot).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Z(this,Ot).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($0(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Z(this,Ot).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Z(this,Ot).get(r.queryHash),a=s==null?void 0:s.state.data,c=XI(t,a);if(c!==void 0)return Z(this,Ot).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return bn.batch(()=>Z(this,Ot).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Z(this,Ot).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Z(this,Ot);bn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Z(this,Ot);return bn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=bn.batch(()=>Z(this,Ot).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Dr).catch(Dr)}invalidateQueries(e,t={}){return bn.batch(()=>(Z(this,Ot).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=bn.batch(()=>Z(this,Ot).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Dr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Z(this,Ot).build(this,t);return n.isStaleByTime($0(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dr).catch(Dr)}fetchInfiniteQuery(e){return e.behavior=lw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dr).catch(Dr)}ensureInfiniteQueryData(e){return e.behavior=lw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ud.isOnline()?Z(this,rs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Ot)}getMutationCache(){return Z(this,rs)}getDefaultOptions(){return Z(this,is)}setDefaultOptions(e){Oe(this,is,e)}setQueryDefaults(e,t){Z(this,da).set(ql(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Z(this,da).values()],n={};return t.forEach(r=>{Ql(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Z(this,fa).set(ql(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Z(this,fa).values()],n={};return t.forEach(r=>{Ql(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Z(this,is).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Og(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Z(this,is).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Z(this,Ot).clear(),Z(this,rs).clear()}},Ot=new WeakMap,rs=new WeakMap,is=new WeakMap,da=new WeakMap,fa=new WeakMap,ss=new WeakMap,ha=new WeakMap,ga=new WeakMap,Ry),mR=O.createContext(void 0),wR=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),_.jsx(mR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var ls;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ls||(ls={}));const uw="popstate";function yR(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:c,hash:h}=r.location;return X0("",{pathname:a,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wb(s)}return vR(t,n,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xR(){return Math.random().toString(36).substr(2,8)}function dw(e,t){return{usr:e.state,key:e.key,idx:t}}function X0(e,t,n,r){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ba(t):t,{state:n,key:t&&t.key||r||xR()})}function wb(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ba(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vR(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,c=s.history,h=ls.Pop,g=null,p=y();p==null&&(p=0,c.replaceState(Zl({},c.state,{idx:p}),""));function y(){return(c.state||{idx:null}).idx}function x(){h=ls.Pop;let N=y(),I=N==null?null:N-p;p=N,g&&g({action:h,location:C.location,delta:I})}function E(N,I){h=ls.Push;let T=X0(C.location,N,I);p=y()+1;let A=dw(T,p),M=C.createHref(T);try{c.pushState(A,"",M)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(M)}a&&g&&g({action:h,location:C.location,delta:1})}function b(N,I){h=ls.Replace;let T=X0(C.location,N,I);p=y();let A=dw(T,p),M=C.createHref(T);c.replaceState(A,"",M),a&&g&&g({action:h,location:C.location,delta:0})}function R(N){let I=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof N=="string"?N:wb(N);return T=T.replace(/ $/,"%20"),Xt(I,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,I)}let C={get action(){return h},get location(){return e(s,c)},listen(N){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(uw,x),g=N,()=>{s.removeEventListener(uw,x),g=null}},createHref(N){return t(s,N)},createURL:R,encodeLocation(N){let I=R(N);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:b,go(N){return c.go(N)}};return C}var fw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fw||(fw={}));function bR(e,t,n){return n===void 0&&(n="/"),ER(e,t,n,!1)}function ER(e,t,n,r){let s=typeof t=="string"?Ba(t):t,a=vb(s.pathname||"/",n);if(a==null)return null;let c=yb(e);CR(c);let h=null;for(let g=0;h==null&&g<c.length;++g){let p=DR(a);h=PR(c[g],p,r)}return h}function yb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,c,h)=>{let g={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};g.relativePath.startsWith("/")&&(Xt(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let p=ro([r,g.relativePath]),y=n.concat(g);a.children&&a.children.length>0&&(Xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),yb(a.children,t,y,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:NR(p,a.index),routesMeta:y})};return e.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,c);else for(let g of xb(a.path))s(a,c,g)}),t}function xb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let c=xb(r.join("/")),h=[];return h.push(...c.map(g=>g===""?a:[a,g].join("/"))),s&&h.push(...c),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function CR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SR=/^:[\w-]+$/,_R=3,AR=2,TR=1,IR=10,RR=-2,hw=e=>e==="*";function NR(e,t){let n=e.split("/"),r=n.length;return n.some(hw)&&(r+=RR),t&&(r+=AR),n.filter(s=>!hw(s)).reduce((s,a)=>s+(SR.test(a)?_R:a===""?TR:IR),r)}function OR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function PR(e,t,n){let{routesMeta:r}=e,s={},a="/",c=[];for(let h=0;h<r.length;++h){let g=r[h],p=h===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",x=gw({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),E=g.route;if(!x&&p&&n&&!r[r.length-1].route.index&&(x=gw({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:ro([a,x.pathname]),pathnameBase:UR(ro([a,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(a=ro([a,x.pathnameBase]))}return c}function gw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,y,x)=>{let{paramName:E,isOptional:b}=y;if(E==="*"){let C=h[x]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const R=h[x];return b&&!R?p[E]=void 0:p[E]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:e}}function kR(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,g)=>(r.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function DR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function MR(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ba(e):e;return{pathname:n?n.startsWith("/")?n:LR(n,t):t,search:VR(r),hash:WR(s)}}function LR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FR(e,t){let n=BR(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jR(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ba(e):(s=Zl({},e),Xt(!s.pathname||!s.pathname.includes("?"),yh("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),yh("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),yh("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=n;else{let x=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),x-=1;s.pathname=E.join("/")}h=x>=0?t[x]:"/"}let g=MR(s,h),p=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}const ro=e=>e.join("/").replace(/\/\/+/g,"/"),UR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bb=["post","put","patch","delete"];new Set(bb);const HR=["get",...bb];new Set(HR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(this,arguments)}const kg=O.createContext(null),$R=O.createContext(null),Jd=O.createContext(null),ef=O.createContext(null),Fa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Eb=O.createContext(null);function tf(){return O.useContext(ef)!=null}function Dg(){return tf()||Xt(!1),O.useContext(ef).location}function Cb(e){O.useContext(Jd).static||O.useLayoutEffect(e)}function mc(){let{isDataRoute:e}=O.useContext(Fa);return e?iN():GR()}function GR(){tf()||Xt(!1);let e=O.useContext(kg),{basename:t,future:n,navigator:r}=O.useContext(Jd),{matches:s}=O.useContext(Fa),{pathname:a}=Dg(),c=JSON.stringify(FR(s,n.v7_relativeSplatPath)),h=O.useRef(!1);return Cb(()=>{h.current=!0}),O.useCallback(function(p,y){if(y===void 0&&(y={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let x=jR(p,JSON.parse(c),a,y.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:ro([t,x.pathname])),(y.replace?r.replace:r.push)(x,y.state,y)},[t,r,c,a,e])}function XR(e,t){return YR(e,t)}function YR(e,t,n,r){tf()||Xt(!1);let{navigator:s}=O.useContext(Jd),{matches:a}=O.useContext(Fa),c=a[a.length-1],h=c?c.params:{};c&&c.pathname;let g=c?c.pathnameBase:"/";c&&c.route;let p=Dg(),y;if(t){var x;let N=typeof t=="string"?Ba(t):t;g==="/"||(x=N.pathname)!=null&&x.startsWith(g)||Xt(!1),y=N}else y=p;let E=y.pathname||"/",b=E;if(g!=="/"){let N=g.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let R=bR(e,{pathname:b}),C=JR(R&&R.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:ro([g,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:ro([g,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return t&&C?O.createElement(ef.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ls.Pop}},C):C}function KR(){let e=rN(),t=zR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:s},n):null,null)}const qR=O.createElement(KR,null);class QR extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?O.createElement(Fa.Provider,{value:this.props.routeContext},O.createElement(Eb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZR(e){let{routeContext:t,match:n,children:r}=e,s=O.useContext(kg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Fa.Provider,{value:t},r)}function JR(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(s=n)==null?void 0:s.errors;if(h!=null){let y=c.findIndex(x=>x.route.id&&(h==null?void 0:h[x.route.id])!==void 0);y>=0||Xt(!1),c=c.slice(0,Math.min(c.length,y+1))}let g=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let x=c[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=y),x.route.id){let{loaderData:E,errors:b}=n,R=x.route.loader&&E[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||R){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,x,E)=>{let b,R=!1,C=null,N=null;n&&(b=h&&x.route.id?h[x.route.id]:void 0,C=x.route.errorElement||qR,g&&(p<0&&E===0?(R=!0,N=null):p===E&&(R=!0,N=x.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,E+1)),T=()=>{let A;return b?A=C:R?A=N:x.route.Component?A=O.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=y,O.createElement(ZR,{match:x,routeContext:{outlet:y,matches:I,isDataRoute:n!=null},children:A})};return n&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?O.createElement(QR,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:T(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):T()},null)}var Sb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sb||{}),dd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dd||{});function eN(e){let t=O.useContext(kg);return t||Xt(!1),t}function tN(e){let t=O.useContext($R);return t||Xt(!1),t}function nN(e){let t=O.useContext(Fa);return t||Xt(!1),t}function _b(e){let t=nN(),n=t.matches[t.matches.length-1];return n.route.id||Xt(!1),n.route.id}function rN(){var e;let t=O.useContext(Eb),n=tN(dd.UseRouteError),r=_b(dd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function iN(){let{router:e}=eN(Sb.UseNavigateStable),t=_b(dd.UseNavigateStable),n=O.useRef(!1);return Cb(()=>{n.current=!0}),O.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jl({fromRouteId:t},a)))},[e,t])}function sN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gl(e){Xt(!1)}function oN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ls.Pop,navigator:a,static:c=!1,future:h}=e;tf()&&Xt(!1);let g=t.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:g,navigator:a,static:c,future:Jl({v7_relativeSplatPath:!1},h)}),[g,h,a,c]);typeof r=="string"&&(r=Ba(r));let{pathname:y="/",search:x="",hash:E="",state:b=null,key:R="default"}=r,C=O.useMemo(()=>{let N=vb(y,g);return N==null?null:{location:{pathname:N,search:x,hash:E,state:b,key:R},navigationType:s}},[g,y,x,E,b,R,s]);return C==null?null:O.createElement(Jd.Provider,{value:p},O.createElement(ef.Provider,{children:n,value:C}))}function aN(e){let{children:t,location:n}=e;return XR(Y0(t),n)}new Promise(()=>{});function Y0(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(r,s)=>{if(!O.isValidElement(r))return;let a=[...t,s];if(r.type===O.Fragment){n.push.apply(n,Y0(r.props.children,a));return}r.type!==gl&&Xt(!1),!r.props.index||!r.props.children||Xt(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Y0(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lN="6";try{window.__reactRouterVersion=lN}catch{}const cN="startTransition",pw=_1[cN];function uN(e){let{basename:t,children:n,future:r,window:s}=e,a=O.useRef();a.current==null&&(a.current=yR({window:s,v5Compat:!0}));let c=a.current,[h,g]=O.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},y=O.useCallback(x=>{p&&pw?pw(()=>g(x)):g(x)},[g,p]);return O.useLayoutEffect(()=>c.listen(y),[c,y]),O.useEffect(()=>sN(r),[r]),O.createElement(oN,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}var mw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mw||(mw={}));var ww;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ww||(ww={}));var K0=function(e,t){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},K0(e,t)};function Ab(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hr=function(){return hr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hr.apply(this,arguments)};function _s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Tb(e,t,n,r){var s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var h=e.length-1;h>=0;h--)(c=e[h])&&(a=(s<3?c(a):s>3?c(t,n,a):c(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function Ib(e,t){return function(n,r){t(n,r,e)}}function Rb(e,t,n,r,s,a){function c(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var h=r.kind,g=h==="getter"?"get":h==="setter"?"set":"value",p=!t&&e?r.static?e:e.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),x,E=!1,b=n.length-1;b>=0;b--){var R={};for(var C in r)R[C]=C==="access"?{}:r[C];for(var C in r.access)R.access[C]=r.access[C];R.addInitializer=function(I){if(E)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(I||null))};var N=(0,n[b])(h==="accessor"?{get:y.get,set:y.set}:y[g],R);if(h==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(x=c(N.get))&&(y.get=x),(x=c(N.set))&&(y.set=x),(x=c(N.init))&&s.unshift(x)}else(x=c(N))&&(h==="field"?s.unshift(x):y[g]=x)}p&&Object.defineProperty(p,r.name,y),E=!0}function Nb(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function Ob(e){return typeof e=="symbol"?e:"".concat(e)}function Pb(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function kb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ve(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{p(r.next(y))}catch(x){c(x)}}function g(y){try{p(r.throw(y))}catch(x){c(x)}}function p(y){y.done?a(y.value):s(y.value).then(h,g)}p((r=r.apply(e,t||[])).next())})}function Db(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var nf=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function Mb(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&nf(t,e,n)}function fd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mg(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],c;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(h){c={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function Lb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mg(arguments[t]));return e}function Bb(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],c=0,h=a.length;c<h;c++,s++)r[s]=a[c];return r}function Lg(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Sa(e){return this instanceof Sa?(this.v=e,this):new Sa(e)}function Fb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(b){return function(R){return Promise.resolve(R).then(b,x)}}function h(b,R){r[b]&&(s[b]=function(C){return new Promise(function(N,I){a.push([b,C,N,I])>1||g(b,C)})},R&&(s[b]=R(s[b])))}function g(b,R){try{p(r[b](R))}catch(C){E(a[0][3],C)}}function p(b){b.value instanceof Sa?Promise.resolve(b.value.v).then(y,x):E(a[0][2],b)}function y(b){g("next",b)}function x(b){g("throw",b)}function E(b,R){b(R),a.shift(),a.length&&g(a[0][0],a[0][1])}}function jb(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,a){t[s]=e[s]?function(c){return(n=!n)?{value:Sa(e[s](c)),done:!1}:a?a(c):c}:a}}function Ub(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof fd=="function"?fd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(c){return new Promise(function(h,g){c=e[a](c),s(h,g,c.done,c.value)})}}function s(a,c,h,g){Promise.resolve(g).then(function(p){a({value:p,done:h})},c)}}function Vb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var dN=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},q0=function(e){return q0=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},q0(e)};function Wb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=q0(e),r=0;r<n.length;r++)n[r]!=="default"&&nf(t,e,n[r]);return dN(t,e),t}function zb(e){return e&&e.__esModule?e:{default:e}}function Hb(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function $b(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function Gb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Xb(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var fN=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Yb(e){function t(a){e.error=e.hasError?new fN(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(s,function(c){return t(c),s()})}else r|=1}catch(c){t(c)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Kb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,a,c){return r?t?".jsx":".js":s&&(!a||!c)?n:s+a+"."+c.toLowerCase()+"js"}):e}const hN={__extends:Ab,__assign:hr,__rest:_s,__decorate:Tb,__param:Ib,__esDecorate:Rb,__runInitializers:Nb,__propKey:Ob,__setFunctionName:Pb,__metadata:kb,__awaiter:ve,__generator:Db,__createBinding:nf,__exportStar:Mb,__values:fd,__read:Mg,__spread:Lb,__spreadArrays:Bb,__spreadArray:Lg,__await:Sa,__asyncGenerator:Fb,__asyncDelegator:jb,__asyncValues:Ub,__makeTemplateObject:Vb,__importStar:Wb,__importDefault:zb,__classPrivateFieldGet:Hb,__classPrivateFieldSet:$b,__classPrivateFieldIn:Gb,__addDisposableResource:Xb,__disposeResources:Yb,__rewriteRelativeImportExtension:Kb},gN=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xb,get __assign(){return hr},__asyncDelegator:jb,__asyncGenerator:Fb,__asyncValues:Ub,__await:Sa,__awaiter:ve,__classPrivateFieldGet:Hb,__classPrivateFieldIn:Gb,__classPrivateFieldSet:$b,__createBinding:nf,__decorate:Tb,__disposeResources:Yb,__esDecorate:Rb,__exportStar:Mb,__extends:Ab,__generator:Db,__importDefault:zb,__importStar:Wb,__makeTemplateObject:Vb,__metadata:kb,__param:Ib,__propKey:Ob,__read:Mg,__rest:_s,__rewriteRelativeImportExtension:Kb,__runInitializers:Nb,__setFunctionName:Pb,__spread:Lb,__spreadArray:Lg,__spreadArrays:Bb,__values:fd,default:hN},Symbol.toStringTag,{value:"Module"})),pN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Bg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mN extends Bg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yw extends Bg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xw extends Bg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Q0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Q0||(Q0={}));class wN{constructor(t,{headers:n={},customFetch:r,region:s=Q0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=pN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ve(this,arguments,void 0,function*(n,r={}){var s;let a,c;try{const{headers:h,method:g,body:p,signal:y,timeout:x}=r;let E={},{region:b}=r;b||(b=this.region);const R=new URL(`${this.url}/${n}`);b&&b!=="any"&&(E["x-region"]=b,R.searchParams.set("forceFunctionRegion",b));let C;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",C=p):typeof p=="string"?(E["Content-Type"]="text/plain",C=p):typeof FormData<"u"&&p instanceof FormData?C=p:(E["Content-Type"]="application/json",C=JSON.stringify(p)):C=p;let N=y;x&&(c=new AbortController,a=setTimeout(()=>c.abort(),x),y?(N=c.signal,y.addEventListener("abort",()=>c.abort())):N=c.signal);const I=yield this.fetch(R.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),h),body:C,signal:N}).catch(j=>{throw new mN(j)}),T=I.headers.get("x-relay-error");if(T&&T==="true")throw new yw(I);if(!I.ok)throw new xw(I);let A=((s=I.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return A==="application/json"?M=yield I.json():A==="application/octet-stream"||A==="application/pdf"?M=yield I.blob():A==="text/event-stream"?M=I:A==="multipart/form-data"?M=yield I.formData():M=yield I.text(),{data:M,error:null,response:I}}catch(h){return{data:null,error:h,response:h instanceof xw||h instanceof yw?h.context:void 0}}finally{a&&clearTimeout(a)}})}}var En={};const ja=g_(gN);var tu={},nu={},ru={},iu={},su={},ou={},vw;function qb(){if(vw)return ou;vw=1,Object.defineProperty(ou,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ou.default=e,ou}var bw;function Qb(){if(bw)return su;bw=1,Object.defineProperty(su,"__esModule",{value:!0});const t=ja.__importDefault(qb());class n{constructor(s){var a,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,y,x,E;let b=null,R=null,C=null,N=g.status,I=g.statusText;if(g.ok){if(this.method!=="HEAD"){const j=await g.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?R=j:R=JSON.parse(j))}const A=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),M=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&M&&M.length>1&&(C=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(b={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,C=null,N=406,I="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const A=await g.text();try{b=JSON.parse(A),Array.isArray(b)&&g.status===404&&(R=[],b=null,N=200,I="OK")}catch{g.status===404&&A===""?(N=204,I="No Content"):b={message:A}}if(b&&this.isMaybeSingle&&(!((E=b==null?void 0:b.details)===null||E===void 0)&&E.includes("0 rows"))&&(b=null,N=200,I="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:R,count:C,status:N,statusText:I}});return this.shouldThrowOnError||(h=h.catch(g=>{var p,y,x,E,b,R;let C="";const N=g==null?void 0:g.cause;if(N){const I=(p=N==null?void 0:N.message)!==null&&p!==void 0?p:"",T=(y=N==null?void 0:N.code)!==null&&y!==void 0?y:"";C=`${(x=g==null?void 0:g.name)!==null&&x!==void 0?x:"FetchError"}: ${g==null?void 0:g.message}`,C+=`

Caused by: ${(E=N==null?void 0:N.name)!==null&&E!==void 0?E:"Error"}: ${I}`,T&&(C+=` (${T})`),N!=null&&N.stack&&(C+=`
${N.stack}`)}else C=(b=g==null?void 0:g.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(R=g==null?void 0:g.name)!==null&&R!==void 0?R:"FetchError"}: ${g==null?void 0:g.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(s,a)}returns(){return this}overrideTypes(){return this}}return su.default=n,su}var Ew;function Zb(){if(Ew)return iu;Ew=1,Object.defineProperty(iu,"__esModule",{value:!0});const t=ja.__importDefault(Qb());class n extends t.default{select(s){let a=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:c,foreignTable:h,referencedTable:g=h}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${s}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:c=a}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,a,{foreignTable:c,referencedTable:h=c}={}){const g=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${s}`),this.url.searchParams.set(p,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:c=!1,buffers:h=!1,wal:g=!1,format:p="text"}={}){var y;const x=[s?"analyze":null,a?"verbose":null,c?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${E}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return iu.default=n,iu}var Cw;function Fg(){if(Cw)return ru;Cw=1,Object.defineProperty(ru,"__esModule",{value:!0});const t=ja.__importDefault(Zb()),n=new RegExp("[,()]");class r extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}regexMatch(a,c){return this.url.searchParams.append(a,`match.${c}`),this}regexIMatch(a,c){return this.url.searchParams.append(a,`imatch.${c}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}isDistinct(a,c){return this.url.searchParams.append(a,`isdistinct.${c}`),this}in(a,c){const h=Array.from(new Set(c)).map(g=>typeof g=="string"&&n.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(a,`in.(${h})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:h,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(a,`${p}fts${y}.${c}`),this}match(a){return Object.entries(a).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(a,c,h){return this.url.searchParams.append(a,`not.${c}.${h}`),this}or(a,{foreignTable:c,referencedTable:h=c}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${a})`),this}filter(a,c,h){return this.url.searchParams.append(a,`${c}.${h}`),this}}return ru.default=r,ru}var Sw;function Jb(){if(Sw)return nu;Sw=1,Object.defineProperty(nu,"__esModule",{value:!0});const t=ja.__importDefault(Fg());class n{constructor(s,{headers:a={},schema:c,fetch:h}){this.url=s,this.headers=new Headers(a),this.schema=c,this.fetch=h}select(s,a){const{head:c=!1,count:h}=a??{},g=c?"HEAD":"GET";let p=!1;const y=(s??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:c=!0}={}){var h;const g="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(p.length>0){const y=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:c=!1,count:h,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((E,b)=>E.concat(Object.keys(b)),[]);if(x.length>0){const E=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",E.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(s,{count:a}={}){var c;const h="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var a;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return nu.default=n,nu}var _w;function yN(){if(_w)return tu;_w=1,Object.defineProperty(tu,"__esModule",{value:!0});const e=ja,t=e.__importDefault(Jb()),n=e.__importDefault(Fg());class r{constructor(a,{headers:c={},schema:h,fetch:g}={}){this.url=a,this.headers=new Headers(c),this.schemaName=h,this.fetch=g}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${a}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:h=!1,get:g=!1,count:p}={}){var y;let x;const E=new URL(`${this.url}/rpc/${a}`);let b;h||g?(x=h?"HEAD":"GET",Object.entries(c).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{E.searchParams.append(C,N)})):(x="POST",b=c);const R=new Headers(this.headers);return p&&R.set("Prefer",`count=${p}`),new n.default({method:x,url:E,headers:R,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return tu.default=r,tu}Object.defineProperty(En,"__esModule",{value:!0});var eE=En.PostgrestError=uE=En.PostgrestBuilder=lE=En.PostgrestTransformBuilder=oE=En.PostgrestFilterBuilder=iE=En.PostgrestQueryBuilder=nE=En.PostgrestClient=void 0;const Ua=ja,tE=Ua.__importDefault(yN());var nE=En.PostgrestClient=tE.default;const rE=Ua.__importDefault(Jb());var iE=En.PostgrestQueryBuilder=rE.default;const sE=Ua.__importDefault(Fg());var oE=En.PostgrestFilterBuilder=sE.default;const aE=Ua.__importDefault(Zb());var lE=En.PostgrestTransformBuilder=aE.default;const cE=Ua.__importDefault(Qb());var uE=En.PostgrestBuilder=cE.default;const dE=Ua.__importDefault(qb());eE=En.PostgrestError=dE.default;var fE=En.default={PostgrestClient:tE.default,PostgrestQueryBuilder:rE.default,PostgrestFilterBuilder:sE.default,PostgrestTransformBuilder:aE.default,PostgrestBuilder:cE.default,PostgrestError:dE.default};const xN=x1({__proto__:null,get PostgrestBuilder(){return uE},get PostgrestClient(){return nE},get PostgrestError(){return eE},get PostgrestFilterBuilder(){return oE},get PostgrestQueryBuilder(){return iE},get PostgrestTransformBuilder(){return lE},default:fE},[En]),{PostgrestClient:vN,PostgrestQueryBuilder:R7,PostgrestFilterBuilder:N7,PostgrestTransformBuilder:O7,PostgrestBuilder:P7,PostgrestError:k7}=fE||xN;class bN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EN="2.84.0",CN=`realtime-js/${EN}`,hE="1.0.0",SN="2.0.0",Aw=hE,Z0=1e4,_N=1e3,AN=100;var Ws;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ws||(Ws={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var jr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jr||(jr={}));var J0;(function(e){e.websocket="websocket"})(J0||(J0={}));var zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zs||(zs={}));class TN{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r,s,a;const c=t.topic,h=(n=t.ref)!==null&&n!==void 0?n:"",g=(r=t.join_ref)!==null&&r!==void 0?r:"",p=t.payload.event,y=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+p.length,E=new ArrayBuffer(this.HEADER_LENGTH+x);let b=new DataView(E),R=0;b.setUint8(R++,this.KINDS.userBroadcastPush),b.setUint8(R++,g.length),b.setUint8(R++,h.length),b.setUint8(R++,c.length),b.setUint8(R++,p.length),b.setUint8(R++,this.BINARY_ENCODING),Array.from(g,N=>b.setUint8(R++,N.charCodeAt(0))),Array.from(h,N=>b.setUint8(R++,N.charCodeAt(0))),Array.from(c,N=>b.setUint8(R++,N.charCodeAt(0))),Array.from(p,N=>b.setUint8(R++,N.charCodeAt(0)));var C=new Uint8Array(E.byteLength+y.byteLength);return C.set(new Uint8Array(E),0),C.set(new Uint8Array(y),E.byteLength),C.buffer}_encodeJsonUserBroadcastPush(t){var n,r,s,a;const c=t.topic,h=(n=t.ref)!==null&&n!==void 0?n:"",g=(r=t.join_ref)!==null&&r!==void 0?r:"",p=t.payload.event,y=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},E=new TextEncoder().encode(JSON.stringify(y)).buffer,b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+p.length,R=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(R),N=0;C.setUint8(N++,this.KINDS.userBroadcastPush),C.setUint8(N++,g.length),C.setUint8(N++,h.length),C.setUint8(N++,c.length),C.setUint8(N++,p.length),C.setUint8(N++,this.JSON_ENCODING),Array.from(g,T=>C.setUint8(N++,T.charCodeAt(0))),Array.from(h,T=>C.setUint8(N++,T.charCodeAt(0))),Array.from(c,T=>C.setUint8(N++,T.charCodeAt(0))),Array.from(p,T=>C.setUint8(N++,T.charCodeAt(0)));var I=new Uint8Array(R.byteLength+E.byteLength);return I.set(new Uint8Array(R),0),I.set(new Uint8Array(E),R.byteLength),I.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,a,c,h,g]=r;return n({join_ref:s,ref:a,topic:c,event:h,payload:g})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(t.slice(g,g+s));g=g+s;const y=r.decode(t.slice(g,g+a));g=g+a;const x=r.decode(t.slice(g,g+c));g=g+c;const E=t.slice(g,t.byteLength),b=h===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,R={type:this.BROADCAST_EVENT,event:y,payload:b};return c>0&&(R.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class gE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const Tw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=IN(c,e,t,s),a),{}):{}},IN=(e,t,n,r)=>{const s=t.find(h=>h.name===e),a=s==null?void 0:s.type,c=n[e];return a&&!r.includes(a)?pE(a,c):e1(c)},pE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return PN(t,n)}switch(e){case at.bool:return RN(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return NN(t);case at.json:case at.jsonb:return ON(t);case at.timestamp:return kN(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return e1(t);default:return e1(t)}},e1=e=>e,RN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ON=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const c=e.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>pE(t,h))}return e},kN=e=>typeof e=="string"?e.replace(" ","T"):e,mE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xh{constructor(t,n,r={},s=Z0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iw||(Iw={}));class Tl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,s,a,c),this.pendingDiffs.forEach(g=>{this.state=Tl.syncDiff(this.state,g,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tl.syncDiff(this.state,s,a,c),h())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),c=this.transformState(n),h={},g={};return this.map(a,(p,y)=>{c[p]||(g[p]=y)}),this.map(c,(p,y)=>{const x=a[p];if(x){const E=y.map(N=>N.presence_ref),b=x.map(N=>N.presence_ref),R=y.filter(N=>b.indexOf(N.presence_ref)<0),C=x.filter(N=>E.indexOf(N.presence_ref)<0);R.length>0&&(h[p]=R),C.length>0&&(g[p]=C)}else h[p]=y}),this.syncDiff(a,{joins:h,leaves:g},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(h,g)=>{var p;const y=(p=t[h])!==null&&p!==void 0?p:[];if(t[h]=this.cloneDeep(g),y.length>0){const x=t[h].map(b=>b.presence_ref),E=y.filter(b=>x.indexOf(b.presence_ref)<0);t[h].unshift(...E)}r(h,y,g)}),this.map(c,(h,g)=>{let p=t[h];if(!p)return;const y=g.map(x=>x.presence_ref);p=p.filter(x=>y.indexOf(x.presence_ref)<0),t[h]=p,s(h,p,g),p.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rw||(Rw={}));var Il;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Il||(Il={}));var Ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class jg{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xh(this,jr.join,this.params,this.timeout),this.rejoinTimer=new gE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Tl(this),this.broadcastEndpointURL=mE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:c,presence:h,private:g}}=this.params,p=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[Il.PRESENCE]&&this.bindings[Il.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,x={},E={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Ci.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var R;if(this.socket.setAuth(),b===void 0){t==null||t(Ci.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,N=(R=C==null?void 0:C.length)!==null&&R!==void 0?R:0,I=[];for(let T=0;T<N;T++){const A=C[T],{filter:{event:M,schema:j,table:U,filter:F}}=A,H=b&&b[T];if(H&&H.event===M&&H.schema===j&&H.table===U&&H.filter===F)I.push(Object.assign(Object.assign({},A),{id:H.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(Ci.SUBSCRIBED);return}}).receive("error",b=>{this.state=zt.errored,t==null||t(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===zt.joined&&t===Il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const p=await h.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,g;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new xh(this,jr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xh(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>AN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const c=t.toLocaleLowerCase(),{close:h,error:g,leave:p,join:y}=jr;if(r&&[h,g,p,y].indexOf(c)>=0&&r!==this._joinRef())return;let E=this._onMessage(c,n,r);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var R,C,N;return((R=b.filter)===null||R===void 0?void 0:R.event)==="*"||((N=(C=b.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(b=>b.callback(E,r)):(a=this.bindings[c])===null||a===void 0||a.filter(b=>{var R,C,N,I,T,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const M=b.id,j=(R=b.filter)===null||R===void 0?void 0:R.event;return M&&((C=n.ids)===null||C===void 0?void 0:C.includes(M))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const M=(T=(I=b==null?void 0:b.filter)===null||I===void 0?void 0:I.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof E=="object"&&"ids"in E){const R=E.data,{schema:C,table:N,commit_timestamp:I,type:T,errors:A}=R;E=Object.assign(Object.assign({},{schema:C,table:N,commit_timestamp:I,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(R))}b.callback(E,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&jg.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jr.close,{},t)}_onError(t){this._on(jr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Tw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Tw(t.columns,t.old_record)),n}}const vh=()=>{},au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DN=[1e3,2e3,5e3,1e4],MN=1e4,LN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Z0,this.transport=null,this.heartbeatIntervalMs=au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vh,this.ref=0,this.reconnectTimer=null,this.vsn=Aw,this.logger=vh,this.conn=null,this.sendBuffer=[],this.serializer=new TN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${J0.websocket}`,this.httpEndpoint=mE(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ws.connecting:return zs.Connecting;case Ws.open:return zs.Open;case Ws.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new jg(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,c=()=>{this.encode(t,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_N,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:c}=n,h=c?`(${c})`:"",g=a.status||"";this.log("receive",`${g} ${r} ${s} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(s,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ws.open||this.conn.readyState===Ws.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([LN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:CN};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(jr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new gE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},au.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,c,h,g,p,y,x,E,b;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Z0,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:au.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:vh,this.vsn=(g=t==null?void 0:t.vsn)!==null&&g!==void 0?g:Aw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t==null?void 0:t.reconnectAfterMs)!==null&&p!==void 0?p:R=>DN[R-1]||MN,this.vsn){case hE:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:(R,C)=>C(JSON.stringify(R)),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:(R,C)=>C(JSON.parse(R));break;case SN:this.encode=(E=t==null?void 0:t.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ug extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FN extends Ug{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class t1 extends Ug{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Vg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jN=()=>Response,n1=e=>{if(Array.isArray(e))return e.map(n=>n1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=n1(r)}),t},UN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VN=(e,t,n)=>ve(void 0,void 0,void 0,function*(){const r=yield jN();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const a=e.status||500,c=(s==null?void 0:s.statusCode)||a+"";t(new FN(bh(s),a,c))}).catch(s=>{t(new t1(bh(s),s))}):t(new t1(bh(e),e))}),WN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(UN(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function wc(e,t,n,r,s,a){return ve(this,void 0,void 0,function*(){return new Promise((c,h)=>{e(n,WN(t,r,s,a)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>VN(g,h,r))})})}function ec(e,t,n,r){return ve(this,void 0,void 0,function*(){return wc(e,"GET",t,n,r)})}function Mr(e,t,n,r,s){return ve(this,void 0,void 0,function*(){return wc(e,"POST",t,r,s,n)})}function r1(e,t,n,r,s){return ve(this,void 0,void 0,function*(){return wc(e,"PUT",t,r,s,n)})}function zN(e,t,n,r){return ve(this,void 0,void 0,function*(){return wc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Wg(e,t,n,r,s){return ve(this,void 0,void 0,function*(){return wc(e,"DELETE",t,r,s,n)})}class HN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}}var wE;class $N{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[wE]="BlobDownloadBuilder",this.promise=null}asStream(){return new HN(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}}wE=Symbol.toStringTag;const GN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XN{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Vg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return ve(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Nw),s);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),g&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(g))):(a=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),x=yield(t=="PUT"?r1:Mr)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}upload(t,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return ve(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:Nw.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const x=yield r1(this.fetch,h.toString(),g,{headers:y});return{data:{path:a,fullPath:x.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(St(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Mr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new Ug("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}update(t,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ve(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}copy(t,n,r){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Mr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return ve(this,void 0,void 0,function*(){try{const s=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"",h=this._getFinalPath(t),g=()=>ec(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new $N(g,this.shouldThrowOnError)}info(t){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ec(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:n1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}exists(t){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield zN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r)&&r instanceof t1){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&s.push(g);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Wg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}list(t,n,r){return ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},GN),n),{prefix:t||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}listV2(t,n){return ve(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Mr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const yE="2.84.0",xE={"X-Client-Info":`storage-js/${yE}`};class YN{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xE),n),this.fetch=Vg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ve(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ec(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}createBucket(t){return ve(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ve(this,void 0,void 0,function*(){try{return{data:yield r1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Wg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class KN{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xE),n),this.fetch=Vg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBuckets(t){return ve(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ec(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Wg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}const zg={"X-Client-Info":`storage-js/${yE}`,"Content-Type":"application/json"};class vE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Eh extends vE{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qN extends vE{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ow;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ow||(Ow={}));const Hg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZN=(e,t,n)=>ve(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||s+"";t(new Eh(Pw(c),s,h))}).catch(()=>{const c=s+"",h=a.statusText||`HTTP ${s} error`;t(new Eh(h,s,c))});else{const c=s+"",h=a.statusText||`HTTP ${s} error`;t(new Eh(h,s,c))}}else t(new qN(Pw(e),e))}),JN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(QN(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function eO(e,t,n,r,s,a){return ve(this,void 0,void 0,function*(){return new Promise((c,h)=>{e(n,JN(t,r,s,a)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>ZN(g,h,r))})})}function Kn(e,t,n,r,s){return ve(this,void 0,void 0,function*(){return eO(e,"POST",t,r,s,n)})}class tO{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zg),n),this.fetch=Hg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Kn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}})}listIndexes(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ve(this,void 0,void 0,function*(){try{return{data:(yield Kn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}})}}class nO{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zg),n),this.fetch=Hg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Kn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}getVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}listVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Kn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}queryVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Kn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}}class rO{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zg),n),this.fetch=Hg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Kn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}listBuckets(){return ve(this,arguments,void 0,function*(t={}){try{return{data:yield Kn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Kn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yn(n))return{data:null,error:n};throw n}})}}class iO extends rO{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new sO(this.url,this.headers,t,this.fetch)}}class sO extends tO{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new oO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class oO extends nO{constructor(t,n,r,s,a){super(t,n,a),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class aO extends YN{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new XN(this.url,this.headers,t,this.fetch)}get vectors(){return new iO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KN(this.url+"/iceberg",this.headers,this.fetch)}}const lO="2.84.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const cO={"X-Client-Info":`supabase-js-${pl}/${lO}`},uO={headers:cO},dO={schema:"public"},fO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hO={},gO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pO=()=>Headers,mO=(e,t,n)=>{const r=gO(n),s=pO();return async(a,c)=>{var h;const g=(h=await t())!==null&&h!==void 0?h:e;let p=new s(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(a,Object.assign(Object.assign({},c),{headers:p}))}};function wO(e){return e.endsWith("/")?e:e+"/"}function yO(e,t){var n,r;const{db:s,auth:a,realtime:c,global:h}=e,{db:g,auth:p,realtime:y,global:x}=t,E={db:Object.assign(Object.assign({},g),s),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),h),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}function xO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bE="2.84.0",Mo=30*1e3,i1=3,Ch=i1*Mo,vO="http://localhost:9999",bO="supabase.auth.token",EO={"X-Client-Info":`gotrue-js/${bE}`},s1="X-Supabase-Api-Version",EE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SO=10*60*1e3;class tc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _O extends tc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AO(e){return be(e)&&e.name==="AuthApiError"}class Hs extends tc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class As extends tc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Hn extends As{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TO(e){return be(e)&&e.name==="AuthSessionMissingError"}class Ao extends As{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lu extends As{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cu extends As{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IO(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class kw extends As{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o1 extends As{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sh(e){return be(e)&&e.name==="AuthRetryableFetchError"}class Dw extends As{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class a1 extends As{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mw=` 	
\r=`.split(""),RO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mw.length;t+=1)e[Mw[t].charCodeAt(0)]=-2;for(let t=0;t<hd.length;t+=1)e[hd[t].charCodeAt(0)]=t;return e})();function Lw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(hd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(hd[r]),t.queuedBits-=6}}function CE(e,t,n){const r=RO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bw(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{PO(c,r,n)};for(let c=0;c<e.length;c+=1)CE(e.charCodeAt(c),s,a);return t.join("")}function NO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}NO(r,t)}}function PO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)CE(e.charCodeAt(s),n,r);return new Uint8Array(t)}function kO(e){const t=[];return OO(e,n=>t.push(n)),new Uint8Array(t)}function Ys(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Lw(s,n,r)),Lw(null,n,r),t.join("")}function DO(e){return Math.round(Date.now()/1e3)+e}function MO(){return Symbol("auth-callback")}const rn=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},SE=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function LO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const _E=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Bs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gi=async(e,t)=>{await e.removeItem(t)};class rf{constructor(){this.promise=new rf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}rf.promiseConstructor=Promise;function _h(e){const t=e.split(".");if(t.length!==3)throw new a1("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!CO.test(t[r]))throw new a1("JWT not in base64url format");return{header:JSON.parse(Bw(t[0])),payload:JSON.parse(Bw(t[1])),signature:sa(t[2]),raw:{header:t[0],payload:t[1]}}}async function FO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jO(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){r(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function UO(e){return("0"+e.toString(16)).substr(-2)}function VO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,UO).join("")}async function WO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function zO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await WO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function To(e,t,n=!1){const r=VO();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Lo(e,`${t}-code-verifier`,s);const a=await zO(r);return[a,r===a?"plain":"s256"]}const HO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $O(e){const t=e.headers.get(s1);if(!t||!t.match(HO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(e){if(!YO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ah(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KO(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Fw(e){return JSON.parse(JSON.stringify(e))}const Us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qO=[502,503,504];async function jw(e){var t;if(!BO(e))throw new o1(Us(e),0);if(qO.includes(e.status))throw new o1(Us(e),e.status);let n;try{n=await e.json()}catch(a){throw new Hs(Us(a),a)}let r;const s=$O(e);if(s&&s.getTime()>=EE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dw(Us(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Hn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Dw(Us(n),e.status,n.weak_password.reasons);throw new _O(Us(n),e.status||500,r)}const QO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Te(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[s1]||(a[s1]=EE["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const c=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await ZO(e,t,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function ZO(e,t,n,r,s,a){const c=QO(t,r,s,a);let h;try{h=await e(n,Object.assign({},c))}catch(g){throw console.error(g),new o1(Us(g),0)}if(h.ok||await jw(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(g){await jw(g)}}function Pr(e){var t;let n=null;t6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=DO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Uw(e){const t=Pr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function es(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JO(e){return{data:e,error:null}}function e6(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,c=_s(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function Vw(e){return e}function t6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Th=["global","local","others"];class n6{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=_E(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Th[0]){if(Th.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Th.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:es})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=_s(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:es})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Vw});if(y.error)throw y.error;const x=await y.json(),E=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(g=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(R=>{const C=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(R.split(";")[1].split("=")[1]);p[`${N}Page`]=C}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(be(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Io(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:es})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Io(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:es})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Io(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:es})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Io(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Io(t.userId),Io(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Vw});if(y.error)throw y.error;const x=await y.json(),E=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(g=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(R=>{const C=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(R.split(";")[1].split("=")[1]);p[`${N}Page`]=C}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(be(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function Ww(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ro={debug:!!(globalThis&&SE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r6 extends AE{}async function i6(e,t,n){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ro.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function s6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function o6(e){return parseInt(e,16)}function a6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function l6(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:c,notBefore:h,requestId:g,resources:p,scheme:y,uri:x,version:E}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=TE(e.address),R=y?`${y}://${r}`:r,C=e.statement?`${e.statement}
`:"",N=`${R} wants you to sign in with your Ethereum account:
${b}

${C}`;let I=`URI: ${x}
Version: ${E}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),h&&(I+=`
Not Before: ${h.toISOString()}`),g&&(I+=`
Request ID: ${g}`),p){let T=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}I+=T}return`${N}
${I}`}class Bt extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class gd extends Bt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function c6({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(IE(c)){if(a.rp.id!==c)return new Bt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function u6({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(IE(r)){if(n.rpId!==r)return new Bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class d6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const f6=new d6;function h6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=_s(e,["challenge","user","excludeCredentials"]),a=sa(t).buffer,c=Object.assign(Object.assign({},n),{id:sa(n.id).buffer}),h=Object.assign(Object.assign({},s),{challenge:a,user:c});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];h.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:sa(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function g6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=_s(e,["challenge","allowCredentials"]),s=sa(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];a.allowCredentials[c]=Object.assign(Object.assign({},h),{id:sa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function p6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ys(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ys(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function m6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ys(new Uint8Array(s.authenticatorData)),clientDataJSON:Ys(new Uint8Array(s.clientDataJSON)),signature:Ys(new Uint8Array(s.signature)),userHandle:s.userHandle?Ys(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zw(){var e,t;return!!(rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function w6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gd("Browser returned unexpected credential type",t)}:{data:null,error:new gd("Empty credential response",t)}}catch(t){return{data:null,error:c6({error:t,options:e})}}}async function y6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gd("Browser returned unexpected credential type",t)}:{data:null,error:new gd("Empty credential response",t)}}catch(t){return{data:null,error:u6({error:t,options:e})}}}const x6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},v6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const c=s[a];if(c!==void 0)if(Array.isArray(c))r[a]=c;else if(n(c))r[a]=c;else if(t(c)){const h=r[a];t(h)?r[a]=pd(h,c):r[a]=pd(c)}else r[a]=c}return r}function b6(e,t){return pd(x6,e,t||{})}function E6(e,t){return pd(v6,e,t||{})}class C6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:h};const g=s??f6.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=b6(c.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:y,error:x}=await w6({publicKey:p,signal:g});return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const p=E6(c.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:y,error:x}=await y6(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(c){return be(c)?{data:null,error:c}:{data:null,error:new Hs("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new tc("rpId is required for WebAuthn authentication")};try{if(!zw())return{data:null,error:new Hs("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!c)return{data:null,error:h};const{webauthn:g}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:r,credential_response:g.credential_response}})}catch(c){return be(c)?{data:null,error:c}:{data:null,error:new Hs("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new tc("rpId is required for WebAuthn registration")};try{if(!zw())return{data:null,error:new Hs("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return be(c)?{data:null,error:c}:{data:null,error:new Hs("Unexpected error in register",c)}}}}s6();const S6={url:vO,storageKey:bO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Hw(e,t,n){return await n()}const No={};class nc{get jwks(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},S6),t);if(this.storageKey=a.storageKey,this.instanceID=(n=nc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,nc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&rn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new n6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_E(a.fetch),this.lock=a.lock||Hw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:rn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=i6:this.lock=Hw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new C6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:SE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(rn()&&(n=LO(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),rn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),IO(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Hs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pr}),{data:c,error:h}=a;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:y,password:x,options:E}=t;let b=null,R=null;this.flowType==="pkce"&&([b,R]=await To(this.storage,this.storageKey)),a=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:x,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:b,code_challenge_method:R},xform:Pr})}else if("phone"in t){const{phone:y,password:x,options:E}=t;a=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(s=E==null?void 0:E.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Pr})}else throw new lu("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:c,options:h}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Uw})}else if("phone"in t){const{phone:a,password:c,options:h}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Uw})}else throw new lu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new Ao;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,c,h,g,p,y,x,E;let b,R;if("message"in t)b=t.message,R=t.signature;else{const{chain:C,wallet:N,statement:I,options:T}=t;let A;if(rn())if(typeof N=="object")A=N;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")A=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const M=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href),j=await A.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=TE(j[0]);let F=(r=T==null?void 0:T.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const z=await A.request({method:"eth_chainId"});F=o6(z)}const H={domain:M.host,address:U,statement:I,uri:M.href,version:"1",chainId:F,nonce:(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(a=T==null?void 0:T.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=T==null?void 0:T.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=T==null?void 0:T.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=l6(H),R=await A.request({method:"personal_sign",params:[a6(b),U]})}try{const{data:C,error:N}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:R},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Pr});if(N)throw N;if(!C||!C.session||!C.user){const I=new Ao;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:N})}catch(C){if(be(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(t){var n,r,s,a,c,h,g,p,y,x,E,b;let R,C;if("message"in t)R=t.message,C=t.signature;else{const{chain:N,wallet:I,statement:T,options:A}=t;let M;if(rn())if(typeof I=="object")M=I;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))M=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=I}const j=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const U=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),T?{statement:T}:null));let F;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")F=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)F=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)R=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),C=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${j.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((g=A==null?void 0:A.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(y=A==null?void 0:A.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const U=await M.signMessage(new TextEncoder().encode(R),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=U}}try{const{data:N,error:I}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Ys(C)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pr});if(I)throw I;if(!N||!N.session||!N.user){const T=new Ao;return this._returnResult({data:{user:null,session:null},error:T})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:I})}catch(N){if(be(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const n=await Bs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:c}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Pr});if(await Gi(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const h=new Ao;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:c}=t,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pr}),{data:g,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const y=new Ao;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,a,c;try{if("email"in t){const{email:h,options:g}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await To(this.storage,this.storageKey));const{error:x}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:h,options:g}=t,{data:p,error:y}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new lu("You must provide either an email or phone number.")}catch(h){if(be(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Pr});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,a,c;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await To(this.storage,this.storageKey));const p=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:JO});return!((a=p.data)===null||a===void 0)&&a.url&&rn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(be(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Hn;const{error:s}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:c}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:c,error:h}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new lu("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ch:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Bs(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Ah()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=KO(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:es}):await this._useSession(async n=>{var r,s,a;const{data:c,error:h}=n;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:es})})}catch(n){if(be(n))return TO(n)&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Hn;const c=s.session;let h=null,g=null;this.flowType==="pkce"&&t.email!=null&&([h,g]=await To(this.storage,this.storageKey));const{data:p,error:y}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:es});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:c}=_h(t.access_token);if(c.exp&&(r=c.exp,s=r<=n),s){const{data:h,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:h}=n;if(h)throw h;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Hn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!rn())throw new cu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kw("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:h,expires_at:g,token_type:p}=t;if(!a||!h||!c||!p)throw new cu("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(h);let E=y+x;g&&(E=parseInt(g));const b=E-y;b*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const R=E-x;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,E,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,E,y);const{data:C,error:N}=await this._getUser(a);if(N)throw N;const I={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:x,expires_at:E,refresh_token:c,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:t.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const c=(r=s.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(AO(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=MO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await To(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var c,h,g,p,y;const{data:x,error:E}=a;if(E)throw E;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return rn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:c,provider:h,token:g,access_token:p,nonce:y}=t,x=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Pr}),{data:E,error:b}=x;return b?this._returnResult({data:{user:null,session:null},error:b}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Ao}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:b}))}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:c}=n;if(c)throw c;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await jO(async s=>(s>0&&await FO(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pr})),(s,a)=>{const c=200*Math.pow(2,s);return a&&Sh(a)&&Date.now()+c-r<Mo})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),rn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Bs(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Bs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Lo(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Ah()}else if(s&&!s.user&&!s.user){const c=await Bs(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await Gi(this.storage,this.storageKey+"-user"),await Lo(this.storage,this.storageKey,s)):s.user=Ah()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ch;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ch}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Sh(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(s.access_token);!h&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rf;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={data:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(s,"error",a),be(a)){const c={data:null,error:a};return Sh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(g){a.push(g)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=Fw(s);await Lo(this.storage,this.storageKey,a)}else{const s=Fw(n);await Lo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gi(this.storage,this.storageKey),await Gi(this.storage,this.storageKey+"-code-verifier"),await Gi(this.storage,this.storageKey+"-user"),this.userStorage&&await Gi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mo}ms, refresh threshold is ${i1} ticks`),s<=i1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,c]=await To(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:p}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&g.type==="totp"&&(!((s=g==null?void 0:g.totp)===null||s===void 0)&&s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?p6(t.webauthn.credential_response):m6(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:g}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:h6(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g6(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_h(r.access_token);let c=null;a.aal&&(c=a.aal);let h=c;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const p=a.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Hn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Hn});const c=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&rn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Hn});const c=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&rn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Hn})})}catch(t){if(be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Hn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(h=>h.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(h=>h.kid===t),r&&this.jwks_cached_at+SO>s)return r;const{data:a,error:c}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(h=>h.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:R}=await this.getSession();if(R||!b.session)return this._returnResult({data:null,error:R});r=b.session.access_token}const{header:s,payload:a,signature:c,raw:{header:h,payload:g}}=_h(r);n!=null&&n.allowExpired||GO(a.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:s,signature:c},error:null}}const y=XO(s.alg),x=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,c,kO(`${h}.${g}`)))throw new a1("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}nc.nextInstanceID={};const _6=nc;class A6 extends _6{constructor(t){super(t)}}class T6{constructor(t,n,r){var s,a,c;this.supabaseUrl=t,this.supabaseKey=n;const h=xO(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const g=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:dO,realtime:hO,auth:Object.assign(Object.assign({},fO),{storageKey:g}),global:uO},y=yO(r??{},p);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=mO(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new vN(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new aO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new wN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:c,flowType:h,lock:g,debug:p,throwOnError:y},x,E){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A6({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),x),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,flowType:h,lock:g,debug:p,throwOnError:y,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new BN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I6=(e,t,n)=>new T6(e,t,n);function R6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}R6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const N6="https://lomyfikrrtcnyhaaehbo.supabase.co",O6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvbXlmaWtycnRjbnloYWFlaGJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxNDA1MTIsImV4cCI6MjA3OTcxNjUxMn0.AroG66ktpnDsjM0jkp55JOKxLDqNUNz3Xx4nsP-GOJA",mn=I6(N6,O6,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),P6=()=>{const e=mc();return O.useEffect(()=>{(async()=>{const{data:{session:n}}=await mn.auth.getSession();e(n?"/dashboard":"/auth")})()},[e]),null},k6=Hd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Sn=O.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const c=r?Y3:"button";return _.jsx(c,{className:Ke(k6({variant:t,size:n,className:e})),ref:a,...s})});Sn.displayName="Button";const Mn=O.forwardRef(({className:e,type:t,...n},r)=>_.jsx("input",{type:t,className:Ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Mn.displayName="Input";var D6="Label",RE=O.forwardRef((e,t)=>_.jsx(Ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RE.displayName=D6;var NE=RE;const M6=Hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),on=O.forwardRef(({className:e,...t},n)=>_.jsx(NE,{ref:n,className:Ke(M6(),e),...t}));on.displayName=NE.displayName;const pr=O.forwardRef(({className:e,...t},n)=>_.jsx("div",{ref:n,className:Ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pr.displayName="Card";const mr=O.forwardRef(({className:e,...t},n)=>_.jsx("div",{ref:n,className:Ke("flex flex-col space-y-1.5 p-6",e),...t}));mr.displayName="CardHeader";const wr=O.forwardRef(({className:e,...t},n)=>_.jsx("h3",{ref:n,className:Ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));wr.displayName="CardTitle";const yc=O.forwardRef(({className:e,...t},n)=>_.jsx("p",{ref:n,className:Ke("text-sm text-muted-foreground",e),...t}));yc.displayName="CardDescription";const yr=O.forwardRef(({className:e,...t},n)=>_.jsx("div",{ref:n,className:Ke("p-6 pt-0",e),...t}));yr.displayName="CardContent";const L6=O.forwardRef(({className:e,...t},n)=>_.jsx("div",{ref:n,className:Ke("flex items-center p-6 pt-0",e),...t}));L6.displayName="CardFooter";var B6=O.createContext(void 0);function sf(e){const t=O.useContext(B6);return e||t||"ltr"}var Ih="rovingFocusGroup.onEntryFocus",F6={bubbles:!1,cancelable:!0},xc="RovingFocusGroup",[l1,OE,j6]=Gv(xc),[U6,of]=Gr(xc,[j6]),[V6,W6]=U6(xc),PE=O.forwardRef((e,t)=>_.jsx(l1.Provider,{scope:e.__scopeRovingFocusGroup,children:_.jsx(l1.Slot,{scope:e.__scopeRovingFocusGroup,children:_.jsx(z6,{...e,ref:t})})}));PE.displayName=xc;var z6=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...x}=e,E=O.useRef(null),b=pt(t,E),R=sf(a),[C,N]=hc({prop:c,defaultProp:h??null,onChange:g,caller:xc}),[I,T]=O.useState(!1),A=$t(p),M=OE(n),j=O.useRef(!1),[U,F]=O.useState(0);return O.useEffect(()=>{const H=E.current;if(H)return H.addEventListener(Ih,A),()=>H.removeEventListener(Ih,A)},[A]),_.jsx(V6,{scope:n,orientation:r,dir:R,loop:s,currentTabStopId:C,onItemFocus:O.useCallback(H=>N(H),[N]),onItemShiftTab:O.useCallback(()=>T(!0),[]),onFocusableItemAdd:O.useCallback(()=>F(H=>H+1),[]),onFocusableItemRemove:O.useCallback(()=>F(H=>H-1),[]),children:_.jsx(Ue.div,{tabIndex:I||U===0?-1:0,"data-orientation":r,...x,ref:b,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{j.current=!0}),onFocus:Pe(e.onFocus,H=>{const z=!j.current;if(H.target===H.currentTarget&&z&&!I){const ee=new CustomEvent(Ih,F6);if(H.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const de=M().filter(he=>he.focusable),Q=de.find(he=>he.active),ue=de.find(he=>he.id===C),G=[Q,ue,...de].filter(Boolean).map(he=>he.ref.current);ME(G,y)}}j.current=!1}),onBlur:Pe(e.onBlur,()=>T(!1))})})}),kE="RovingFocusGroupItem",DE=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:c,...h}=e,g=Al(),p=a||g,y=W6(kE,n),x=y.currentTabStopId===p,E=OE(n),{onFocusableItemAdd:b,onFocusableItemRemove:R,currentTabStopId:C}=y;return O.useEffect(()=>{if(r)return b(),()=>R()},[r,b,R]),_.jsx(l1.ItemSlot,{scope:n,id:p,focusable:r,active:s,children:_.jsx(Ue.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...h,ref:t,onMouseDown:Pe(e.onMouseDown,N=>{r?y.onItemFocus(p):N.preventDefault()}),onFocus:Pe(e.onFocus,()=>y.onItemFocus(p)),onKeyDown:Pe(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){y.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const I=G6(N,y.orientation,y.dir);if(I!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=E().filter(M=>M.focusable).map(M=>M.ref.current);if(I==="last")A.reverse();else if(I==="prev"||I==="next"){I==="prev"&&A.reverse();const M=A.indexOf(N.currentTarget);A=y.loop?X6(A,M+1):A.slice(M+1)}setTimeout(()=>ME(A))}}),children:typeof c=="function"?c({isCurrentTabStop:x,hasTabStop:C!=null}):c})})});DE.displayName=kE;var H6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function G6(e,t,n){const r=$6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H6[r]}function ME(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function X6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var LE=PE,BE=DE,af="Tabs",[Y6,D7]=Gr(af,[of]),FE=of(),[K6,$g]=Y6(af),jE=O.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:c="horizontal",dir:h,activationMode:g="automatic",...p}=e,y=sf(h),[x,E]=hc({prop:r,onChange:s,defaultProp:a??"",caller:af});return _.jsx(K6,{scope:n,baseId:Al(),value:x,onValueChange:E,orientation:c,dir:y,activationMode:g,children:_.jsx(Ue.div,{dir:y,"data-orientation":c,...p,ref:t})})});jE.displayName=af;var UE="TabsList",VE=O.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=$g(UE,n),c=FE(n);return _.jsx(LE,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:r,children:_.jsx(Ue.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});VE.displayName=UE;var WE="TabsTrigger",zE=O.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,c=$g(WE,n),h=FE(n),g=GE(c.baseId,r),p=XE(c.baseId,r),y=r===c.value;return _.jsx(BE,{asChild:!0,...h,focusable:!s,active:y,children:_.jsx(Ue.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:g,...a,ref:t,onMouseDown:Pe(e.onMouseDown,x=>{!s&&x.button===0&&x.ctrlKey===!1?c.onValueChange(r):x.preventDefault()}),onKeyDown:Pe(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&c.onValueChange(r)}),onFocus:Pe(e.onFocus,()=>{const x=c.activationMode!=="manual";!y&&!s&&x&&c.onValueChange(r)})})})});zE.displayName=WE;var HE="TabsContent",$E=O.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...c}=e,h=$g(HE,n),g=GE(h.baseId,r),p=XE(h.baseId,r),y=r===h.value,x=O.useRef(y);return O.useEffect(()=>{const E=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(E)},[]),_.jsx(Er,{present:s||y,children:({present:E})=>_.jsx(Ue.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":g,hidden:!E,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:E&&a})})});$E.displayName=HE;function GE(e,t){return`${e}-trigger-${t}`}function XE(e,t){return`${e}-content-${t}`}var q6=jE,YE=VE,KE=zE,qE=$E;const Q6=q6,QE=O.forwardRef(({className:e,...t},n)=>_.jsx(YE,{ref:n,className:Ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));QE.displayName=YE.displayName;const c1=O.forwardRef(({className:e,...t},n)=>_.jsx(KE,{ref:n,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));c1.displayName=KE.displayName;const u1=O.forwardRef(({className:e,...t},n)=>_.jsx(qE,{ref:n,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));u1.displayName=qE.displayName;function Z6(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gg="Radio",[J6,ZE]=Gr(Gg),[eP,tP]=J6(Gg),JE=O.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:c,value:h="on",onCheck:g,form:p,...y}=e,[x,E]=O.useState(null),b=pt(t,N=>E(N)),R=O.useRef(!1),C=x?p||!!x.closest("form"):!0;return _.jsxs(eP,{scope:n,checked:s,disabled:c,children:[_.jsx(Ue.button,{type:"button",role:"radio","aria-checked":s,"data-state":rC(s),"data-disabled":c?"":void 0,disabled:c,value:h,...y,ref:b,onClick:Pe(e.onClick,N=>{s||g==null||g(),C&&(R.current=N.isPropagationStopped(),R.current||N.stopPropagation())})}),C&&_.jsx(nC,{control:x,bubbles:!R.current,name:r,value:h,checked:s,required:a,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});JE.displayName=Gg;var eC="RadioIndicator",tC=O.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=tP(eC,n);return _.jsx(Er,{present:r||a.checked,children:_.jsx(Ue.span,{"data-state":rC(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});tC.displayName=eC;var nP="RadioBubbleInput",nC=O.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const c=O.useRef(null),h=pt(c,a),g=Z6(n),p=H2(t);return O.useEffect(()=>{const y=c.current;if(!y)return;const x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(g!==n&&b){const R=new Event("click",{bubbles:r});b.call(y,n),y.dispatchEvent(R)}},[g,n,r]),_.jsx(Ue.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:h,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nC.displayName=nP;function rC(e){return e?"checked":"unchecked"}var rP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lf="RadioGroup",[iP,M7]=Gr(lf,[of,ZE]),iC=of(),sC=ZE(),[sP,oP]=iP(lf),oC=O.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:c=!1,disabled:h=!1,orientation:g,dir:p,loop:y=!0,onValueChange:x,...E}=e,b=iC(n),R=sf(p),[C,N]=hc({prop:a,defaultProp:s??null,onChange:x,caller:lf});return _.jsx(sP,{scope:n,name:r,required:c,disabled:h,value:C,onValueChange:N,children:_.jsx(LE,{asChild:!0,...b,orientation:g,dir:R,loop:y,children:_.jsx(Ue.div,{role:"radiogroup","aria-required":c,"aria-orientation":g,"data-disabled":h?"":void 0,dir:R,...E,ref:t})})})});oC.displayName=lf;var aC="RadioGroupItem",lC=O.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=oP(aC,n),c=a.disabled||r,h=iC(n),g=sC(n),p=O.useRef(null),y=pt(t,p),x=a.value===s.value,E=O.useRef(!1);return O.useEffect(()=>{const b=C=>{rP.includes(C.key)&&(E.current=!0)},R=()=>E.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",R),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",R)}},[]),_.jsx(BE,{asChild:!0,...h,focusable:!c,active:x,children:_.jsx(JE,{disabled:c,required:a.required,checked:x,...g,...s,name:a.name,ref:y,onCheck:()=>a.onValueChange(s.value),onKeyDown:Pe(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Pe(s.onFocus,()=>{var b;E.current&&((b=p.current)==null||b.click())})})})});lC.displayName=aC;var aP="RadioGroupIndicator",cC=O.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=sC(n);return _.jsx(tC,{...s,...r,ref:t})});cC.displayName=aP;var uC=oC,dC=lC,lP=cC;const fC=O.forwardRef(({className:e,...t},n)=>_.jsx(uC,{className:Ke("grid gap-2",e),...t,ref:n}));fC.displayName=uC.displayName;const d1=O.forwardRef(({className:e,...t},n)=>_.jsx(dC,{ref:n,className:Ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:_.jsx(lP,{className:"flex items-center justify-center",children:_.jsx(WT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d1.displayName=dC.displayName;const cP=()=>{const e=mc(),[t,n]=O.useState(!1),[r,s]=O.useState("student"),a=async h=>{h.preventDefault(),n(!0);const g=new FormData(h.currentTarget),p=g.get("signup-email"),y=g.get("signup-password"),x=g.get("full-name"),E=g.get("student-id"),b=g.get("department");try{const{error:R}=await mn.auth.signUp({email:p,password:y,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:x,role:r,student_id:E,department:b}}});if(R)throw R;fr.success("Account created successfully!"),e("/")}catch(R){fr.error(R.message||"Failed to sign up")}finally{n(!1)}},c=async h=>{h.preventDefault(),n(!0);const g=new FormData(h.currentTarget),p=g.get("signin-email"),y=g.get("signin-password");try{const{error:x}=await mn.auth.signInWithPassword({email:p,password:y});if(x)throw x;fr.success("Signed in successfully!"),e("/")}catch(x){fr.error(x.message||"Failed to sign in")}finally{n(!1)}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4",children:_.jsxs(pr,{className:"w-full max-w-md shadow-elevated",children:[_.jsxs(mr,{className:"text-center space-y-2",children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("div",{className:"p-3 bg-gradient-to-br from-primary to-primary-glow rounded-2xl shadow-lg",children:_.jsx(Um,{className:"w-10 h-10 text-primary-foreground"})})}),_.jsx(wr,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"UCU-BBUC Attendance"}),_.jsx(yc,{className:"text-base",children:"Automated Lecture Attendance System"})]}),_.jsx(yr,{children:_.jsxs(Q6,{defaultValue:"signin",className:"w-full",children:[_.jsxs(QE,{className:"grid w-full grid-cols-2 mb-6",children:[_.jsx(c1,{value:"signin",children:"Sign In"}),_.jsx(c1,{value:"signup",children:"Sign Up"})]}),_.jsx(u1,{value:"signin",children:_.jsxs("form",{onSubmit:c,className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"signin-email",children:"Email"}),_.jsx(Mn,{id:"signin-email",name:"signin-email",type:"email",placeholder:"your.email@ucu.ac.ug",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"signin-password",children:"Password"}),_.jsx(Mn,{id:"signin-password",name:"signin-password",type:"password",required:!0})]}),_.jsx(Sn,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]})}),_.jsx(u1,{value:"signup",children:_.jsxs("form",{onSubmit:a,className:"space-y-4",children:[_.jsxs("div",{className:"space-y-3 mb-4",children:[_.jsx(on,{children:"I am a:"}),_.jsxs(fC,{value:r,onValueChange:h=>s(h),children:[_.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-accent transition-colors",children:[_.jsx(d1,{value:"student",id:"student"}),_.jsxs(on,{htmlFor:"student",className:"flex items-center gap-2 cursor-pointer flex-1",children:[_.jsx(VT,{className:"w-4 h-4"}),"Student"]})]}),_.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-accent transition-colors",children:[_.jsx(d1,{value:"lecturer",id:"lecturer"}),_.jsxs(on,{htmlFor:"lecturer",className:"flex items-center gap-2 cursor-pointer flex-1",children:[_.jsx(Um,{className:"w-4 h-4"}),"Lecturer"]})]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"full-name",children:"Full Name"}),_.jsx(Mn,{id:"full-name",name:"full-name",type:"text",placeholder:"John Doe",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"signup-email",children:"Email"}),_.jsx(Mn,{id:"signup-email",name:"signup-email",type:"email",placeholder:"your.email@ucu.ac.ug",required:!0})]}),r==="student"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"student-id",children:"Student ID"}),_.jsx(Mn,{id:"student-id",name:"student-id",type:"text",placeholder:"UCU/2024/001",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"department",children:"Department"}),_.jsx(Mn,{id:"department",name:"department",type:"text",placeholder:"Computer Science",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"signup-password",children:"Password"}),_.jsx(Mn,{id:"signup-password",name:"signup-password",type:"password",minLength:6,required:!0})]}),_.jsx(Sn,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})})]})})};var Rh="focusScope.autoFocusOnMount",Nh="focusScope.autoFocusOnUnmount",$w={bubbles:!1,cancelable:!0},uP="FocusScope",hC=O.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[h,g]=O.useState(null),p=$t(s),y=$t(a),x=O.useRef(null),E=pt(t,C=>g(C)),b=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let C=function(A){if(b.paused||!h)return;const M=A.target;h.contains(M)?x.current=M:Ki(x.current,{select:!0})},N=function(A){if(b.paused||!h)return;const M=A.relatedTarget;M!==null&&(h.contains(M)||Ki(x.current,{select:!0}))},I=function(A){if(document.activeElement===document.body)for(const j of A)j.removedNodes.length>0&&Ki(h)};document.addEventListener("focusin",C),document.addEventListener("focusout",N);const T=new MutationObserver(I);return h&&T.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",N),T.disconnect()}}},[r,h,b.paused]),O.useEffect(()=>{if(h){Xw.add(b);const C=document.activeElement;if(!h.contains(C)){const I=new CustomEvent(Rh,$w);h.addEventListener(Rh,p),h.dispatchEvent(I),I.defaultPrevented||(dP(mP(gC(h)),{select:!0}),document.activeElement===C&&Ki(h))}return()=>{h.removeEventListener(Rh,p),setTimeout(()=>{const I=new CustomEvent(Nh,$w);h.addEventListener(Nh,y),h.dispatchEvent(I),I.defaultPrevented||Ki(C??document.body,{select:!0}),h.removeEventListener(Nh,y),Xw.remove(b)},0)}}},[h,p,y,b]);const R=O.useCallback(C=>{if(!n&&!r||b.paused)return;const N=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,I=document.activeElement;if(N&&I){const T=C.currentTarget,[A,M]=fP(T);A&&M?!C.shiftKey&&I===M?(C.preventDefault(),n&&Ki(A,{select:!0})):C.shiftKey&&I===A&&(C.preventDefault(),n&&Ki(M,{select:!0})):I===T&&C.preventDefault()}},[n,r,b.paused]);return _.jsx(Ue.div,{tabIndex:-1,...c,ref:E,onKeyDown:R})});hC.displayName=uP;function dP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ki(r,{select:t}),document.activeElement!==n)return}function fP(e){const t=gC(e),n=Gw(t,e),r=Gw(t.reverse(),e);return[n,r]}function gC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gw(e,t){for(const n of e)if(!hP(n,{upTo:t}))return n}function hP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gP(e){return e instanceof HTMLInputElement&&"select"in e}function Ki(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gP(e)&&t&&e.select()}}var Xw=pP();function pP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Yw(e,t),e.unshift(t)},remove(t){var n;e=Yw(e,t),(n=e[0])==null||n.resume()}}}function Yw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function mP(e){return e.filter(t=>t.tagName!=="A")}var Oh=0;function wP(){O.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kw()),document.body.insertAdjacentElement("beforeend",e[1]??Kw()),Oh++,()=>{Oh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Oh--}},[])}function Kw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pu="right-scroll-bar-position",ku="width-before-scroll-bar",yP="with-scroll-bars-hidden",xP="--removed-body-scroll-bar-size";function Ph(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vP(e,t){var n=O.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var bP=typeof window<"u"?O.useLayoutEffect:O.useEffect,qw=new WeakMap;function EP(e,t){var n=vP(null,function(r){return e.forEach(function(s){return Ph(s,r)})});return bP(function(){var r=qw.get(n);if(r){var s=new Set(r),a=new Set(e),c=n.current;s.forEach(function(h){a.has(h)||Ph(h,null)}),a.forEach(function(h){s.has(h)||Ph(h,c)})}qw.set(n,e)},[e]),n}function CP(e){return e}function SP(e,t){t===void 0&&(t=CP);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,r);return n.push(c),function(){n=n.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(h){return a(h)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var h=n;n=[],h.forEach(a),c=n}var g=function(){var y=c;c=[],y.forEach(a)},p=function(){return Promise.resolve().then(g)};p(),n={push:function(y){c.push(y),p()},filter:function(y){return c=c.filter(y),n}}}};return s}function _P(e){e===void 0&&(e={});var t=SP(null);return t.options=hr({async:!0,ssr:!1},e),t}var pC=function(e){var t=e.sideCar,n=_s(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,hr({},n))};pC.isSideCarExport=!0;function AP(e,t){return e.useMedium(t),pC}var mC=_P(),kh=function(){},cf=O.forwardRef(function(e,t){var n=O.useRef(null),r=O.useState({onScrollCapture:kh,onWheelCapture:kh,onTouchMoveCapture:kh}),s=r[0],a=r[1],c=e.forwardProps,h=e.children,g=e.className,p=e.removeScrollBar,y=e.enabled,x=e.shards,E=e.sideCar,b=e.noRelative,R=e.noIsolation,C=e.inert,N=e.allowPinchZoom,I=e.as,T=I===void 0?"div":I,A=e.gapMode,M=_s(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=E,U=EP([n,t]),F=hr(hr({},M),s);return O.createElement(O.Fragment,null,y&&O.createElement(j,{sideCar:mC,removeScrollBar:p,shards:x,noRelative:b,noIsolation:R,inert:C,setCallbacks:a,allowPinchZoom:!!N,lockRef:n,gapMode:A}),c?O.cloneElement(O.Children.only(h),hr(hr({},F),{ref:U})):O.createElement(T,hr({},F,{className:g,ref:U}),h))});cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cf.classNames={fullWidth:ku,zeroRight:Pu};var TP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=TP();return t&&e.setAttribute("nonce",t),e}function RP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var OP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=IP())&&(RP(t,n),NP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PP=function(){var e=OP();return function(t,n){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wC=function(){var e=PP(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},kP={left:0,top:0,right:0,gap:0},Dh=function(e){return parseInt(e||"",10)||0},DP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Dh(n),Dh(r),Dh(s)]},MP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kP;var t=DP(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},LP=wC(),oa="data-scroll-locked",BP=function(e,t,n,r){var s=e.left,a=e.top,c=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(ku,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ku," .").concat(ku,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oa,`] {
    `).concat(xP,": ").concat(h,`px;
  }
`)},Qw=function(){var e=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(e)?e:0},FP=function(){O.useEffect(function(){return document.body.setAttribute(oa,(Qw()+1).toString()),function(){var e=Qw()-1;e<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,e.toString())}},[])},jP=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;FP();var a=O.useMemo(function(){return MP(s)},[s]);return O.createElement(LP,{styles:BP(a,!t,s,n?"":"!important")})},f1=!1;if(typeof window<"u")try{var uu=Object.defineProperty({},"passive",{get:function(){return f1=!0,!0}});window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{f1=!1}var Oo=f1?{passive:!1}:!1,UP=function(e){return e.tagName==="TEXTAREA"},yC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!UP(e)&&n[t]==="visible")},VP=function(e){return yC(e,"overflowY")},WP=function(e){return yC(e,"overflowX")},Zw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xC(e,r);if(s){var a=vC(e,r),c=a[1],h=a[2];if(c>h)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zP=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},HP=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},xC=function(e,t){return e==="v"?VP(t):WP(t)},vC=function(e,t){return e==="v"?zP(t):HP(t)},$P=function(e,t){return e==="h"&&t==="rtl"?-1:1},GP=function(e,t,n,r,s){var a=$P(e,window.getComputedStyle(t).direction),c=a*r,h=n.target,g=t.contains(h),p=!1,y=c>0,x=0,E=0;do{if(!h)break;var b=vC(e,h),R=b[0],C=b[1],N=b[2],I=C-N-a*R;(R||I)&&xC(e,h)&&(x+=I,E+=R);var T=h.parentNode;h=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!g&&h!==document.body||g&&(t.contains(h)||t===h));return(y&&(Math.abs(x)<1||!s)||!y&&(Math.abs(E)<1||!s))&&(p=!0),p},du=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jw=function(e){return[e.deltaX,e.deltaY]},ey=function(e){return e&&"current"in e?e.current:e},XP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KP=0,Po=[];function qP(e){var t=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),s=O.useState(KP++)[0],a=O.useState(wC)[0],c=O.useRef(e);O.useEffect(function(){c.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=Lg([e.lockRef.current],(e.shards||[]).map(ey),!0).filter(Boolean);return C.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var h=O.useCallback(function(C,N){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var I=du(C),T=n.current,A="deltaX"in C?C.deltaX:T[0]-I[0],M="deltaY"in C?C.deltaY:T[1]-I[1],j,U=C.target,F=Math.abs(A)>Math.abs(M)?"h":"v";if("touches"in C&&F==="h"&&U.type==="range")return!1;var H=Zw(F,U);if(!H)return!0;if(H?j=F:(j=F==="v"?"h":"v",H=Zw(F,U)),!H)return!1;if(!r.current&&"changedTouches"in C&&(A||M)&&(r.current=j),!j)return!0;var z=r.current||j;return GP(z,N,C,z==="h"?A:M,!0)},[]),g=O.useCallback(function(C){var N=C;if(!(!Po.length||Po[Po.length-1]!==a)){var I="deltaY"in N?Jw(N):du(N),T=t.current.filter(function(j){return j.name===N.type&&(j.target===N.target||N.target===j.shadowParent)&&XP(j.delta,I)})[0];if(T&&T.should){N.cancelable&&N.preventDefault();return}if(!T){var A=(c.current.shards||[]).map(ey).filter(Boolean).filter(function(j){return j.contains(N.target)}),M=A.length>0?h(N,A[0]):!c.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),p=O.useCallback(function(C,N,I,T){var A={name:C,delta:N,target:I,should:T,shadowParent:QP(I)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(M){return M!==A})},1)},[]),y=O.useCallback(function(C){n.current=du(C),r.current=void 0},[]),x=O.useCallback(function(C){p(C.type,Jw(C),C.target,h(C,e.lockRef.current))},[]),E=O.useCallback(function(C){p(C.type,du(C),C.target,h(C,e.lockRef.current))},[]);O.useEffect(function(){return Po.push(a),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:E}),document.addEventListener("wheel",g,Oo),document.addEventListener("touchmove",g,Oo),document.addEventListener("touchstart",y,Oo),function(){Po=Po.filter(function(C){return C!==a}),document.removeEventListener("wheel",g,Oo),document.removeEventListener("touchmove",g,Oo),document.removeEventListener("touchstart",y,Oo)}},[]);var b=e.removeScrollBar,R=e.inert;return O.createElement(O.Fragment,null,R?O.createElement(a,{styles:YP(s)}):null,b?O.createElement(jP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function QP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZP=AP(mC,qP);var bC=O.forwardRef(function(e,t){return O.createElement(cf,hr({},e,{ref:t,sideCar:ZP}))});bC.classNames=cf.classNames;var JP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ko=new WeakMap,fu=new WeakMap,hu={},Mh=0,EC=function(e){return e&&(e.host||EC(e.parentNode))},ek=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=EC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},tk=function(e,t,n,r){var s=ek(t,Array.isArray(e)?e:[e]);hu[n]||(hu[n]=new WeakMap);var a=hu[n],c=[],h=new Set,g=new Set(s),p=function(x){!x||h.has(x)||(h.add(x),p(x.parentNode))};s.forEach(p);var y=function(x){!x||g.has(x)||Array.prototype.forEach.call(x.children,function(E){if(h.has(E))y(E);else try{var b=E.getAttribute(r),R=b!==null&&b!=="false",C=(ko.get(E)||0)+1,N=(a.get(E)||0)+1;ko.set(E,C),a.set(E,N),c.push(E),C===1&&R&&fu.set(E,!0),N===1&&E.setAttribute(n,"true"),R||E.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",E,I)}})};return y(t),h.clear(),Mh++,function(){c.forEach(function(x){var E=ko.get(x)-1,b=a.get(x)-1;ko.set(x,E),a.set(x,b),E||(fu.has(x)||x.removeAttribute(r),fu.delete(x)),b||x.removeAttribute(n)}),Mh--,Mh||(ko=new WeakMap,ko=new WeakMap,fu=new WeakMap,hu={})}},nk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=JP(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),tk(r,s,n,"aria-hidden")):function(){return null}},uf="Dialog",[CC,L7]=Gr(uf),[rk,Xr]=CC(uf),SC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,h=O.useRef(null),g=O.useRef(null),[p,y]=hc({prop:r,defaultProp:s??!1,onChange:a,caller:uf});return _.jsx(rk,{scope:t,triggerRef:h,contentRef:g,contentId:Al(),titleId:Al(),descriptionId:Al(),open:p,onOpenChange:y,onOpenToggle:O.useCallback(()=>y(x=>!x),[y]),modal:c,children:n})};SC.displayName=uf;var _C="DialogTrigger",ik=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xr(_C,n),a=pt(t,s.triggerRef);return _.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Kg(s.open),...r,ref:a,onClick:Pe(e.onClick,s.onOpenToggle)})});ik.displayName=_C;var Xg="DialogPortal",[sk,AC]=CC(Xg,{forceMount:void 0}),TC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Xr(Xg,t);return _.jsx(sk,{scope:t,forceMount:n,children:O.Children.map(r,c=>_.jsx(Er,{present:n||a.open,children:_.jsx(mg,{asChild:!0,container:s,children:c})}))})};TC.displayName=Xg;var md="DialogOverlay",IC=O.forwardRef((e,t)=>{const n=AC(md,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Xr(md,e.__scopeDialog);return a.modal?_.jsx(Er,{present:r||a.open,children:_.jsx(ak,{...s,ref:t})}):null});IC.displayName=md;var ok=Xl("DialogOverlay.RemoveScroll"),ak=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xr(md,n);return _.jsx(bC,{as:ok,allowPinchZoom:!0,shards:[s.contentRef],children:_.jsx(Ue.div,{"data-state":Kg(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),uo="DialogContent",RC=O.forwardRef((e,t)=>{const n=AC(uo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Xr(uo,e.__scopeDialog);return _.jsx(Er,{present:r||a.open,children:a.modal?_.jsx(lk,{...s,ref:t}):_.jsx(ck,{...s,ref:t})})});RC.displayName=uo;var lk=O.forwardRef((e,t)=>{const n=Xr(uo,e.__scopeDialog),r=O.useRef(null),s=pt(t,n.contentRef,r);return O.useEffect(()=>{const a=r.current;if(a)return nk(a)},[]),_.jsx(NC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,a=>a.preventDefault())})}),ck=O.forwardRef((e,t)=>{const n=Xr(uo,e.__scopeDialog),r=O.useRef(!1),s=O.useRef(!1);return _.jsx(NC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(r.current||(h=n.triggerRef.current)==null||h.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var g,p;(g=e.onInteractOutside)==null||g.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),NC=O.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,h=Xr(uo,n),g=O.useRef(null),p=pt(t,g);return wP(),_.jsxs(_.Fragment,{children:[_.jsx(hC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:_.jsx(Vd,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Kg(h.open),...c,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(uk,{titleId:h.titleId}),_.jsx(fk,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Yg="DialogTitle",OC=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xr(Yg,n);return _.jsx(Ue.h2,{id:s.titleId,...r,ref:t})});OC.displayName=Yg;var PC="DialogDescription",kC=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xr(PC,n);return _.jsx(Ue.p,{id:s.descriptionId,...r,ref:t})});kC.displayName=PC;var DC="DialogClose",MC=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xr(DC,n);return _.jsx(Ue.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>s.onOpenChange(!1))})});MC.displayName=DC;function Kg(e){return e?"open":"closed"}var LC="DialogTitleWarning",[B7,BC]=G3(LC,{contentName:uo,titleName:Yg,docsSlug:"dialog"}),uk=({titleId:e})=>{const t=BC(LC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return O.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dk="DialogDescriptionWarning",fk=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BC(dk).contentName}}.`;return O.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},hk=SC,gk=TC,FC=IC,jC=RC,UC=OC,VC=kC,pk=MC;const qg=hk,mk=gk,WC=O.forwardRef(({className:e,...t},n)=>_.jsx(FC,{ref:n,className:Ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));WC.displayName=FC.displayName;const df=O.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(mk,{children:[_.jsx(WC,{}),_.jsxs(jC,{ref:r,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,_.jsxs(pk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[_.jsx(vg,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));df.displayName=jC.displayName;const ff=({className:e,...t})=>_.jsx("div",{className:Ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ff.displayName="DialogHeader";const hf=O.forwardRef(({className:e,...t},n)=>_.jsx(UC,{ref:n,className:Ke("text-lg font-semibold leading-none tracking-tight",e),...t}));hf.displayName=UC.displayName;const gf=O.forwardRef(({className:e,...t},n)=>_.jsx(VC,{ref:n,className:Ke("text-sm text-muted-foreground",e),...t}));gf.displayName=VC.displayName;const wk=({open:e,onOpenChange:t,lecturerId:n,onSuccess:r})=>{const[s,a]=O.useState(!1),c=async h=>{h.preventDefault(),a(!0);const g=new FormData(h.currentTarget),p=g.get("title"),y=g.get("course-code"),x=g.get("course-name"),E=g.get("venue"),b=g.get("scheduled-time"),R=parseInt(g.get("duration"));try{const C=`UCU-BBUC-${Date.now()}-${Math.random().toString(36).substring(7)}`,{error:N}=await mn.from("lectures").insert({lecturer_id:n,title:p,course_code:y,course_name:x,venue:E,scheduled_time:b,duration_minutes:R,qr_code_data:C,is_active:!0});if(N)throw N;fr.success("Lecture created successfully!"),t(!1),r(),h.target.reset()}catch(C){fr.error(C.message||"Failed to create lecture")}finally{a(!1)}};return _.jsx(qg,{open:e,onOpenChange:t,children:_.jsxs(df,{className:"max-w-md",children:[_.jsxs(ff,{children:[_.jsx(hf,{children:"Create New Lecture"}),_.jsx(gf,{children:"Add a new lecture session with QR code for attendance tracking"})]}),_.jsxs("form",{onSubmit:c,className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"title",children:"Lecture Title"}),_.jsx(Mn,{id:"title",name:"title",placeholder:"Introduction to Databases",required:!0})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"course-code",children:"Course Code"}),_.jsx(Mn,{id:"course-code",name:"course-code",placeholder:"CS301",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"duration",children:"Duration (min)"}),_.jsx(Mn,{id:"duration",name:"duration",type:"number",defaultValue:"90",min:"30",max:"240",required:!0})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"course-name",children:"Course Name"}),_.jsx(Mn,{id:"course-name",name:"course-name",placeholder:"Database Systems",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"venue",children:"Venue"}),_.jsx(Mn,{id:"venue",name:"venue",placeholder:"Room 101, Main Building",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(on,{htmlFor:"scheduled-time",children:"Scheduled Time"}),_.jsx(Mn,{id:"scheduled-time",name:"scheduled-time",type:"datetime-local",required:!0})]}),_.jsxs("div",{className:"flex gap-3 pt-4",children:[_.jsx(Sn,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),_.jsx(Sn,{type:"submit",disabled:s,className:"flex-1",children:s?"Creating...":"Create Lecture"})]})]})]})})},yk=Hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Du({className:e,variant:t,...n}){return _.jsx("div",{className:Ke(yk({variant:t}),e),...n})}function Yr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const zC=6048e5,xk=864e5;let vk={};function pf(){return vk}function rc(e,t){var h,g,p,y;const n=pf(),r=(t==null?void 0:t.weekStartsOn)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,s=Yr(e),a=s.getDay(),c=(a<r?7:0)+a-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function wd(e){return rc(e,{weekStartsOn:1})}function HC(e){const t=Yr(e),n=t.getFullYear(),r=fo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=wd(r),a=fo(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const c=wd(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function ty(e){const t=Yr(e);return t.setHours(0,0,0,0),t}function ny(e){const t=Yr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bk(e,t){const n=ty(e),r=ty(t),s=+n-ny(n),a=+r-ny(r);return Math.round((s-a)/xk)}function Ek(e){const t=HC(e),n=fo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wd(n)}function Ck(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sk(e){if(!Ck(e)&&typeof e!="number")return!1;const t=Yr(e);return!isNaN(Number(t))}function _k(e){const t=Yr(e),n=fo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tk=(e,t,n)=>{let r;const s=Ak[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Lh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ik={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ok={date:Lh({formats:Ik,defaultWidth:"full"}),time:Lh({formats:Rk,defaultWidth:"full"}),dateTime:Lh({formats:Nk,defaultWidth:"full"})},Pk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kk=(e,t,n,r)=>Pk[e];function ll(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):c;s=e.formattingValues[h]||e.formattingValues[c]}else{const c=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[h]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Dk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uk=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Vk={ordinalNumber:Uk,era:ll({values:Dk,defaultWidth:"wide"}),quarter:ll({values:Mk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ll({values:Lk,defaultWidth:"wide"}),day:ll({values:Bk,defaultWidth:"wide"}),dayPeriod:ll({values:Fk,defaultWidth:"wide",formattingValues:jk,defaultFormattingWidth:"wide"})};function cl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const c=a[0],h=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(h)?zk(h,x=>x.test(c)):Wk(h,x=>x.test(c));let p;p=e.valueCallback?e.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function Wk(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function zk(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Hk(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=n.valueCallback?n.valueCallback(c):c;const h=t.slice(s.length);return{value:c,rest:h}}}const $k=/^(\d+)(th|st|nd|rd)?/i,Gk=/\d+/i,Xk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yk={any:[/^b/i,/^(a|c)/i]},Kk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qk={any:[/1/i,/2/i,/3/i,/4/i]},Qk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r5={ordinalNumber:Hk({matchPattern:$k,parsePattern:Gk,valueCallback:e=>parseInt(e,10)}),era:cl({matchPatterns:Xk,defaultMatchWidth:"wide",parsePatterns:Yk,defaultParseWidth:"any"}),quarter:cl({matchPatterns:Kk,defaultMatchWidth:"wide",parsePatterns:qk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cl({matchPatterns:Qk,defaultMatchWidth:"wide",parsePatterns:Zk,defaultParseWidth:"any"}),day:cl({matchPatterns:Jk,defaultMatchWidth:"wide",parsePatterns:e5,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:t5,defaultMatchWidth:"any",parsePatterns:n5,defaultParseWidth:"any"})},i5={code:"en-US",formatDistance:Tk,formatLong:Ok,formatRelative:kk,localize:Vk,match:r5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s5(e){const t=Yr(e);return bk(t,_k(t))+1}function o5(e){const t=Yr(e),n=+wd(t)-+Ek(t);return Math.round(n/zC)+1}function $C(e,t){var y,x,E,b;const n=Yr(e),r=n.getFullYear(),s=pf(),a=(t==null?void 0:t.firstWeekContainsDate)??((x=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(E=s.locale)==null?void 0:E.options)==null?void 0:b.firstWeekContainsDate)??1,c=fo(e,0);c.setFullYear(r+1,0,a),c.setHours(0,0,0,0);const h=rc(c,t),g=fo(e,0);g.setFullYear(r,0,a),g.setHours(0,0,0,0);const p=rc(g,t);return n.getTime()>=h.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function a5(e,t){var h,g,p,y;const n=pf(),r=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,s=$C(e,t),a=fo(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),rc(a,t)}function l5(e,t){const n=Yr(e),r=+rc(n,t)-+a5(n,t);return Math.round(r/zC)+1}function tt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Xi={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return tt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):tt(n+1,2)},d(e,t){return tt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return tt(e.getHours()%12||12,t.length)},H(e,t){return tt(e.getHours(),t.length)},m(e,t){return tt(e.getMinutes(),t.length)},s(e,t){return tt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return tt(s,t.length)}},Do={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ry={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Xi.y(e,t)},Y:function(e,t,n,r){const s=$C(e,r),a=s>0?s:1-s;if(t==="YY"){const c=a%100;return tt(c,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):tt(a,t.length)},R:function(e,t){const n=HC(e);return tt(n,t.length)},u:function(e,t){const n=e.getFullYear();return tt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xi.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=l5(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):tt(s,t.length)},I:function(e,t,n){const r=o5(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):tt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xi.d(e,t)},D:function(e,t,n){const r=s5(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):tt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return tt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return tt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return tt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Do.noon:r===0?s=Do.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Do.evening:r>=12?s=Do.afternoon:r>=4?s=Do.morning:s=Do.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xi.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xi.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):tt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):tt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xi.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xi.s(e,t)},S:function(e,t){return Xi.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return sy(r);case"XXXX":case"XX":return Vs(r);case"XXXXX":case"XXX":default:return Vs(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return sy(r);case"xxxx":case"xx":return Vs(r);case"xxxxx":case"xxx":default:return Vs(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iy(r,":");case"OOOO":default:return"GMT"+Vs(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iy(r,":");case"zzzz":default:return"GMT"+Vs(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return tt(r,t.length)},T:function(e,t,n){const r=e.getTime();return tt(r,t.length)}};function iy(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+tt(a,2)}function sy(e,t){return e%60===0?(e>0?"-":"+")+tt(Math.abs(e)/60,2):Vs(e,t)}function Vs(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=tt(Math.trunc(r/60),2),a=tt(r%60,2);return n+s+t+a}const oy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},GC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},c5=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return oy(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",oy(r,t)).replace("{{time}}",GC(s,t))},u5={p:GC,P:c5},d5=/^D+$/,f5=/^Y+$/,h5=["D","DD","YY","YYYY"];function g5(e){return d5.test(e)}function p5(e){return f5.test(e)}function m5(e,t,n){const r=w5(e,t,n);if(console.warn(r),h5.includes(e))throw new RangeError(r)}function w5(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v5=/^'([^]*?)'?$/,b5=/''/g,E5=/[a-zA-Z]/;function Ii(e,t,n){var y,x,E,b;const r=pf(),s=r.locale??i5,a=r.firstWeekContainsDate??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,c=r.weekStartsOn??((b=(E=r.locale)==null?void 0:E.options)==null?void 0:b.weekStartsOn)??0,h=Yr(e);if(!Sk(h))throw new RangeError("Invalid time value");let g=t.match(x5).map(R=>{const C=R[0];if(C==="p"||C==="P"){const N=u5[C];return N(R,s.formatLong)}return R}).join("").match(y5).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const C=R[0];if(C==="'")return{isToken:!1,value:C5(R)};if(ry[C])return{isToken:!0,value:R};if(C.match(E5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:R}});s.localize.preprocessor&&(g=s.localize.preprocessor(h,g));const p={firstWeekContainsDate:a,weekStartsOn:c,locale:s};return g.map(R=>{if(!R.isToken)return R.value;const C=R.value;(p5(C)||g5(C))&&m5(C,t,String(e));const N=ry[C[0]];return N(h,C,s.localize,p)}).join("")}function C5(e){const t=e.match(v5);return t?t[1].replace(b5,"'"):e}var vc={},S5=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},XC={},rr={};let Qg;const _5=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];rr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};rr.getSymbolTotalCodewords=function(t){return _5[t]};rr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};rr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Qg=t};rr.isKanjiModeEnabled=function(){return typeof Qg<"u"};rr.toSJIS=function(t){return Qg(t)};var mf={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(mf);function YC(){this.buffer=[],this.length=0}YC.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var A5=YC;function bc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}bc.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};bc.prototype.get=function(e,t){return this.data[e*this.size+t]};bc.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};bc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var T5=bc,KC={};(function(e){const t=rr.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,a=t(r),c=a===145?26:Math.ceil((a-13)/(2*s-2))*2,h=[a-7];for(let g=1;g<s-1;g++)h[g]=h[g-1]-c;return h.push(6),h.reverse()},e.getPositions=function(r){const s=[],a=e.getRowColCoords(r),c=a.length;for(let h=0;h<c;h++)for(let g=0;g<c;g++)h===0&&g===0||h===0&&g===c-1||h===c-1&&g===0||s.push([a[h],a[g]]);return s}})(KC);var qC={};const I5=rr.getSymbolSize,ay=7;qC.getPositions=function(t){const n=I5(t);return[[0,0],[n-ay,0],[0,n-ay]]};var QC={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const a=s.size;let c=0,h=0,g=0,p=null,y=null;for(let x=0;x<a;x++){h=g=0,p=y=null;for(let E=0;E<a;E++){let b=s.get(x,E);b===p?h++:(h>=5&&(c+=t.N1+(h-5)),p=b,h=1),b=s.get(E,x),b===y?g++:(g>=5&&(c+=t.N1+(g-5)),y=b,g=1)}h>=5&&(c+=t.N1+(h-5)),g>=5&&(c+=t.N1+(g-5))}return c},e.getPenaltyN2=function(s){const a=s.size;let c=0;for(let h=0;h<a-1;h++)for(let g=0;g<a-1;g++){const p=s.get(h,g)+s.get(h,g+1)+s.get(h+1,g)+s.get(h+1,g+1);(p===4||p===0)&&c++}return c*t.N2},e.getPenaltyN3=function(s){const a=s.size;let c=0,h=0,g=0;for(let p=0;p<a;p++){h=g=0;for(let y=0;y<a;y++)h=h<<1&2047|s.get(p,y),y>=10&&(h===1488||h===93)&&c++,g=g<<1&2047|s.get(y,p),y>=10&&(g===1488||g===93)&&c++}return c*t.N3},e.getPenaltyN4=function(s){let a=0;const c=s.data.length;for(let g=0;g<c;g++)a+=s.data[g];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(r,s,a){switch(r){case e.Patterns.PATTERN000:return(s+a)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(s+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return s*a%2+s*a%3===0;case e.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case e.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,a){const c=a.size;for(let h=0;h<c;h++)for(let g=0;g<c;g++)a.isReserved(g,h)||a.xor(g,h,n(s,g,h))},e.getBestMask=function(s,a){const c=Object.keys(e.Patterns).length;let h=0,g=1/0;for(let p=0;p<c;p++){a(p),e.applyMask(p,s);const y=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(p,s),y<g&&(g=y,h=p)}return h}})(QC);var wf={};const cs=mf,gu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],pu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wf.getBlocksCount=function(t,n){switch(n){case cs.L:return gu[(t-1)*4+0];case cs.M:return gu[(t-1)*4+1];case cs.Q:return gu[(t-1)*4+2];case cs.H:return gu[(t-1)*4+3];default:return}};wf.getTotalCodewordsCount=function(t,n){switch(n){case cs.L:return pu[(t-1)*4+0];case cs.M:return pu[(t-1)*4+1];case cs.Q:return pu[(t-1)*4+2];case cs.H:return pu[(t-1)*4+3];default:return}};var ZC={},yf={};const Rl=new Uint8Array(512),yd=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Rl[n]=t,yd[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Rl[n]=Rl[n-255]})();yf.log=function(t){if(t<1)throw new Error("log("+t+")");return yd[t]};yf.exp=function(t){return Rl[t]};yf.mul=function(t,n){return t===0||n===0?0:Rl[yd[t]+yd[n]]};(function(e){const t=yf;e.mul=function(r,s){const a=new Uint8Array(r.length+s.length-1);for(let c=0;c<r.length;c++)for(let h=0;h<s.length;h++)a[c+h]^=t.mul(r[c],s[h]);return a},e.mod=function(r,s){let a=new Uint8Array(r);for(;a.length-s.length>=0;){const c=a[0];for(let g=0;g<s.length;g++)a[g]^=t.mul(s[g],c);let h=0;for(;h<a.length&&a[h]===0;)h++;a=a.slice(h)}return a},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let a=0;a<r;a++)s=e.mul(s,new Uint8Array([1,t.exp(a)]));return s}})(ZC);const JC=ZC;function Zg(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Zg.prototype.initialize=function(t){this.degree=t,this.genPoly=JC.generateECPolynomial(this.degree)};Zg.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=JC.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(r,s),a}return r};var R5=Zg,eS={},Ts={},Jg={};Jg.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var pi={};const tS="[0-9]+",N5="[A-Z $%*+\\-./:]+";let ic="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ic=ic.replace(/u/g,"\\u");const O5="(?:(?![A-Z0-9 $%*+\\-./:]|"+ic+`)(?:.|[\r
]))+`;pi.KANJI=new RegExp(ic,"g");pi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");pi.BYTE=new RegExp(O5,"g");pi.NUMERIC=new RegExp(tS,"g");pi.ALPHANUMERIC=new RegExp(N5,"g");const P5=new RegExp("^"+ic+"$"),k5=new RegExp("^"+tS+"$"),D5=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");pi.testKanji=function(t){return P5.test(t)};pi.testNumeric=function(t){return k5.test(t)};pi.testAlphanumeric=function(t){return D5.test(t)};(function(e){const t=Jg,n=pi;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(a,c){if(e.isValid(a))return a;try{return r(a)}catch{return c}}})(Ts);(function(e){const t=rr,n=wf,r=mf,s=Ts,a=Jg,c=7973,h=t.getBCHDigit(c);function g(E,b,R){for(let C=1;C<=40;C++)if(b<=e.getCapacity(C,R,E))return C}function p(E,b){return s.getCharCountIndicator(E,b)+4}function y(E,b){let R=0;return E.forEach(function(C){const N=p(C.mode,b);R+=N+C.getBitsLength()}),R}function x(E,b){for(let R=1;R<=40;R++)if(y(E,R)<=e.getCapacity(R,b,s.MIXED))return R}e.from=function(b,R){return a.isValid(b)?parseInt(b,10):R},e.getCapacity=function(b,R,C){if(!a.isValid(b))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=s.BYTE);const N=t.getSymbolTotalCodewords(b),I=n.getTotalCodewordsCount(b,R),T=(N-I)*8;if(C===s.MIXED)return T;const A=T-p(C,b);switch(C){case s.NUMERIC:return Math.floor(A/10*3);case s.ALPHANUMERIC:return Math.floor(A/11*2);case s.KANJI:return Math.floor(A/13);case s.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(b,R){let C;const N=r.from(R,r.M);if(Array.isArray(b)){if(b.length>1)return x(b,N);if(b.length===0)return 1;C=b[0]}else C=b;return g(C.mode,C.getLength(),N)},e.getEncodedBits=function(b){if(!a.isValid(b)||b<7)throw new Error("Invalid QR Code version");let R=b<<12;for(;t.getBCHDigit(R)-h>=0;)R^=c<<t.getBCHDigit(R)-h;return b<<12|R}})(eS);var nS={};const h1=rr,rS=1335,M5=21522,ly=h1.getBCHDigit(rS);nS.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;h1.getBCHDigit(s)-ly>=0;)s^=rS<<h1.getBCHDigit(s)-ly;return(r<<10|s)^M5};var iS={};const L5=Ts;function _a(e){this.mode=L5.NUMERIC,this.data=e.toString()}_a.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};_a.prototype.getLength=function(){return this.data.length};_a.prototype.getBitsLength=function(){return _a.getBitsLength(this.data.length)};_a.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const a=this.data.length-n;a>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,a*3+1))};var B5=_a;const F5=Ts,Bh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Aa(e){this.mode=F5.ALPHANUMERIC,this.data=e}Aa.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Aa.prototype.getLength=function(){return this.data.length};Aa.prototype.getBitsLength=function(){return Aa.getBitsLength(this.data.length)};Aa.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Bh.indexOf(this.data[n])*45;r+=Bh.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Bh.indexOf(this.data[n]),6)};var j5=Aa;const U5=Ts;function Ta(e){this.mode=U5.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ta.getBitsLength=function(t){return t*8};Ta.prototype.getLength=function(){return this.data.length};Ta.prototype.getBitsLength=function(){return Ta.getBitsLength(this.data.length)};Ta.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var V5=Ta;const W5=Ts,z5=rr;function Ia(e){this.mode=W5.KANJI,this.data=e}Ia.getBitsLength=function(t){return t*13};Ia.prototype.getLength=function(){return this.data.length};Ia.prototype.getBitsLength=function(){return Ia.getBitsLength(this.data.length)};Ia.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=z5.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var H5=Ia,sS={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var a={},c={};c[r]=0;var h=t.PriorityQueue.make();h.push(r,0);for(var g,p,y,x,E,b,R,C,N;!h.empty();){g=h.pop(),p=g.value,x=g.cost,E=n[p]||{};for(y in E)E.hasOwnProperty(y)&&(b=E[y],R=x+b,C=c[y],N=typeof c[y]>"u",(N||C>R)&&(c[y]=R,h.push(y,R),a[y]=p))}if(typeof s<"u"&&typeof c[s]>"u"){var I=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(I)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],a=r;a;)s.push(a),n[a],a=n[a];return s.reverse(),s},find_path:function(n,r,s){var a=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(sS);var $5=sS.exports;(function(e){const t=Ts,n=B5,r=j5,s=V5,a=H5,c=pi,h=rr,g=$5;function p(I){return unescape(encodeURIComponent(I)).length}function y(I,T,A){const M=[];let j;for(;(j=I.exec(A))!==null;)M.push({data:j[0],index:j.index,mode:T,length:j[0].length});return M}function x(I){const T=y(c.NUMERIC,t.NUMERIC,I),A=y(c.ALPHANUMERIC,t.ALPHANUMERIC,I);let M,j;return h.isKanjiModeEnabled()?(M=y(c.BYTE,t.BYTE,I),j=y(c.KANJI,t.KANJI,I)):(M=y(c.BYTE_KANJI,t.BYTE,I),j=[]),T.concat(A,M,j).sort(function(F,H){return F.index-H.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function E(I,T){switch(T){case t.NUMERIC:return n.getBitsLength(I);case t.ALPHANUMERIC:return r.getBitsLength(I);case t.KANJI:return a.getBitsLength(I);case t.BYTE:return s.getBitsLength(I)}}function b(I){return I.reduce(function(T,A){const M=T.length-1>=0?T[T.length-1]:null;return M&&M.mode===A.mode?(T[T.length-1].data+=A.data,T):(T.push(A),T)},[])}function R(I){const T=[];for(let A=0;A<I.length;A++){const M=I[A];switch(M.mode){case t.NUMERIC:T.push([M,{data:M.data,mode:t.ALPHANUMERIC,length:M.length},{data:M.data,mode:t.BYTE,length:M.length}]);break;case t.ALPHANUMERIC:T.push([M,{data:M.data,mode:t.BYTE,length:M.length}]);break;case t.KANJI:T.push([M,{data:M.data,mode:t.BYTE,length:p(M.data)}]);break;case t.BYTE:T.push([{data:M.data,mode:t.BYTE,length:p(M.data)}])}}return T}function C(I,T){const A={},M={start:{}};let j=["start"];for(let U=0;U<I.length;U++){const F=I[U],H=[];for(let z=0;z<F.length;z++){const ee=F[z],de=""+U+z;H.push(de),A[de]={node:ee,lastCount:0},M[de]={};for(let Q=0;Q<j.length;Q++){const ue=j[Q];A[ue]&&A[ue].node.mode===ee.mode?(M[ue][de]=E(A[ue].lastCount+ee.length,ee.mode)-E(A[ue].lastCount,ee.mode),A[ue].lastCount+=ee.length):(A[ue]&&(A[ue].lastCount=ee.length),M[ue][de]=E(ee.length,ee.mode)+4+t.getCharCountIndicator(ee.mode,T))}}j=H}for(let U=0;U<j.length;U++)M[j[U]].end=0;return{map:M,table:A}}function N(I,T){let A;const M=t.getBestModeForData(I);if(A=t.from(T,M),A!==t.BYTE&&A.bit<M.bit)throw new Error('"'+I+'" cannot be encoded with mode '+t.toString(A)+`.
 Suggested mode is: `+t.toString(M));switch(A===t.KANJI&&!h.isKanjiModeEnabled()&&(A=t.BYTE),A){case t.NUMERIC:return new n(I);case t.ALPHANUMERIC:return new r(I);case t.KANJI:return new a(I);case t.BYTE:return new s(I)}}e.fromArray=function(T){return T.reduce(function(A,M){return typeof M=="string"?A.push(N(M,null)):M.data&&A.push(N(M.data,M.mode)),A},[])},e.fromString=function(T,A){const M=x(T,h.isKanjiModeEnabled()),j=R(M),U=C(j,A),F=g.find_path(U.map,"start","end"),H=[];for(let z=1;z<F.length-1;z++)H.push(U.table[F[z]].node);return e.fromArray(b(H))},e.rawSplit=function(T){return e.fromArray(x(T,h.isKanjiModeEnabled()))}})(iS);const xf=rr,Fh=mf,G5=A5,X5=T5,Y5=KC,K5=qC,g1=QC,p1=wf,q5=R5,xd=eS,Q5=nS,Z5=Ts,jh=iS;function J5(e,t){const n=e.size,r=K5.getPositions(t);for(let s=0;s<r.length;s++){const a=r[s][0],c=r[s][1];for(let h=-1;h<=7;h++)if(!(a+h<=-1||n<=a+h))for(let g=-1;g<=7;g++)c+g<=-1||n<=c+g||(h>=0&&h<=6&&(g===0||g===6)||g>=0&&g<=6&&(h===0||h===6)||h>=2&&h<=4&&g>=2&&g<=4?e.set(a+h,c+g,!0,!0):e.set(a+h,c+g,!1,!0))}}function eD(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function tD(e,t){const n=Y5.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],a=n[r][1];for(let c=-2;c<=2;c++)for(let h=-2;h<=2;h++)c===-2||c===2||h===-2||h===2||c===0&&h===0?e.set(s+c,a+h,!0,!0):e.set(s+c,a+h,!1,!0)}}function nD(e,t){const n=e.size,r=xd.getEncodedBits(t);let s,a,c;for(let h=0;h<18;h++)s=Math.floor(h/3),a=h%3+n-8-3,c=(r>>h&1)===1,e.set(s,a,c,!0),e.set(a,s,c,!0)}function Uh(e,t,n){const r=e.size,s=Q5.getEncodedBits(t,n);let a,c;for(a=0;a<15;a++)c=(s>>a&1)===1,a<6?e.set(a,8,c,!0):a<8?e.set(a+1,8,c,!0):e.set(r-15+a,8,c,!0),a<8?e.set(8,r-a-1,c,!0):a<9?e.set(8,15-a-1+1,c,!0):e.set(8,15-a-1,c,!0);e.set(r-8,8,1,!0)}function rD(e,t){const n=e.size;let r=-1,s=n-1,a=7,c=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let g=0;g<2;g++)if(!e.isReserved(s,h-g)){let p=!1;c<t.length&&(p=(t[c]>>>a&1)===1),e.set(s,h-g,p),a--,a===-1&&(c++,a=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function iD(e,t,n){const r=new G5;n.forEach(function(g){r.put(g.mode.bit,4),r.put(g.getLength(),Z5.getCharCountIndicator(g.mode,e)),g.write(r)});const s=xf.getSymbolTotalCodewords(e),a=p1.getTotalCodewordsCount(e,t),c=(s-a)*8;for(r.getLengthInBits()+4<=c&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const h=(c-r.getLengthInBits())/8;for(let g=0;g<h;g++)r.put(g%2?17:236,8);return sD(r,e,t)}function sD(e,t,n){const r=xf.getSymbolTotalCodewords(t),s=p1.getTotalCodewordsCount(t,n),a=r-s,c=p1.getBlocksCount(t,n),h=r%c,g=c-h,p=Math.floor(r/c),y=Math.floor(a/c),x=y+1,E=p-y,b=new q5(E);let R=0;const C=new Array(c),N=new Array(c);let I=0;const T=new Uint8Array(e.buffer);for(let F=0;F<c;F++){const H=F<g?y:x;C[F]=T.slice(R,R+H),N[F]=b.encode(C[F]),R+=H,I=Math.max(I,H)}const A=new Uint8Array(r);let M=0,j,U;for(j=0;j<I;j++)for(U=0;U<c;U++)j<C[U].length&&(A[M++]=C[U][j]);for(j=0;j<E;j++)for(U=0;U<c;U++)A[M++]=N[U][j];return A}function oD(e,t,n,r){let s;if(Array.isArray(e))s=jh.fromArray(e);else if(typeof e=="string"){let p=t;if(!p){const y=jh.rawSplit(e);p=xd.getBestVersionForData(y,n)}s=jh.fromString(e,p||40)}else throw new Error("Invalid data");const a=xd.getBestVersionForData(s,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const c=iD(t,n,s),h=xf.getSymbolSize(t),g=new X5(h);return J5(g,t),eD(g),tD(g,t),Uh(g,n,0),t>=7&&nD(g,t),rD(g,c),isNaN(r)&&(r=g1.getBestMask(g,Uh.bind(null,g,n))),g1.applyMask(r,g),Uh(g,n,r),{modules:g,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}XC.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Fh.M,s,a;return typeof n<"u"&&(r=Fh.from(n.errorCorrectionLevel,Fh.M),s=xd.from(n.version),a=g1.from(n.maskPattern),n.toSJISFunc&&xf.setToSJISFunction(n.toSJISFunc)),oD(t,s,r,a)};var oS={},ep={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,c=r.scale||4;return{width:a,scale:a?4:c,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const a=e.getScale(r,s);return Math.floor((r+s.margin*2)*a)},e.qrToImageData=function(r,s,a){const c=s.modules.size,h=s.modules.data,g=e.getScale(c,a),p=Math.floor((c+a.margin*2)*g),y=a.margin*g,x=[a.color.light,a.color.dark];for(let E=0;E<p;E++)for(let b=0;b<p;b++){let R=(E*p+b)*4,C=a.color.light;if(E>=y&&b>=y&&E<p-y&&b<p-y){const N=Math.floor((E-y)/g),I=Math.floor((b-y)/g);C=x[h[N*c+I]?1:0]}r[R++]=C.r,r[R++]=C.g,r[R++]=C.b,r[R]=C.a}}})(ep);(function(e){const t=ep;function n(s,a,c){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,h){let g=h,p=c;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),c||(p=r()),g=t.getOptions(g);const y=t.getImageWidth(a.modules.size,g),x=p.getContext("2d"),E=x.createImageData(y,y);return t.qrToImageData(E.data,a,g),n(x,p,y),x.putImageData(E,0,0),p},e.renderToDataURL=function(a,c,h){let g=h;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),g||(g={});const p=e.render(a,c,g),y=g.type||"image/png",x=g.rendererOpts||{};return p.toDataURL(y,x.quality)}})(oS);var aS={};const aD=ep;function cy(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Vh(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function lD(e,t,n){let r="",s=0,a=!1,c=0;for(let h=0;h<e.length;h++){const g=Math.floor(h%t),p=Math.floor(h/t);!g&&!a&&(a=!0),e[h]?(c++,h>0&&g>0&&e[h-1]||(r+=a?Vh("M",g+n,.5+p+n):Vh("m",s,0),s=0,a=!1),g+1<t&&e[h+1]||(r+=Vh("h",c),c=0)):s++}return r}aS.render=function(t,n,r){const s=aD.getOptions(n),a=t.modules.size,c=t.modules.data,h=a+s.margin*2,g=s.color.light.a?"<path "+cy(s.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",p="<path "+cy(s.color.dark,"stroke")+' d="'+lD(c,a,s.margin)+'"/>',y='viewBox="0 0 '+h+" "+h+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+y+' shape-rendering="crispEdges">'+g+p+`</svg>
`;return typeof r=="function"&&r(null,E),E};const cD=S5,m1=XC,lS=oS,uD=aS;function tp(e,t,n,r,s){const a=[].slice.call(arguments,1),c=a.length,h=typeof a[c-1]=="function";if(!h&&!cD())throw new Error("Callback required as last argument");if(h){if(c<2)throw new Error("Too few arguments provided");c===2?(s=n,n=t,t=r=void 0):c===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(n=t,t=r=void 0):c===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(g,p){try{const y=m1.create(n,r);g(e(y,t,r))}catch(y){p(y)}})}try{const g=m1.create(n,r);s(null,e(g,t,r))}catch(g){s(g)}}vc.create=m1.create;vc.toCanvas=tp.bind(null,lS.render);vc.toDataURL=tp.bind(null,lS.renderToDataURL);vc.toString=tp.bind(null,function(e,t,n){return uD.render(e,n)});const dD=({open:e,onOpenChange:t,lecture:n})=>{O.useRef(null);const[r,s]=O.useState("");O.useEffect(()=>{(async()=>{if(e&&(n!=null&&n.qr_code_data))try{const h=await vc.toDataURL(n.qr_code_data,{width:300,margin:2,color:{dark:"#3b82f6",light:"#ffffff"}});s(h)}catch(h){console.error("Error generating QR code:",h)}})()},[e,n]);const a=()=>{if(r){const c=document.createElement("a");c.download=`${n.course_code}-${Ii(new Date(n.scheduled_time),"yyyy-MM-dd")}.png`,c.href=r,c.click()}};return _.jsx(qg,{open:e,onOpenChange:t,children:_.jsxs(df,{className:"max-w-md",children:[_.jsxs(ff,{children:[_.jsx(hf,{children:n==null?void 0:n.title}),_.jsxs(gf,{children:[n==null?void 0:n.course_code," - ",Ii(new Date((n==null?void 0:n.scheduled_time)||new Date),"PPp")]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex justify-center p-6 bg-gradient-to-br from-primary/5 to-secondary/5 rounded-lg",children:r?_.jsx("img",{src:r,alt:"QR Code",className:"w-[300px] h-[300px]"}):_.jsx("div",{className:"w-[300px] h-[300px] flex items-center justify-center text-muted-foreground",children:"Generating QR code..."})}),_.jsxs("div",{className:"space-y-2 text-sm text-center",children:[_.jsxs("p",{className:"font-medium",children:["Venue: ",n==null?void 0:n.venue]}),_.jsx("p",{className:"text-muted-foreground",children:"Students should scan this QR code to mark their attendance"})]}),_.jsxs(Sn,{onClick:a,className:"w-full gap-2",children:[_.jsx(zT,{className:"w-4 h-4"}),"Download QR Code"]})]})]})})};function fD(e,[t,n]){return Math.min(n,Math.max(t,e))}function hD(e,t){return O.useReducer((n,r)=>t[n][r]??n,e)}var np="ScrollArea",[cS,F7]=Gr(np),[gD,Cr]=cS(np),uS=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...c}=e,[h,g]=O.useState(null),[p,y]=O.useState(null),[x,E]=O.useState(null),[b,R]=O.useState(null),[C,N]=O.useState(null),[I,T]=O.useState(0),[A,M]=O.useState(0),[j,U]=O.useState(!1),[F,H]=O.useState(!1),z=pt(t,de=>g(de)),ee=sf(s);return _.jsx(gD,{scope:n,type:r,dir:ee,scrollHideDelay:a,scrollArea:h,viewport:p,onViewportChange:y,content:x,onContentChange:E,scrollbarX:b,onScrollbarXChange:R,scrollbarXEnabled:j,onScrollbarXEnabledChange:U,scrollbarY:C,onScrollbarYChange:N,scrollbarYEnabled:F,onScrollbarYEnabledChange:H,onCornerWidthChange:T,onCornerHeightChange:M,children:_.jsx(Ue.div,{dir:ee,...c,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});uS.displayName=np;var dS="ScrollAreaViewport",fS=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,c=Cr(dS,n),h=O.useRef(null),g=pt(t,h,c.onViewportChange);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),_.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...a,ref:g,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:_.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});fS.displayName=dS;var mi="ScrollAreaScrollbar",rp=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Cr(mi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=s,h=e.orientation==="horizontal";return O.useEffect(()=>(h?a(!0):c(!0),()=>{h?a(!1):c(!1)}),[h,a,c]),s.type==="hover"?_.jsx(pD,{...r,ref:t,forceMount:n}):s.type==="scroll"?_.jsx(mD,{...r,ref:t,forceMount:n}):s.type==="auto"?_.jsx(hS,{...r,ref:t,forceMount:n}):s.type==="always"?_.jsx(ip,{...r,ref:t}):null});rp.displayName=mi;var pD=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Cr(mi,e.__scopeScrollArea),[a,c]=O.useState(!1);return O.useEffect(()=>{const h=s.scrollArea;let g=0;if(h){const p=()=>{window.clearTimeout(g),c(!0)},y=()=>{g=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return h.addEventListener("pointerenter",p),h.addEventListener("pointerleave",y),()=>{window.clearTimeout(g),h.removeEventListener("pointerenter",p),h.removeEventListener("pointerleave",y)}}},[s.scrollArea,s.scrollHideDelay]),_.jsx(Er,{present:n||a,children:_.jsx(hS,{"data-state":a?"visible":"hidden",...r,ref:t})})}),mD=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Cr(mi,e.__scopeScrollArea),a=e.orientation==="horizontal",c=bf(()=>g("SCROLL_END"),100),[h,g]=hD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return O.useEffect(()=>{if(h==="idle"){const p=window.setTimeout(()=>g("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[h,s.scrollHideDelay,g]),O.useEffect(()=>{const p=s.viewport,y=a?"scrollLeft":"scrollTop";if(p){let x=p[y];const E=()=>{const b=p[y];x!==b&&(g("SCROLL"),c()),x=b};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[s.viewport,a,g,c]),_.jsx(Er,{present:n||h!=="hidden",children:_.jsx(ip,{"data-state":h==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),hS=O.forwardRef((e,t)=>{const n=Cr(mi,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,c]=O.useState(!1),h=e.orientation==="horizontal",g=bf(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;c(h?p:y)}},10);return Ra(n.viewport,g),Ra(n.content,g),_.jsx(Er,{present:r||a,children:_.jsx(ip,{"data-state":a?"visible":"hidden",...s,ref:t})})}),ip=O.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Cr(mi,e.__scopeScrollArea),a=O.useRef(null),c=O.useRef(0),[h,g]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=yS(h.viewport,h.content),y={...r,sizes:h,onSizesChange:g,hasThumb:p>0&&p<1,onThumbChange:E=>a.current=E,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:E=>c.current=E};function x(E,b){return ED(E,c.current,h,b)}return n==="horizontal"?_.jsx(wD,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const E=s.viewport.scrollLeft,b=uy(E,h,s.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollLeft=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollLeft=x(E,s.dir))}}):n==="vertical"?_.jsx(yD,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const E=s.viewport.scrollTop,b=uy(E,h);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollTop=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollTop=x(E))}}):null}),wD=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Cr(mi,e.__scopeScrollArea),[c,h]=O.useState(),g=O.useRef(null),p=pt(t,g,a.onScrollbarXChange);return O.useEffect(()=>{g.current&&h(getComputedStyle(g.current))},[g]),_.jsx(pS,{"data-orientation":"horizontal",...s,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vf(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,x)=>{if(a.viewport){const E=a.viewport.scrollLeft+y.deltaX;e.onWheelScroll(E),vS(E,x)&&y.preventDefault()}},onResize:()=>{g.current&&a.viewport&&c&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:bd(c.paddingLeft),paddingEnd:bd(c.paddingRight)}})}})}),yD=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Cr(mi,e.__scopeScrollArea),[c,h]=O.useState(),g=O.useRef(null),p=pt(t,g,a.onScrollbarYChange);return O.useEffect(()=>{g.current&&h(getComputedStyle(g.current))},[g]),_.jsx(pS,{"data-orientation":"vertical",...s,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vf(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,x)=>{if(a.viewport){const E=a.viewport.scrollTop+y.deltaY;e.onWheelScroll(E),vS(E,x)&&y.preventDefault()}},onResize:()=>{g.current&&a.viewport&&c&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:bd(c.paddingTop),paddingEnd:bd(c.paddingBottom)}})}})}),[xD,gS]=cS(mi),pS=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:c,onThumbPointerDown:h,onThumbPositionChange:g,onDragScroll:p,onWheelScroll:y,onResize:x,...E}=e,b=Cr(mi,n),[R,C]=O.useState(null),N=pt(t,z=>C(z)),I=O.useRef(null),T=O.useRef(""),A=b.viewport,M=r.content-r.viewport,j=$t(y),U=$t(g),F=bf(x,10);function H(z){if(I.current){const ee=z.clientX-I.current.left,de=z.clientY-I.current.top;p({x:ee,y:de})}}return O.useEffect(()=>{const z=ee=>{const de=ee.target;(R==null?void 0:R.contains(de))&&j(ee,M)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[A,R,M,j]),O.useEffect(U,[r,U]),Ra(R,F),Ra(b.content,F),_.jsx(xD,{scope:n,scrollbar:R,hasThumb:s,onThumbChange:$t(a),onThumbPointerUp:$t(c),onThumbPositionChange:U,onThumbPointerDown:$t(h),children:_.jsx(Ue.div,{...E,ref:N,style:{position:"absolute",...E.style},onPointerDown:Pe(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),I.current=R.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),H(z))}),onPointerMove:Pe(e.onPointerMove,H),onPointerUp:Pe(e.onPointerUp,z=>{const ee=z.target;ee.hasPointerCapture(z.pointerId)&&ee.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=T.current,b.viewport&&(b.viewport.style.scrollBehavior=""),I.current=null})})})}),vd="ScrollAreaThumb",mS=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=gS(vd,e.__scopeScrollArea);return _.jsx(Er,{present:n||s.hasThumb,children:_.jsx(vD,{ref:t,...r})})}),vD=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Cr(vd,n),c=gS(vd,n),{onThumbPositionChange:h}=c,g=pt(t,x=>c.onThumbChange(x)),p=O.useRef(void 0),y=bf(()=>{p.current&&(p.current(),p.current=void 0)},100);return O.useEffect(()=>{const x=a.viewport;if(x){const E=()=>{if(y(),!p.current){const b=CD(x,h);p.current=b,h()}};return h(),x.addEventListener("scroll",E),()=>x.removeEventListener("scroll",E)}},[a.viewport,y,h]),_.jsx(Ue.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Pe(e.onPointerDownCapture,x=>{const b=x.target.getBoundingClientRect(),R=x.clientX-b.left,C=x.clientY-b.top;c.onThumbPointerDown({x:R,y:C})}),onPointerUp:Pe(e.onPointerUp,c.onThumbPointerUp)})});mS.displayName=vd;var sp="ScrollAreaCorner",wS=O.forwardRef((e,t)=>{const n=Cr(sp,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?_.jsx(bD,{...e,ref:t}):null});wS.displayName=sp;var bD=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Cr(sp,n),[a,c]=O.useState(0),[h,g]=O.useState(0),p=!!(a&&h);return Ra(s.scrollbarX,()=>{var x;const y=((x=s.scrollbarX)==null?void 0:x.offsetHeight)||0;s.onCornerHeightChange(y),g(y)}),Ra(s.scrollbarY,()=>{var x;const y=((x=s.scrollbarY)==null?void 0:x.offsetWidth)||0;s.onCornerWidthChange(y),c(y)}),p?_.jsx(Ue.div,{...r,ref:t,style:{width:a,height:h,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bd(e){return e?parseInt(e,10):0}function yS(e,t){const n=e/t;return isNaN(n)?0:n}function vf(e){const t=yS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ED(e,t,n,r="ltr"){const s=vf(n),a=s/2,c=t||a,h=s-c,g=n.scrollbar.paddingStart+c,p=n.scrollbar.size-n.scrollbar.paddingEnd-h,y=n.content-n.viewport,x=r==="ltr"?[0,y]:[y*-1,0];return xS([g,p],x)(e)}function uy(e,t,n="ltr"){const r=vf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,c=t.content-t.viewport,h=a-r,g=n==="ltr"?[0,c]:[c*-1,0],p=fD(e,g);return xS([0,c],[0,h])(p)}function xS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function vS(e,t){return e>0&&e<t}var CD=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},c=n.left!==a.left,h=n.top!==a.top;(c||h)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function bf(e,t){const n=$t(e),r=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),O.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ra(e,t){const n=$t(t);er(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var bS=uS,SD=fS,_D=wS;const op=O.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(bS,{ref:r,className:Ke("relative overflow-hidden",e),...n,children:[_.jsx(SD,{className:"h-full w-full rounded-[inherit]",children:t}),_.jsx(ES,{}),_.jsx(_D,{})]}));op.displayName=bS.displayName;const ES=O.forwardRef(({className:e,orientation:t="vertical",...n},r)=>_.jsx(rp,{ref:r,orientation:t,className:Ke("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:_.jsx(mS,{className:"relative flex-1 rounded-full bg-border"})}));ES.displayName=rp.displayName;var CS={exports:{}},SS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=O;function AD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TD=typeof Object.is=="function"?Object.is:AD,ID=Na.useState,RD=Na.useEffect,ND=Na.useLayoutEffect,OD=Na.useDebugValue;function PD(e,t){var n=t(),r=ID({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return ND(function(){s.value=n,s.getSnapshot=t,Wh(s)&&a({inst:s})},[e,n,t]),RD(function(){return Wh(s)&&a({inst:s}),e(function(){Wh(s)&&a({inst:s})})},[e]),OD(n),n}function Wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!TD(e,n)}catch{return!0}}function kD(e,t){return t()}var DD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kD:PD;SS.useSyncExternalStore=Na.useSyncExternalStore!==void 0?Na.useSyncExternalStore:DD;CS.exports=SS;var MD=CS.exports;function LD(){return MD.useSyncExternalStore(BD,()=>!0,()=>!1)}function BD(){return()=>{}}var ap="Avatar",[FD,j7]=Gr(ap),[jD,_S]=FD(ap),AS=O.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=O.useState("idle");return _.jsx(jD,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:_.jsx(Ue.span,{...r,ref:t})})});AS.displayName=ap;var TS="AvatarImage",IS=O.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,c=_S(TS,n),h=UD(r,a),g=$t(p=>{s(p),c.onImageLoadingStatusChange(p)});return er(()=>{h!=="idle"&&g(h)},[h,g]),h==="loaded"?_.jsx(Ue.img,{...a,ref:t,src:r}):null});IS.displayName=TS;var RS="AvatarFallback",NS=O.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=_S(RS,n),[c,h]=O.useState(r===void 0);return O.useEffect(()=>{if(r!==void 0){const g=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(g)}},[r]),c&&a.imageLoadingStatus!=="loaded"?_.jsx(Ue.span,{...s,ref:t}):null});NS.displayName=RS;function dy(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function UD(e,{referrerPolicy:t,crossOrigin:n}){const r=LD(),s=O.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[c,h]=O.useState(()=>dy(a,e));return er(()=>{h(dy(a,e))},[a,e]),er(()=>{const g=x=>()=>{h(x)};if(!a)return;const p=g("loaded"),y=g("error");return a.addEventListener("load",p),a.addEventListener("error",y),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",p),a.removeEventListener("error",y)}},[a,n,t]),c}var OS=AS,PS=IS,kS=NS;const DS=O.forwardRef(({className:e,...t},n)=>_.jsx(OS,{ref:n,className:Ke("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));DS.displayName=OS.displayName;const VD=O.forwardRef(({className:e,...t},n)=>_.jsx(PS,{ref:n,className:Ke("aspect-square h-full w-full",e),...t}));VD.displayName=PS.displayName;const MS=O.forwardRef(({className:e,...t},n)=>_.jsx(kS,{ref:n,className:Ke("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));MS.displayName=kS.displayName;const WD=({open:e,onOpenChange:t,lectureId:n,lectureTitle:r})=>{const[s,a]=O.useState([]),[c,h]=O.useState(!1);O.useEffect(()=>{e&&g()},[e,n]);const g=async()=>{h(!0);try{const{data:x,error:E}=await mn.from("attendance").select(`
          *,
          profiles:student_id (
            full_name,
            student_id,
            email,
            department
          )
        `).eq("lecture_id",n).order("marked_at",{ascending:!1});if(E)throw E;a(x||[])}catch(x){console.error("Error fetching attendance:",x)}finally{h(!1)}},p=x=>x.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2),y=()=>{const x=window.open("","_blank");if(!x)return;const E=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Attendance Report - ${r}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              padding: 40px;
              color: #000;
            }
            .header {
              text-align: center;
              margin-bottom: 30px;
              border-bottom: 2px solid #3b82f6;
              padding-bottom: 20px;
            }
            .header h1 {
              color: #3b82f6;
              margin: 0 0 10px 0;
            }
            .header h2 {
              color: #666;
              margin: 0;
              font-weight: normal;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 12px;
              text-align: left;
            }
            th {
              background-color: #3b82f6;
              color: white;
            }
            tr:nth-child(even) {
              background-color: #f9f9f9;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              color: #666;
              font-size: 12px;
            }
            .summary {
              margin: 20px 0;
              padding: 15px;
              background-color: #f0f9ff;
              border-left: 4px solid #3b82f6;
            }
            @media print {
              body { padding: 20px; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>UCU-BBUC Attendance Report</h1>
            <h2>${r}</h2>
            <p>Generated on: ${Ii(new Date,"PPpp")}</p>
          </div>
          
          <div class="summary">
            <strong>Total Students Present: ${s.length}</strong>
          </div>

          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>Student Name</th>
                <th>Student ID</th>
                <th>Department</th>
                <th>Time Marked</th>
              </tr>
            </thead>
            <tbody>
              ${s.map((b,R)=>{const C=b.profiles;return`
                <tr>
                  <td>${R+1}</td>
                  <td>${(C==null?void 0:C.full_name)||"Unknown Student"}</td>
                  <td>${(C==null?void 0:C.student_id)||"N/A"}</td>
                  <td>${(C==null?void 0:C.department)||"N/A"}</td>
                  <td>${Ii(new Date(b.marked_at),"HH:mm:ss")}</td>
                </tr>
              `}).join("")}
            </tbody>
          </table>

          <div class="footer">
            <p>UCU-BBUC QR Code Lecture Attendance Monitoring System</p>
            <p>Printed on: ${Ii(new Date,"PPpp")}</p>
          </div>
        </body>
      </html>
    `;x.document.write(E),x.document.close(),x.focus(),setTimeout(()=>{x.print(),x.close()},250)};return _.jsx(qg,{open:e,onOpenChange:t,children:_.jsxs(df,{className:"max-w-2xl",children:[_.jsx(ff,{children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx(hf,{children:"Attendance List"}),_.jsx(gf,{children:r})]}),_.jsxs(Sn,{onClick:y,variant:"outline",size:"sm",className:"gap-2",disabled:s.length===0,children:[_.jsx($T,{className:"w-4 h-4"}),"Print Report"]})]})}),_.jsx(op,{className:"h-[400px] pr-4",children:c?_.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):s.length===0?_.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No students have marked attendance yet"}):_.jsx("div",{className:"space-y-2",children:s.map(x=>{const E=x.profiles,b=(E==null?void 0:E.full_name)||"Unknown Student",R=(E==null?void 0:E.student_id)||"N/A",C=(E==null?void 0:E.department)||"N/A";return _.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-accent transition-colors",children:[_.jsx(DS,{children:_.jsx(MS,{className:"bg-primary text-primary-foreground",children:p(b)})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium",children:b}),_.jsxs("div",{className:"text-sm text-muted-foreground",children:[R,"  ",C]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("div",{className:"flex items-center gap-2 text-secondary",children:[_.jsx(sd,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm font-medium",children:"Present"})]}),_.jsx("div",{className:"text-xs text-muted-foreground",children:Ii(new Date(x.marked_at),"HH:mm")})]})]},x.id)})})}),_.jsx("div",{className:"border-t pt-4",children:_.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Total: ",_.jsx("span",{className:"font-medium text-foreground",children:s.length})," students present"]})})]})})},zD=({lecture:e,onUpdate:t})=>{var h,g;const[n,r]=O.useState(!1),[s,a]=O.useState(!1),c=((g=(h=e.attendance)==null?void 0:h[0])==null?void 0:g.count)||0;return _.jsxs(_.Fragment,{children:[_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-all",children:[_.jsx(mr,{children:_.jsx("div",{className:"flex items-start justify-between",children:_.jsxs("div",{className:"space-y-1 flex-1",children:[_.jsx(wr,{className:"text-lg",children:e.title}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Du,{variant:"outline",className:"text-xs",children:e.course_code}),e.is_active?_.jsx(Du,{className:"text-xs bg-secondary text-secondary-foreground",children:"Active"}):_.jsx(Du,{variant:"secondary",className:"text-xs",children:"Inactive"})]})]})})}),_.jsxs(yr,{className:"space-y-3",children:[_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[_.jsx($d,{className:"w-4 h-4"}),_.jsx("span",{children:Ii(new Date(e.scheduled_time),"PPp")})]}),_.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[_.jsx(v2,{className:"w-4 h-4"}),_.jsx("span",{children:e.venue})]}),_.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[_.jsx(b2,{className:"w-4 h-4"}),_.jsxs("span",{children:[c," students attended"]})]})]}),_.jsxs("div",{className:"flex gap-2 pt-2",children:[_.jsxs(Sn,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"flex-1 gap-2",children:[_.jsx(na,{className:"w-4 h-4"}),"Show QR"]}),_.jsxs(Sn,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex-1 gap-2",children:[_.jsx(HT,{className:"w-4 h-4"}),"View List"]})]})]})]}),_.jsx(dD,{open:n,onOpenChange:r,lecture:e}),_.jsx(WD,{open:s,onOpenChange:a,lectureId:e.id,lectureTitle:e.title})]})},HD=({profile:e})=>{const t=mc(),[n,r]=O.useState([]),[s,a]=O.useState({total:0,active:0,totalAttendance:0}),[c,h]=O.useState(!1);O.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:y,error:x}=await mn.from("lectures").select(`
          *,
          attendance(count)
        `).eq("lecturer_id",e.id).order("scheduled_time",{ascending:!1});if(x)throw x;r(y||[]);const E=(y==null?void 0:y.reduce((b,R)=>{var C,N;return b+(((N=(C=R.attendance)==null?void 0:C[0])==null?void 0:N.count)||0)},0))||0;a({total:(y==null?void 0:y.length)||0,active:(y==null?void 0:y.filter(b=>b.is_active).length)||0,totalAttendance:E})}catch(y){console.error("Error fetching lectures:",y),fr.error("Failed to load lectures")}},p=async()=>{await mn.auth.signOut(),t("/auth")};return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[_.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10 shadow-sm",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Lecturer Dashboard"}),_.jsxs("p",{className:"text-sm text-muted-foreground",children:["Welcome back, ",e.full_name]})]}),_.jsxs(Sn,{variant:"outline",onClick:p,className:"gap-2",children:[_.jsx(x2,{className:"w-4 h-4"}),"Sign Out"]})]})}),_.jsxs("main",{className:"max-w-7xl mx-auto p-4 space-y-6",children:[_.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-shadow",children:[_.jsxs(mr,{className:"flex flex-row items-center justify-between pb-2",children:[_.jsx(wr,{className:"text-sm font-medium",children:"Total Lectures"}),_.jsx($d,{className:"w-4 h-4 text-muted-foreground"})]}),_.jsx(yr,{children:_.jsx("div",{className:"text-3xl font-bold text-primary",children:s.total})})]}),_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-shadow",children:[_.jsxs(mr,{className:"flex flex-row items-center justify-between pb-2",children:[_.jsx(wr,{className:"text-sm font-medium",children:"Active Sessions"}),_.jsx(na,{className:"w-4 h-4 text-muted-foreground"})]}),_.jsx(yr,{children:_.jsx("div",{className:"text-3xl font-bold text-secondary",children:s.active})})]}),_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-shadow",children:[_.jsxs(mr,{className:"flex flex-row items-center justify-between pb-2",children:[_.jsx(wr,{className:"text-sm font-medium",children:"Total Attendance"}),_.jsx(b2,{className:"w-4 h-4 text-muted-foreground"})]}),_.jsx(yr,{children:_.jsx("div",{className:"text-3xl font-bold text-accent-foreground",children:s.totalAttendance})})]})]}),_.jsxs(pr,{className:"shadow-card",children:[_.jsx(mr,{children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx(wr,{children:"My Lectures"}),_.jsx(yc,{children:"Manage your lecture sessions and track attendance"})]}),_.jsxs(Sn,{onClick:()=>h(!0),className:"gap-2",children:[_.jsx(Vm,{className:"w-4 h-4"}),"Create Lecture"]})]})}),_.jsx(yr,{children:n.length===0?_.jsxs("div",{className:"text-center py-12",children:[_.jsx(na,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No lectures yet"}),_.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first lecture to start tracking attendance"}),_.jsxs(Sn,{onClick:()=>h(!0),className:"gap-2",children:[_.jsx(Vm,{className:"w-4 h-4"}),"Create First Lecture"]})]}):_.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(y=>_.jsx(zD,{lecture:y,onUpdate:g},y.id))})})]})]}),_.jsx(wk,{open:c,onOpenChange:h,lecturerId:e.id,onSuccess:g})]})};var ye;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var fy=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),hy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(hy||(hy={}));function $D(e){return Object.values(ye).includes(e)}var Ed;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ed||(Ed={}));var GD=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ed.SCAN_TYPE_CAMERA,Ed.SCAN_TYPE_FILE],e}(),LS=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!fy.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,fy.get(t))},e}(),gy=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),w1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(w1||(w1={}));var XD=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:w1.UNKWOWN_ERROR}},e}(),YD=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bi(e){return typeof e>"u"||e===null}var Ko=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),BS=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),c=Object.keys(t),h=0,g=c;h<g.length;h++){var p=g[h];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),y1={exports:{}};(function(e,t){(function(n,r){r(t)})(Qa,function(n){function r(P){return P==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,i){P.__proto__=i}||function(P,i){for(var o in i)i.hasOwnProperty(o)&&(P[o]=i[o])};function a(P,i){s(P,i);function o(){this.constructor=P}P.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function c(P,i){var o=Object.setPrototypeOf;o?o(P,i):P.__proto__=i}function h(P,i){i===void 0&&(i=P.constructor);var o=Error.captureStackTrace;o&&o(P,i)}var g=function(P){a(i,P);function i(o){var l=this.constructor,u=P.call(this,o)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return i}(Error);class p extends g{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class x extends p{}x.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,u){const d=this.binarizer.getLuminanceSource().crop(i,o,l,u);return new E(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends p{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class R{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(i,o,l,u,d){for(;d--;)l[u++]=i[o++]}static currentTimeMillis(){return Date.now()}}class N extends p{}N.kind="IndexOutOfBoundsException";class I extends N{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class T{static fill(i,o){for(let l=0,u=i.length;l<u;l++)i[l]=o}static fillWithin(i,o,l,u){T.rangeCheck(i.length,o,l);for(let d=o;d<l;d++)i[d]=u}static rangeCheck(i,o,l){if(o>l)throw new x("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,u=i.length;l<u;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const u=l-o,d=new Int32Array(u);return C.arraycopy(i,o,d,0,u),d}static binarySearch(i,o,l){l===void 0&&(l=T.numberComparator);let u=0,d=i.length-1;for(;u<=d;){const f=d+u>>1,m=l(o,i[f]);if(m>0)u=f+1;else if(m<0)d=f-1;else return f}return-u-1}static numberComparator(i,o){return i-o}}class A{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}A.MIN_VALUE_32_BITS=-2147483648,A.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=M.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=M.makeArray(i);C.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let u=Math.floor(i/32),d=l[u];d&=~((1<<(i&31))-1);const f=l.length;for(;d===0;){if(++u===f)return o;d=l[u]}const m=u*32+A.numberOfTrailingZeros(d);return m>o?o:m}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let u=Math.floor(i/32),d=~l[u];d&=~((1<<(i&31))-1);const f=l.length;for(;d===0;){if(++u===f)return o;d=~l[u]}const m=u*32+A.numberOfTrailingZeros(d);return m>o?o:m}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new x;if(o===i)return;o--;const l=Math.floor(i/32),u=Math.floor(o/32),d=this.bits;for(let f=l;f<=u;f++){const m=f>l?0:i&31,v=(2<<(f<u?31:o&31))-(1<<m);d[f]|=v}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new x;if(o===i)return!0;o--;const u=Math.floor(i/32),d=Math.floor(o/32),f=this.bits;for(let m=u;m<=d;m++){const w=m>u?0:i&31,S=(2<<(m<d?31:o&31))-(1<<w)&4294967295;if((f[m]&S)!==(l?S:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new x("Sizes don't match");const o=this.bits;for(let l=0,u=o.length;l<u;l++)o[l]^=i.bits[l]}toBytes(i,o,l,u){for(let d=0;d<u;d++){let f=0;for(let m=0;m<8;m++)this.get(i)&&(f|=1<<7-m),i++;o[l+d]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[o-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=i[0]>>>d;for(let m=1;m<l;m++){const w=i[m];f|=w<<32-d,i[m-1]=f,f=w>>>d}i[l-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof M))return!1;const o=i;return this.size===o.size&&T.equals(this.bits,o.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new M(this.size,this.bits.slice())}}var j;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j||(j={}));var U=j;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var H;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(H||(H={}));class z{constructor(i,o,l,...u){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=u,z.VALUE_IDENTIFIER_TO_ECI.set(i,this),z.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,m=d.length;f!==m;f++){const w=d[f];z.VALUES_TO_ECI.set(w,this)}for(const f of u)z.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new F("incorect value");const o=z.VALUES_TO_ECI.get(i);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(i){const o=z.NAME_TO_ECI.get(i);if(o===void 0)throw new F("incorect value");return o}equals(i){if(!(i instanceof z))return!1;const o=i;return this.getName()===o.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(H.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(H.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(H.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(H.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(H.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(H.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(H.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(H.Big5,28,"Big5"),z.GB18030=new z(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(H.EUC_KR,30,"EUC_KR","EUC-KR");class ee extends p{}ee.kind="UnsupportedOperationException";class de{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!de.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof z?i:z.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(de.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=i.length;d<f;d++){let m=i[d].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ee(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(z.UTF8)||i.equals(z.ISO8859_1)||i.equals(z.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class Q{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return de.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(U.CHARACTER_SET)!==void 0)return o.get(U.CHARACTER_SET).toString();const l=i.length;let u=!0,d=!0,f=!0,m=0,w=0,v=0,S=0,k=0,D=0,B=0,V=0,W=0,$=0,K=0;const se=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let oe=0;oe<l&&(u||d||f);oe++){const ne=i[oe]&255;f&&(m>0?ne&128?m--:f=!1:ne&128&&(ne&64?(m++,ne&32?(m++,ne&16?(m++,ne&8?f=!1:S++):v++):w++):f=!1)),u&&(ne>127&&ne<160?u=!1:ne>159&&(ne<192||ne===215||ne===247)&&K++),d&&(k>0?ne<64||ne===127||ne>252?d=!1:k--:ne===128||ne===160||ne>239?d=!1:ne>160&&ne<224?(D++,V=0,B++,B>W&&(W=B)):ne>127?(k++,B=0,V++,V>$&&($=V)):(B=0,V=0))}return f&&m>0&&(f=!1),d&&k>0&&(d=!1),f&&(se||w+v+S>0)?Q.UTF8:d&&(Q.ASSUME_SHIFT_JIS||W>=3||$>=3)?Q.SHIFT_JIS:u&&d?W===2&&D===2||K*10>=l?Q.SHIFT_JIS:Q.ISO88591:u?Q.ISO88591:d?Q.SHIFT_JIS:f?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function u(f,m,w,v,S,k){if(f==="%%")return"%";if(o[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=S?parseInt(S.substr(1)):void 0,B;switch(k){case"s":B=o[l];break;case"c":B=o[l][0];break;case"f":B=parseFloat(o[l]).toFixed(f);break;case"p":B=parseFloat(o[l]).toPrecision(f);break;case"e":B=parseFloat(o[l]).toExponential(f);break;case"x":B=parseInt(o[l]).toString(D||16);break;case"d":B=parseFloat(parseInt(o[l],D||10).toPrecision(f)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(D);let V=parseInt(w),W=w&&w[0]+""=="0"?"0":" ";for(;B.length<V;)B=m!==void 0?B+W:W+B;return B}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,u)}static getBytes(i,o){return de.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}Q.SHIFT_JIS=z.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=z.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=z.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class ue{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let u=o;o<o+l;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class ie{constructor(i,o,l,u){if(this.width=i,this.height=o,this.rowSize=l,this.bits=u,o==null&&(o=i),this.height=o,i<1||o<1)throw new x("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,u=new ie(l,o);for(let d=0;d<o;d++){const f=i[d];for(let m=0;m<l;m++)f[m]&&u.set(m,d)}return u}static parseFromString(i,o,l){if(i===null)throw new x("stringRepresentation cannot be null");const u=new Array(i.length);let d=0,f=0,m=-1,w=0,v=0;for(;v<i.length;)if(i.charAt(v)===`
`||i.charAt(v)==="\r"){if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new x("row lengths do not match");f=d,w++}v++}else if(i.substring(v,v+o.length)===o)v+=o.length,u[d]=!0,d++;else if(i.substring(v,v+l.length)===l)v+=l.length,u[d]=!1,d++;else throw new x("illegal character encountered: "+i.substring(v));if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new x("row lengths do not match");w++}const S=new ie(m,w);for(let k=0;k<d;k++)u[k]&&S.set(Math.floor(k%m),Math.floor(k/m));return S}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new x("input matrix dimensions do not match");const o=new M(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const m=d*l,w=i.getRow(d,o).getBitArray();for(let v=0;v<l;v++)u[m+v]^=w[v]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,u){if(o<0||i<0)throw new x("Left and top must be nonnegative");if(u<1||l<1)throw new x("Height and width must be at least 1");const d=i+l,f=o+u;if(f>this.height||d>this.width)throw new x("The region must fit inside the matrix");const m=this.rowSize,w=this.bits;for(let v=o;v<f;v++){const S=v*m;for(let k=i;k<d;k++)w[S+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new M(this.width):o.clear();const l=this.rowSize,u=this.bits,d=i*l;for(let f=0;f<l;f++)o.setBulk(f*32,u[d+f]);return o}setRow(i,o){C.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new M(i),u=new M(i);for(let d=0,f=Math.floor((o+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(o-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(o-1-d,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,u=this.bits;let d=i,f=o,m=-1,w=-1;for(let v=0;v<o;v++)for(let S=0;S<l;S++){const k=u[v*l+S];if(k!==0){if(v<f&&(f=v),v>w&&(w=v),S*32<d){let D=0;for(;!(k<<31-D&4294967295);)D++;S*32+D<d&&(d=S*32+D)}if(S*32+31>m){let D=31;for(;!(k>>>D);)D--;S*32+D>m&&(m=S*32+D)}}}return m<d||w<f?null:Int32Array.from([d,f,m-d+1,w-f+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const u=l/i;let d=l%i*32;const f=o[l];let m=0;for(;!(f<<31-m&4294967295);)m++;return d+=m,Int32Array.from([d,u])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/i);let d=Math.floor(l%i)*32;const f=o[l];let m=31;for(;!(f>>>m);)m--;return d+=m,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ie))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&T.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+T.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let u=new ue;for(let d=0,f=this.height;d<f;d++){for(let m=0,w=this.width;m<w;m++)u.append(this.get(m,d)?i:o);u.append(l)}return u.toString()}clone(){return new ie(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends p{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class he extends R{constructor(i){super(i),this.luminances=he.EMPTY,this.buckets=new Int32Array(he.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),u=l.getWidth();o==null||o.getSize()<u?o=new M(u):o.clear(),this.initArrays(u);const d=l.getRow(i,this.luminances),f=this.buckets;for(let w=0;w<u;w++)f[(d[w]&255)>>he.LUMINANCE_SHIFT]++;const m=he.estimateBlackPoint(f);if(u<3)for(let w=0;w<u;w++)(d[w]&255)<m&&o.set(w);else{let w=d[0]&255,v=d[1]&255;for(let S=1;S<u-1;S++){const k=d[S+1]&255;(v*4-w-k)/2<m&&o.set(S),w=v,v=k}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),u=new ie(o,l);this.initArrays(o);const d=this.buckets;for(let w=1;w<5;w++){const v=Math.floor(l*w/5),S=i.getRow(v,this.luminances),k=Math.floor(o*4/5);for(let D=Math.floor(o/5);D<k;D++){const B=S[D]&255;d[B>>he.LUMINANCE_SHIFT]++}}const f=he.estimateBlackPoint(d),m=i.getMatrix();for(let w=0;w<l;w++){const v=w*o;for(let S=0;S<o;S++)(m[v+S]&255)<f&&u.set(S,w)}return u}createBinarizer(i){return new he(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<he.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,u=0,d=0;for(let S=0;S<o;S++)i[S]>d&&(u=S,d=i[S]),i[S]>l&&(l=i[S]);let f=0,m=0;for(let S=0;S<o;S++){const k=S-u,D=i[S]*k*k;D>m&&(f=S,m=D)}if(u>f){const S=u;u=f,f=S}if(f-u<=o/16)throw new G;let w=f-1,v=-1;for(let S=f-1;S>u;S--){const k=S-u,D=k*k*(f-S)*(l-i[S]);D>v&&(w=S,v=D)}return w<<he.LUMINANCE_SHIFT}}he.LUMINANCE_BITS=5,he.LUMINANCE_SHIFT=8-he.LUMINANCE_BITS,he.LUMINANCE_BUCKETS=1<<he.LUMINANCE_BITS,he.EMPTY=Uint8ClampedArray.from([0]);class ce extends he{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=ce.MINIMUM_DIMENSION&&l>=ce.MINIMUM_DIMENSION){const u=i.getMatrix();let d=o>>ce.BLOCK_SIZE_POWER;o&ce.BLOCK_SIZE_MASK&&d++;let f=l>>ce.BLOCK_SIZE_POWER;l&ce.BLOCK_SIZE_MASK&&f++;const m=ce.calculateBlackPoints(u,d,f,o,l),w=new ie(o,l);ce.calculateThresholdForBlock(u,d,f,o,l,m,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ce(i)}static calculateThresholdForBlock(i,o,l,u,d,f,m){const w=d-ce.BLOCK_SIZE,v=u-ce.BLOCK_SIZE;for(let S=0;S<l;S++){let k=S<<ce.BLOCK_SIZE_POWER;k>w&&(k=w);const D=ce.cap(S,2,l-3);for(let B=0;B<o;B++){let V=B<<ce.BLOCK_SIZE_POWER;V>v&&(V=v);const W=ce.cap(B,2,o-3);let $=0;for(let se=-2;se<=2;se++){const oe=f[D+se];$+=oe[W-2]+oe[W-1]+oe[W]+oe[W+1]+oe[W+2]}const K=$/25;ce.thresholdBlock(i,V,k,K,u,m)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,u,d,f){for(let m=0,w=l*d+o;m<ce.BLOCK_SIZE;m++,w+=d)for(let v=0;v<ce.BLOCK_SIZE;v++)(i[w+v]&255)<=u&&f.set(o+v,l+m)}static calculateBlackPoints(i,o,l,u,d){const f=d-ce.BLOCK_SIZE,m=u-ce.BLOCK_SIZE,w=new Array(l);for(let v=0;v<l;v++){w[v]=new Int32Array(o);let S=v<<ce.BLOCK_SIZE_POWER;S>f&&(S=f);for(let k=0;k<o;k++){let D=k<<ce.BLOCK_SIZE_POWER;D>m&&(D=m);let B=0,V=255,W=0;for(let K=0,se=S*u+D;K<ce.BLOCK_SIZE;K++,se+=u){for(let oe=0;oe<ce.BLOCK_SIZE;oe++){const ne=i[se+oe]&255;B+=ne,ne<V&&(V=ne),ne>W&&(W=ne)}if(W-V>ce.MIN_DYNAMIC_RANGE)for(K++,se+=u;K<ce.BLOCK_SIZE;K++,se+=u)for(let oe=0;oe<ce.BLOCK_SIZE;oe++)B+=i[se+oe]&255}let $=B>>ce.BLOCK_SIZE_POWER*2;if(W-V<=ce.MIN_DYNAMIC_RANGE&&($=V/2,v>0&&k>0)){const K=(w[v-1][k]+2*w[v][k-1]+w[v-1][k-1])/4;V<K&&($=K)}w[v][k]=$}}return w}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class q{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,u){throw new ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ee("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ue;for(let l=0;l<this.height;l++){const u=this.getRow(l,i);for(let d=0;d<this.width;d++){const f=u[d]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",o.append(m)}o.append(`
`)}return o.toString()}}class J extends q{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let u=0;u<o;u++)l[u]=255-(i[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,u){return new J(this.delegate.crop(i,o,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new J(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new J(this.delegate.rotateCounterClockwise45())}}class fe extends q{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return fe.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const u=new Uint8ClampedArray(o*l);for(let d=0,f=0,m=i.length;d<m;d+=4,f++){let w;if(i[d+3]===0)w=255;else{const S=i[d],k=i[d+1],D=i[d+2];w=306*S+601*k+117*D+512>>10}u[f]=w}return u}getRow(i,o){if(i<0||i>=this.getHeight())throw new x("Requested row is outside the image: "+i);const l=this.getWidth(),u=i*l;return o===null?o=this.buffer.slice(u,u+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(u,u+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,u){return super.crop(i,o,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),u=i*fe.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),w=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return o.width=m,o.height=w,l.translate(m/2,w/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=fe.makeBufferFromCanvasImageData(o),this}invert(){return new J(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class Re{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||Qa||self||window||void 0)&&(globalThis||Qa||self||window||void 0).__awaiter||function(P,i,o,l){function u(d){return d instanceof o?d:new o(function(f){f(d)})}return new(o||(o=Promise))(function(d,f){function m(S){try{v(l.next(S))}catch(k){f(k)}}function w(S){try{v(l.throw(S))}catch(k){f(k)}}function v(S){S.done?d(S.value):u(S.value).then(m,w)}v((l=l.apply(P,i||[])).next())})};class Ne{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${o.length+1}`,m=l.groupId,w={deviceId:d,label:f,kind:u,groupId:m};o.push(w)}return o})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Re(o.deviceId,o.label))})}findDeviceById(i){return ge(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return ge(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,o)})}decodeOnceFromConstraints(i,o){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return ge(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(i,o,l){return ge(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,o,l)})}decodeFromStream(i,o,l){return ge(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return ge(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new y(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,o);return l.src=i,u}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode){f(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);d(m)}catch(m){const w=o&&m instanceof G,S=(m instanceof b||m instanceof F)&&l;if(w||S)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(m)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);o(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){o(null,u);const d=u instanceof b||u instanceof F,f=u instanceof G;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new fe(o),u=new ce(l);return new E(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=u+"px",o.width=l,o.height=u,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(i,o,l=o==null?0:8*o.length,u,d,f=C.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,f==null?this.timestamp=C.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);C.arraycopy(o,0,l,0,o.length),C.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var mt;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mt||(mt={}));var pe=mt,He;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(He||(He={}));var ct=He;class Tn{constructor(i,o,l,u,d=-1,f=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wn{exp(i){return this.expTable[i]}log(i){if(i===0)throw new x;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class Et{constructor(i,o){if(o.length===0)throw new x;this.field=i;const l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),C.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let f=0,m=o.length;f!==m;f++){const w=o[f];l=Wn.addOrSubtract(l,w)}return l}l=o[0];const u=o.length,d=this.field;for(let f=1;f<u;f++)l=Wn.addOrSubtract(d.multiply(i,l),o[f]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const f=o;o=l,l=f}let u=new Int32Array(l.length);const d=l.length-o.length;C.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Wn.addOrSubtract(o[f-d],l[f]);return new Et(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,u=i.coefficients,d=u.length,f=new Int32Array(l+d-1),m=this.field;for(let w=0;w<l;w++){const v=o[w];for(let S=0;S<d;S++)f[w+S]=Wn.addOrSubtract(f[w+S],m.multiply(v,u[S]))}return new Et(m,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,u=new Int32Array(o),d=this.coefficients;for(let f=0;f<o;f++)u[f]=l.multiply(d[f],i);return new Et(l,u)}multiplyByMonomial(i,o){if(i<0)throw new x;if(o===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+i),f=this.field;for(let m=0;m<u;m++)d[m]=f.multiply(l[m],o);return new Et(f,d)}divide(i){if(!this.field.equals(i.field))throw new x("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new x("Divide by 0");const o=this.field;let l=o.getZero(),u=this;const d=i.getCoefficient(i.getDegree()),f=o.inverse(d);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const m=u.getDegree()-i.getDegree(),w=o.multiply(u.getCoefficient(u.getDegree()),f),v=i.multiplyByMonomial(m,w),S=o.buildMonomial(m,w);l=l.addOrSubtract(S),u=u.addOrSubtract(v)}return[l,u]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const u=this.field.log(l);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Sr extends p{}Sr.kind="ArithmeticException";class Le extends Wn{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const u=new Int32Array(o);let d=1;for(let m=0;m<o;m++)u[m]=d,d*=2,d>=o&&(d^=i,d&=o-1);this.expTable=u;const f=new Int32Array(o);for(let m=0;m<o-1;m++)f[u[m]]=m;this.logTable=f,this.zero=new Et(this,Int32Array.from([0])),this.one=new Et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new x;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new Et(this,l)}inverse(i){if(i===0)throw new Sr;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+A.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class _r extends p{}_r.kind="ReedSolomonException";class In extends p{}In.kind="IllegalStateException";class Kr{constructor(i){this.field=i}decode(i,o){const l=this.field,u=new Et(l,i),d=new Int32Array(o);let f=!0;for(let B=0;B<o;B++){const V=u.evaluateAt(l.exp(B+l.getGeneratorBase()));d[d.length-1-B]=V,V!==0&&(f=!1)}if(f)return;const m=new Et(l,d),w=this.runEuclideanAlgorithm(l.buildMonomial(o,1),m,o),v=w[0],S=w[1],k=this.findErrorLocations(v),D=this.findErrorMagnitudes(S,k);for(let B=0;B<k.length;B++){const V=i.length-1-l.log(k[B]);if(V<0)throw new _r("Bad error location");i[V]=Le.addOrSubtract(i[V],D[B])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const B=i;i=o,o=B}const u=this.field;let d=i,f=o,m=u.getZero(),w=u.getOne();for(;f.getDegree()>=(l/2|0);){let B=d,V=m;if(d=f,m=w,d.isZero())throw new _r("r_{i-1} was zero");f=B;let W=u.getZero();const $=d.getCoefficient(d.getDegree()),K=u.inverse($);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const se=f.getDegree()-d.getDegree(),oe=u.multiply(f.getCoefficient(f.getDegree()),K);W=W.addOrSubtract(u.buildMonomial(se,oe)),f=f.addOrSubtract(d.multiplyByMonomial(se,oe))}if(w=W.multiply(m).addOrSubtract(V),f.getDegree()>=d.getDegree())throw new In("Division algorithm failed to reduce polynomial?")}const v=w.getCoefficient(0);if(v===0)throw new _r("sigmaTilde(0) was zero");const S=u.inverse(v),k=w.multiplyScalar(S),D=f.multiplyScalar(S);return[k,D]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<o;f++)i.evaluateAt(f)===0&&(l[u]=d.inverse(f),u++);if(u!==o)throw new _r("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const m=d.inverse(o[f]);let w=1;for(let v=0;v<l;v++)if(f!==v){const S=d.multiply(o[v],m),k=S&1?S&-2:S|1;w=d.multiply(w,k)}u[f]=d.multiply(i.evaluateAt(m),d.inverse(w)),d.getGeneratorBase()!==0&&(u[f]=d.multiply(u[f],m))}return u}}var Dt;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(Dt||(Dt={}));class qe{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),u=this.correctBits(l),d=qe.convertBoolArrayToByteArray(u),f=qe.getEncodedData(u),m=new Tn(d,f,null,null);return m.setNumBits(u.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=Dt.UPPER,u=Dt.UPPER,d="",f=0;for(;f<o;)if(u===Dt.BINARY){if(o-f<5)break;let m=qe.readCode(i,f,5);if(f+=5,m===0){if(o-f<11)break;m=qe.readCode(i,f,11)+31,f+=11}for(let w=0;w<m;w++){if(o-f<8){f=o;break}const v=qe.readCode(i,f,8);d+=Q.castAsNonUtf8Char(v),f+=8}u=l}else{let m=u===Dt.DIGIT?4:5;if(o-f<m)break;let w=qe.readCode(i,f,m);f+=m;let v=qe.getCharacter(u,w);v.startsWith("CTRL_")?(l=u,u=qe.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=u)):(d+=v,u=l)}return d}static getTable(i){switch(i){case"L":return Dt.LOWER;case"P":return Dt.PUNCT;case"M":return Dt.MIXED;case"D":return Dt.DIGIT;case"B":return Dt.BINARY;case"U":default:return Dt.UPPER}}static getCharacter(i,o){switch(i){case Dt.UPPER:return qe.UPPER_TABLE[o];case Dt.LOWER:return qe.LOWER_TABLE[o];case Dt.MIXED:return qe.MIXED_TABLE[o];case Dt.PUNCT:return qe.PUNCT_TABLE[o];case Dt.DIGIT:return qe.DIGIT_TABLE[o];default:throw new In("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Le.AZTEC_DATA_10):(l=12,o=Le.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=i.length/l;if(d<u)throw new F;let f=i.length%l,m=new Int32Array(d);for(let D=0;D<d;D++,f+=l)m[D]=qe.readCode(i,f,l);try{new Kr(o).decode(m,d-u)}catch(D){throw new F(D)}let w=(1<<l)-1,v=0;for(let D=0;D<u;D++){let B=m[D];if(B===0||B===w)throw new F;(B===1||B===w-1)&&v++}let S=new Array(u*l-v),k=0;for(let D=0;D<u;D++){let B=m[D];if(B===1||B===w-1)S.fill(B>1,k,k+l-1),k+=l-1;else for(let V=l-1;V>=0;--V)S[k++]=(B&1<<V)!==0}return S}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(o?11:14)+l*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,o));if(o)for(let m=0;m<d.length;m++)d[m]=m;else{let m=u+1+2*A.truncDivision(A.truncDivision(u,2)-1,15),w=u/2,v=A.truncDivision(m,2);for(let S=0;S<w;S++){let k=S+A.truncDivision(S,15);d[w-S-1]=v-k-1,d[w+S]=v+k+1}}for(let m=0,w=0;m<l;m++){let v=(l-m)*4+(o?9:12),S=m*2,k=u-1-S;for(let D=0;D<v;D++){let B=D*2;for(let V=0;V<2;V++)f[w+B+V]=i.get(d[S+V],d[S+D]),f[w+2*v+B+V]=i.get(d[S+D],d[k-V]),f[w+4*v+B+V]=i.get(d[k-V],d[k-D]),f[w+6*v+B+V]=i.get(d[k-D],d[S+V])}w+=v*8}return f}static readCode(i,o,l){let u=0;for(let d=o;d<o+l;d++)u<<=1,i[d]&&(u|=1);return u}static readByte(i,o){let l=i.length-o;return l>=8?qe.readCode(i,o,8):qe.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=qe.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Be{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,u){const d=i-l,f=o-u;return Math.sqrt(d*d+f*f)}static sum(i){let o=0;for(let l=0,u=i.length;l!==u;l++){const d=i[l];o+=d}return o}}class Is{static floatToIntBits(i){return i}}Is.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof me){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Is.floatToIntBits(this.x)+Is.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let d,f,m;if(l>=o&&l>=u?(f=i[0],d=i[1],m=i[2]):u>=l&&u>=o?(f=i[1],d=i[0],m=i[2]):(f=i[2],d=i[0],m=i[1]),this.crossProductZ(d,f,m)<0){const w=d;d=m,m=w}i[0]=d,i[1]=f,i[2]=m}static distance(i,o){return Be.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const u=o.x,d=o.y;return(l.x-u)*(i.y-d)-(l.y-d)*(i.x-u)}}class Rs{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class qr extends Rs{constructor(i,o,l,u,d){super(i,o),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ar{constructor(i,o,l,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=Ar.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,u=this.downInit,d=!1,f=!0,m=!1,w=!1,v=!1,S=!1,k=!1;const D=this.width,B=this.height;for(;f;){f=!1;let V=!0;for(;(V||!w)&&o<D;)V=this.containsBlackPoint(l,u,o,!1),V?(o++,f=!0,w=!0):w||o++;if(o>=D){d=!0;break}let W=!0;for(;(W||!v)&&u<B;)W=this.containsBlackPoint(i,o,u,!0),W?(u++,f=!0,v=!0):v||u++;if(u>=B){d=!0;break}let $=!0;for(;($||!S)&&i>=0;)$=this.containsBlackPoint(l,u,i,!1),$?(i--,f=!0,S=!0):S||i--;if(i<0){d=!0;break}let K=!0;for(;(K||!k)&&l>=0;)K=this.containsBlackPoint(i,o,l,!0),K?(l--,f=!0,k=!0):k||l--;if(l<0){d=!0;break}f&&(m=!0)}if(!d&&m){const V=o-i;let W=null;for(let oe=1;W===null&&oe<V;oe++)W=this.getBlackPointOnSegment(i,u-oe,i+oe,u);if(W==null)throw new G;let $=null;for(let oe=1;$===null&&oe<V;oe++)$=this.getBlackPointOnSegment(i,l+oe,i+oe,l);if($==null)throw new G;let K=null;for(let oe=1;K===null&&oe<V;oe++)K=this.getBlackPointOnSegment(o,l+oe,o-oe,l);if(K==null)throw new G;let se=null;for(let oe=1;se===null&&oe<V;oe++)se=this.getBlackPointOnSegment(o,u-oe,o-oe,u);if(se==null)throw new G;return this.centerEdges(se,W,K,$)}else throw new G}getBlackPointOnSegment(i,o,l,u){const d=Be.round(Be.distance(i,o,l,u)),f=(l-i)/d,m=(u-o)/d,w=this.image;for(let v=0;v<d;v++){const S=Be.round(i+v*f),k=Be.round(o+v*m);if(w.get(S,k))return new me(S,k)}return null}centerEdges(i,o,l,u){const d=i.getX(),f=i.getY(),m=o.getX(),w=o.getY(),v=l.getX(),S=l.getY(),k=u.getX(),D=u.getY(),B=Ar.CORR;return d<this.width/2?[new me(k-B,D+B),new me(m+B,w+B),new me(v-B,S-B),new me(d+B,f-B)]:[new me(k+B,D+B),new me(m+B,w-B),new me(v-B,S+B),new me(d-B,f-B)]}containsBlackPoint(i,o,l,u){const d=this.image;if(u){for(let f=i;f<=o;f++)if(d.get(f,l))return!0}else for(let f=i;f<=o;f++)if(d.get(l,f))return!0;return!1}}Ar.INIT_SIZE=10,Ar.CORR=1;class Va{static checkAndNudgePoints(i,o){const l=i.getWidth(),u=i.getHeight();let d=!0;for(let f=0;f<o.length&&d;f+=2){const m=Math.floor(o[f]),w=Math.floor(o[f+1]);if(m<-1||m>l||w<-1||w>u)throw new G;d=!1,m===-1?(o[f]=0,d=!0):m===l&&(o[f]=l-1,d=!0),w===-1?(o[f+1]=0,d=!0):w===u&&(o[f+1]=u-1,d=!0)}d=!0;for(let f=o.length-2;f>=0&&d;f-=2){const m=Math.floor(o[f]),w=Math.floor(o[f+1]);if(m<-1||m>l||w<-1||w>u)throw new G;d=!1,m===-1?(o[f]=0,d=!0):m===l&&(o[f]=l-1,d=!0),w===-1?(o[f+1]=0,d=!0):w===u&&(o[f+1]=u-1,d=!0)}}}class wt{constructor(i,o,l,u,d,f,m,w,v){this.a11=i,this.a21=o,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=m,this.a23=w,this.a33=v}static quadrilateralToQuadrilateral(i,o,l,u,d,f,m,w,v,S,k,D,B,V,W,$){const K=wt.quadrilateralToSquare(i,o,l,u,d,f,m,w);return wt.squareToQuadrilateral(v,S,k,D,B,V,W,$).times(K)}transformPoints(i){const o=i.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,w=this.a23,v=this.a31,S=this.a32,k=this.a33;for(let D=0;D<o;D+=2){const B=i[D],V=i[D+1],W=d*B+w*V+k;i[D]=(l*B+f*V+v)/W,i[D+1]=(u*B+m*V+S)/W}}transformPointsWithValues(i,o){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,w=this.a23,v=this.a31,S=this.a32,k=this.a33,D=i.length;for(let B=0;B<D;B++){const V=i[B],W=o[B],$=d*V+w*W+k;i[B]=(l*V+f*W+v)/$,o[B]=(u*V+m*W+S)/$}}static squareToQuadrilateral(i,o,l,u,d,f,m,w){const v=i-l+d-m,S=o-u+f-w;if(v===0&&S===0)return new wt(l-i,d-l,i,u-o,f-u,o,0,0,1);{const k=l-d,D=m-d,B=u-f,V=w-f,W=k*V-D*B,$=(v*V-D*S)/W,K=(k*S-v*B)/W;return new wt(l-i+$*l,m-i+K*m,i,u-o+$*u,w-o+K*w,o,$,K,1)}}static quadrilateralToSquare(i,o,l,u,d,f,m,w){return wt.squareToQuadrilateral(i,o,l,u,d,f,m,w).buildAdjoint()}buildAdjoint(){return new wt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new wt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class wi extends Va{sampleGrid(i,o,l,u,d,f,m,w,v,S,k,D,B,V,W,$,K,se,oe){const ne=wt.quadrilateralToQuadrilateral(u,d,f,m,w,v,S,k,D,B,V,W,$,K,se,oe);return this.sampleGridWithTransform(i,o,l,ne)}sampleGridWithTransform(i,o,l,u){if(o<=0||l<=0)throw new G;const d=new ie(o,l),f=new Float32Array(2*o);for(let m=0;m<l;m++){const w=f.length,v=m+.5;for(let S=0;S<w;S+=2)f[S]=S/2+.5,f[S+1]=v;u.transformPoints(f),Va.checkAndNudgePoints(i,f);try{for(let S=0;S<w;S+=2)i.get(Math.floor(f[S]),Math.floor(f[S+1]))&&d.set(S/2,m)}catch{throw new G}}return d}}class Qr{static setGridSampler(i){Qr.gridSampler=i}static getInstance(){return Qr.gridSampler}}Qr.gridSampler=new wi;class Jt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ns{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new qr(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new G;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let u=0;for(let f=0;f<4;f++){let m=l[(this.shift+f)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(i,o){let l=0;i.forEach((u,d,f)=>{let m=(u>>o-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(A.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new G}getCorrectedParameterData(i,o){let l,u;o?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let w=l-1;w>=0;--w)f[w]=i&15,i>>=4;try{new Kr(Le.AZTEC_PARAM).decode(f,d)}catch{throw new G}let m=0;for(let w=0;w<u;w++)m=(m<<4)+f[w];return m}getBullsEyeCorners(i){let o=i,l=i,u=i,d=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(o,f,1,-1),D=this.getFirstDifferent(l,f,1,1),B=this.getFirstDifferent(u,f,-1,1),V=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(V,k)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(k,D,B,V))break}o=k,l=D,u=B,d=V,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let m=new me(o.getX()+.5,o.getY()-.5),w=new me(l.getX()+.5,l.getY()+.5),v=new me(u.getX()-.5,u.getY()+.5),S=new me(d.getX()-.5,d.getY()-.5);return this.expandSquare([m,w,v,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,u;try{let m=new Ar(this.image).detect();i=m[0],o=m[1],l=m[2],u=m[3]}catch{let w=this.image.getWidth()/2,v=this.image.getHeight()/2;i=this.getFirstDifferent(new Jt(w+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Jt(w+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Jt(w-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Jt(w-7,v-7),!1,-1,-1).toResultPoint()}let d=Be.round((i.getX()+u.getX()+o.getX()+l.getX())/4),f=Be.round((i.getY()+u.getY()+o.getY()+l.getY())/4);try{let m=new Ar(this.image,15,d,f).detect();i=m[0],o=m[1],l=m[2],u=m[3]}catch{i=this.getFirstDifferent(new Jt(d+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Jt(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Jt(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Jt(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Be.round((i.getX()+u.getX()+o.getX()+l.getX())/4),f=Be.round((i.getY()+u.getY()+o.getY()+l.getY())/4),new Jt(d,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,u,d){let f=Qr.getInstance(),m=this.getDimension(),w=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return f.sampleGrid(i,m,m,w,w,v,w,v,v,w,v,o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(i,o,l){let u=0,d=this.distanceResultPoint(i,o),f=d/l,m=i.getX(),w=i.getY(),v=f*(o.getX()-i.getX())/d,S=f*(o.getY()-i.getY())/d;for(let k=0;k<l;k++)this.image.get(Be.round(m+k*v),Be.round(w+k*S))&&(u|=1<<l-k-1);return u}isWhiteOrBlackRectangle(i,o,l,u){let d=3;i=new Jt(i.getX()-d,i.getY()+d),o=new Jt(o.getX()-d,o.getY()-d),l=new Jt(l.getX()+d,l.getY()-d),u=new Jt(u.getX()+d,u.getY()+d);let f=this.getColor(u,i);if(f===0)return!1;let m=this.getColor(i,o);return m!==f||(m=this.getColor(o,l),m!==f)?!1:(m=this.getColor(l,u),m===f)}getColor(i,o){let l=this.distancePoint(i,o),u=(o.getX()-i.getX())/l,d=(o.getY()-i.getY())/l,f=0,m=i.getX(),w=i.getY(),v=this.image.get(i.getX(),i.getY()),S=Math.ceil(l);for(let D=0;D<S;D++)m+=u,w+=d,this.image.get(Be.round(m),Be.round(w))!==v&&f++;let k=f/l;return k>.1&&k<.9?0:k<=.1===v?1:-1}getFirstDifferent(i,o,l,u){let d=i.getX()+l,f=i.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===o;)f+=u;return f-=u,new Jt(d,f)}expandSquare(i,o,l){let u=l/(2*o),d=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,w=(i[0].getY()+i[2].getY())/2,v=new me(m+u*d,w+u*f),S=new me(m-u*d,w-u*f);d=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,w=(i[1].getY()+i[3].getY())/2;let k=new me(m+u*d,w+u*f),D=new me(m-u*d,w-u*f);return[v,k,S,D]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Be.round(i.getX()),l=Be.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return Be.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Be.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(A.truncDivision(this.nbLayers-4,8)+1)+15}}class po{decode(i,o=null){let l=null,u=new Ns(i.getBlackMatrix()),d=null,f=null;try{let S=u.detectMirror(!1);d=S.getPoints(),this.reportFoundResultPoints(o,d),f=new qe().decode(S)}catch(S){l=S}if(f==null)try{let S=u.detectMirror(!0);d=S.getPoints(),this.reportFoundResultPoints(o,d),f=new qe().decode(S)}catch(S){throw l??S}let m=new _e(f.getText(),f.getRawBytes(),f.getNumBits(),d,pe.AZTEC,C.currentTimeMillis()),w=f.getByteSegments();w!=null&&m.putMetadata(ct.BYTE_SEGMENTS,w);let v=f.getECLevel();return v!=null&&m.putMetadata(ct.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(U.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Ec extends Ne{constructor(i=500){super(new po,i)}}class yt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(U.TRY_HARDER)===!0&&i.isRotateSupported()){const d=i.rotateCounterClockwise(),f=this.doDecode(d,o),m=f.getResultMetadata();let w=270;m!==null&&m.get(ct.ORIENTATION)===!0&&(w=w+m.get(ct.ORIENTATION)%360),f.putMetadata(ct.ORIENTATION,w);const v=f.getResultPoints();if(v!==null){const S=d.getHeight();for(let k=0;k<v.length;k++)v[k]=new me(S-v[k].getY()-1,v[k].getX())}return f}else throw new G}}reset(){}doDecode(i,o){const l=i.getWidth(),u=i.getHeight();let d=new M(l);const f=o&&o.get(U.TRY_HARDER)===!0,m=Math.max(1,u>>(f?8:5));let w;f?w=u:w=15;const v=Math.trunc(u/2);for(let S=0;S<w;S++){const k=Math.trunc((S+1)/2),D=(S&1)===0,B=v+m*(D?k:-k);if(B<0||B>=u)break;try{d=i.getBlackRow(B,d)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(d.reverse(),o&&o.get(U.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;o.forEach(($,K)=>W.set(K,$)),W.delete(U.NEED_RESULT_POINT_CALLBACK),o=W}try{const W=this.decodeRow(B,d,o);if(V===1){W.putMetadata(ct.ORIENTATION,180);const $=W.getResultPoints();$!==null&&($[0]=new me(l-$[0].getX()-1,$[0].getY()),$[1]=new me(l-$[1].getX()-1,$[1].getY()))}return W}catch{}}}throw new G}static recordPattern(i,o,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=i.getSize();if(o>=d)throw new G;let f=!i.get(o),m=0,w=o;for(;w<d;){if(i.get(w)!==f)l[m]++;else{if(++m===u)break;l[m]=1,f=!f}w++}if(!(m===u||m===u-1&&w===d))throw new G}static recordPatternInReverse(i,o,l){let u=l.length,d=i.get(o);for(;o>0&&u>=0;)i.get(--o)!==d&&(u--,d=!d);if(u>=0)throw new G;yt.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const u=i.length;let d=0,f=0;for(let v=0;v<u;v++)d+=i[v],f+=o[v];if(d<f)return Number.POSITIVE_INFINITY;const m=d/f;l*=m;let w=0;for(let v=0;v<u;v++){const S=i[v],k=o[v]*m,D=S>k?S-k:k-S;if(D>l)return Number.POSITIVE_INFINITY;w+=D}return w/d}}class ae extends yt{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,m=!1;const w=6;for(let v=l;v<o;v++)if(i.get(v)!==m)d[u]++;else{if(u===w-1){let S=ae.MAX_AVG_VARIANCE,k=-1;for(let D=ae.CODE_START_A;D<=ae.CODE_START_C;D++){const B=yt.patternMatchVariance(d,ae.CODE_PATTERNS[D],ae.MAX_INDIVIDUAL_VARIANCE);B<S&&(S=B,k=D)}if(k>=0&&i.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,k]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,m=!m}throw new G}static decodeCode(i,o,l){yt.recordPattern(i,l,o);let u=ae.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<ae.CODE_PATTERNS.length;f++){const m=ae.CODE_PATTERNS[f],w=this.patternMatchVariance(o,m,ae.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,d=f)}if(d>=0)return d;throw new G}decodeRow(i,o,l){const u=l&&l.get(U.ASSUME_GS1)===!0,d=ae.findStartPattern(o),f=d[2];let m=0;const w=new Uint8Array(20);w[m++]=f;let v;switch(f){case ae.CODE_START_A:v=ae.CODE_CODE_A;break;case ae.CODE_START_B:v=ae.CODE_CODE_B;break;case ae.CODE_START_C:v=ae.CODE_CODE_C;break;default:throw new F}let S=!1,k=!1,D="",B=d[0],V=d[1];const W=Int32Array.from([0,0,0,0,0,0]);let $=0,K=0,se=f,oe=0,ne=!0,We=!1,ke=!1;for(;!S;){const So=k;switch(k=!1,$=K,K=ae.decodeCode(o,W,V),w[m++]=K,K!==ae.CODE_STOP&&(ne=!0),K!==ae.CODE_STOP&&(oe++,se+=oe*K),B=V,V+=W.reduce((f_,h_)=>f_+h_,0),K){case ae.CODE_START_A:case ae.CODE_START_B:case ae.CODE_START_C:throw new F}switch(v){case ae.CODE_CODE_A:if(K<64)ke===We?D+=String.fromCharCode(32+K):D+=String.fromCharCode(32+K+128),ke=!1;else if(K<96)ke===We?D+=String.fromCharCode(K-64):D+=String.fromCharCode(K+64),ke=!1;else switch(K!==ae.CODE_STOP&&(ne=!1),K){case ae.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case ae.CODE_FNC_2:case ae.CODE_FNC_3:break;case ae.CODE_FNC_4_A:!We&&ke?(We=!0,ke=!1):We&&ke?(We=!1,ke=!1):ke=!0;break;case ae.CODE_SHIFT:k=!0,v=ae.CODE_CODE_B;break;case ae.CODE_CODE_B:v=ae.CODE_CODE_B;break;case ae.CODE_CODE_C:v=ae.CODE_CODE_C;break;case ae.CODE_STOP:S=!0;break}break;case ae.CODE_CODE_B:if(K<96)ke===We?D+=String.fromCharCode(32+K):D+=String.fromCharCode(32+K+128),ke=!1;else switch(K!==ae.CODE_STOP&&(ne=!1),K){case ae.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case ae.CODE_FNC_2:case ae.CODE_FNC_3:break;case ae.CODE_FNC_4_B:!We&&ke?(We=!0,ke=!1):We&&ke?(We=!1,ke=!1):ke=!0;break;case ae.CODE_SHIFT:k=!0,v=ae.CODE_CODE_A;break;case ae.CODE_CODE_A:v=ae.CODE_CODE_A;break;case ae.CODE_CODE_C:v=ae.CODE_CODE_C;break;case ae.CODE_STOP:S=!0;break}break;case ae.CODE_CODE_C:if(K<100)K<10&&(D+="0"),D+=K;else switch(K!==ae.CODE_STOP&&(ne=!1),K){case ae.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case ae.CODE_CODE_A:v=ae.CODE_CODE_A;break;case ae.CODE_CODE_B:v=ae.CODE_CODE_B;break;case ae.CODE_STOP:S=!0;break}break}So&&(v=v===ae.CODE_CODE_A?ae.CODE_CODE_B:ae.CODE_CODE_A)}const Pn=V-B;if(V=o.getNextUnset(V),!o.isRange(V,Math.min(o.getSize(),V+(V-B)/2),!1))throw new G;if(se-=oe*$,se%103!==$)throw new b;const Rr=D.length;if(Rr===0)throw new G;Rr>0&&ne&&(v===ae.CODE_CODE_C?D=D.substring(0,Rr-2):D=D.substring(0,Rr-1));const kn=(d[1]+d[0])/2,st=B+Pn/2,nn=w.length,zn=new Uint8Array(nn);for(let So=0;So<nn;So++)zn[So]=w[So];const Co=[new me(kn,i),new me(st,i)];return new _e(D,zn,0,Co,pe.CODE_128,new Date().getTime())}}ae.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ae.MAX_AVG_VARIANCE=.25,ae.MAX_INDIVIDUAL_VARIANCE=.7,ae.CODE_SHIFT=98,ae.CODE_CODE_C=99,ae.CODE_CODE_B=100,ae.CODE_CODE_A=101,ae.CODE_FNC_1=102,ae.CODE_FNC_2=97,ae.CODE_FNC_3=96,ae.CODE_FNC_4_A=101,ae.CODE_FNC_4_B=100,ae.CODE_START_A=103,ae.CODE_START_B=104,ae.CODE_START_C=105,ae.CODE_STOP=106;class It extends yt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=It.findAsteriskPattern(o,u),f=o.getNextSet(d[1]),m=o.getSize(),w,v;do{It.recordPattern(o,f,u);let W=It.toNarrowWidePattern(u);if(W<0)throw new G;w=It.patternToChar(W),this.decodeRowResult+=w,v=f;for(let $ of u)f+=$;f=o.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let W of u)S+=W;let k=f-v-S;if(f!==m&&k*2<S)throw new G;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,$=0;for(let K=0;K<W;K++)$+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(W)!==It.ALPHABET_STRING.charAt($%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new G;let D;this.extendedMode?D=It.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let B=(d[1]+d[0])/2,V=v+S/2;return new _e(D,null,0,[new me(B,i),new me(V,i)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),u=i.getNextSet(0),d=0,f=u,m=!1,w=o.length;for(let v=u;v<l;v++)if(i.get(v)!==m)o[d]++;else{if(d===w-1){if(this.toNarrowWidePattern(o)===It.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,m=!m}throw new G}static toNarrowWidePattern(i){let o=i.length,l=0,u;do{let d=2147483647;for(let w of i)w<d&&w>l&&(d=w);l=d,u=0;let f=0,m=0;for(let w=0;w<o;w++){let v=i[w];v>l&&(m|=1<<o-1-w,u++,f+=v)}if(u===3){for(let w=0;w<o&&u>0;w++){let v=i[w];if(v>l&&(u--,v*2>=f))return-1}return m}}while(u>3);return-1}static patternToChar(i){for(let o=0;o<It.CHARACTER_ENCODINGS.length;o++)if(It.CHARACTER_ENCODINGS[o]===i)return It.ALPHABET_STRING.charAt(o);if(i===It.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(i){let o=i.length,l="";for(let u=0;u<o;u++){let d=i.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=i.charAt(u+1),m="\0";switch(d){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new F;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new F;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new F;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new F;break}l+=m,u++}else l+=d}return l}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class $e extends yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let u=this.decodeStart(o),d=this.decodeEnd(o),f=new ue;$e.decodeMiddle(o,u[1],d[0],f);let m=f.toString(),w=null;l!=null&&(w=l.get(U.ALLOWED_LENGTHS)),w==null&&(w=$e.DEFAULT_ALLOWED_LENGTHS);let v=m.length,S=!1,k=0;for(let V of w){if(v===V){S=!0;break}V>k&&(k=V)}if(!S&&v>k&&(S=!0),!S)throw new F;const D=[new me(u[1],i),new me(d[0],i)];return new _e(m,null,0,D,pe.ITF,new Date().getTime())}static decodeMiddle(i,o,l,u){let d=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(d.fill(0),f.fill(0),m.fill(0);o<l;){yt.recordPattern(i,o,d);for(let v=0;v<5;v++){let S=2*v;f[v]=d[S],m[v]=d[S+1]}let w=$e.decodeDigit(f);u.append(w.toString()),w=this.decodeDigit(m),u.append(w.toString()),d.forEach(function(v){o+=v})}}decodeStart(i){let o=$e.skipWhiteSpace(i),l=$e.findGuardPattern(i,o,$e.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let u=o-1;l>0&&u>=0&&!i.get(u);u--)l--;if(l!==0)throw new G}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new G;return l}decodeEnd(i){i.reverse();try{let o=$e.skipWhiteSpace(i),l;try{l=$e.findGuardPattern(i,o,$e.END_PATTERN_REVERSED[0])}catch(d){d instanceof G&&(l=$e.findGuardPattern(i,o,$e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let u=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-u,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let u=l.length,d=new Int32Array(u),f=i.getSize(),m=!1,w=0,v=o;d.fill(0);for(let S=o;S<f;S++)if(i.get(S)!==m)d[w]++;else{if(w===u-1){if(yt.patternMatchVariance(d,l,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return[v,S];v+=d[0]+d[1],C.arraycopy(d,2,d,0,w-1),d[w-1]=0,d[w]=0,w--}else w++;d[w]=1,m=!m}throw new G}static decodeDigit(i){let o=$e.MAX_AVG_VARIANCE,l=-1,u=$e.PATTERNS.length;for(let d=0;d<u;d++){let f=$e.PATTERNS[d],m=yt.patternMatchVariance(i,f,$e.MAX_INDIVIDUAL_VARIANCE);m<o?(o=m,l=d):m===o&&(l=-1)}if(l>=0)return l%10;throw new G}}$e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$e.MAX_AVG_VARIANCE=.38,$e.MAX_INDIVIDUAL_VARIANCE=.5,$e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$e.START_PATTERN=Int32Array.from([1,1,1,1]),$e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=xt.findGuardPattern(i,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let m=f-(u-f);m>=0&&(o=i.isRange(m,f,!1))}return l}static checkChecksum(i){return xt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return xt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let u=o-1;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let u=o-2;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}static decodeEnd(i,o){return xt.findGuardPattern(i,o,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,u){return this.findGuardPattern(i,o,l,u,new Int32Array(u.length))}static findGuardPattern(i,o,l,u,d){let f=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let m=0,w=o,v=u.length,S=l;for(let k=o;k<f;k++)if(i.get(k)!==S)d[m]++;else{if(m===v-1){if(yt.patternMatchVariance(d,u,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([w,k]);w+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let B=0;B<m-1;B++)d[B]=D[B];d[m-1]=0,d[m]=0,m--}else m++;d[m]=1,S=!S}throw new G}static decodeDigit(i,o,l,u){this.recordPattern(i,l,o);let d=this.MAX_AVG_VARIANCE,f=-1,m=u.length;for(let w=0;w<m;w++){let v=u[w],S=yt.patternMatchVariance(o,v,xt.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,f=w)}if(f>=0)return f;throw new G}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Os{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,u),f=u.toString(),m=Os.parseExtensionString(f),w=[new me((l[0]+l[1])/2,i),new me(d,i)],v=new _e(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=o[1],m=0;for(let v=0;v<5&&f<d;v++){let S=xt.decodeDigit(i,u,f,xt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let k of u)f+=k;S>=10&&(m|=1<<4-v),v!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==5)throw new G;let w=this.determineCheckDigit(m);if(Os.extensionChecksum(l.toString())!==w)throw new G;return f}static extensionChecksum(i){let o=i.length,l=0;for(let u=o-2;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;l*=3;for(let u=o-1;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new G}static parseExtensionString(i){if(i.length!==5)return null;let o=Os.parseExtension5String(i);return o==null?null:new Map([[ct.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),u=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return o+u+"."+f}}class mo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,u),f=u.toString(),m=mo.parseExtensionString(f),w=[new me((l[0]+l[1])/2,i),new me(d,i)],v=new _e(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=o[1],m=0;for(let w=0;w<2&&f<d;w++){let v=xt.decodeDigit(i,u,f,xt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let S of u)f+=S;v>=10&&(m|=1<<1-w),w!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==2)throw new G;if(parseInt(l.toString())%4!==m)throw new G;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[ct.ISSUE_NUMBER,parseInt(i)]])}}class Wa{static decodeRow(i,o,l){let u=xt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Os().decodeRow(i,o,u)}catch{return new mo().decodeRow(i,o,u)}}}Wa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ge extends xt{constructor(){super(),this.decodeRowStringBuffer="",Ge.L_AND_G_PATTERNS=Ge.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Ge.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let u=0;u<o.length;u++)l[u]=o[o.length-u-1];Ge.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let u=Ge.findStartGuardPattern(o),d=l==null?null:l.get(U.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ne=new me((u[0]+u[1])/2,i);d.foundPossibleResultPoint(ne)}let f=this.decodeMiddle(o,u,this.decodeRowStringBuffer),m=f.rowOffset,w=f.resultString;if(d!=null){const ne=new me(m,i);d.foundPossibleResultPoint(ne)}let v=this.decodeEnd(o,m);if(d!=null){const ne=new me((v[0]+v[1])/2,i);d.foundPossibleResultPoint(ne)}let S=v[1],k=S+(S-v[0]);if(k>=o.getSize()||!o.isRange(S,k,!1))throw new G;let D=w.toString();if(D.length<8)throw new F;if(!Ge.checkChecksum(D))throw new b;let B=(u[1]+u[0])/2,V=(v[1]+v[0])/2,W=this.getBarcodeFormat(),$=[new me(B,i),new me(V,i)],K=new _e(D,null,0,$,W,new Date().getTime()),se=0;try{let ne=Wa.decodeRow(i,o,v[1]);K.putMetadata(ct.UPC_EAN_EXTENSION,ne.getText()),K.putAllMetadata(ne.getResultMetadata()),K.addResultPoints(ne.getResultPoints()),se=ne.getText().length}catch{}let oe=l==null?null:l.get(U.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let ne=!1;for(let We in oe)if(se.toString()===We){ne=!0;break}if(!ne)throw new G}return K}decodeEnd(i,o){return Ge.findGuardPattern(i,o,!1,Ge.START_END_PATTERN,new Int32Array(Ge.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ge.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Ge.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let u=o-1;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let u=o-2;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}}class Tr extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=o[1],m=0;for(let v=0;v<6&&f<d;v++){let S=Ge.decodeDigit(i,u,f,Ge.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let k of u)f+=k;S>=10&&(m|=1<<5-v)}l=Tr.determineFirstDigit(l,m),f=Ge.findGuardPattern(i,f,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<d;v++){let S=Ge.decodeDigit(i,u,f,Ge.L_PATTERNS);l+=String.fromCharCode(48+S);for(let k of u)f+=k}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new G}}Tr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ir extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=o[1];for(let w=0;w<4&&f<d;w++){let v=Ge.decodeDigit(i,u,f,Ge.L_PATTERNS);l+=String.fromCharCode(48+v);for(let S of u)f+=S}f=Ge.findGuardPattern(i,f,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<d;w++){let v=Ge.decodeDigit(i,u,f,Ge.L_PATTERNS);l+=String.fromCharCode(48+v);for(let S of u)f+=S}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return pe.EAN_8}}class Cc extends Ge{constructor(){super(...arguments),this.ean13Reader=new Tr}getBarcodeFormat(){return pe.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new _e(o.substring(1),null,null,i.getResultPoints(),pe.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new G}reset(){this.ean13Reader.reset()}}class Ce extends Ge{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=i.getSize();let f=o[1],m=0;for(let v=0;v<6&&f<d;v++){const S=Ce.decodeDigit(i,u,f,Ce.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let k of u)f+=k;S>=10&&(m|=1<<5-v)}let w=Ce.determineNumSysAndCheckDigit(l,m);return{rowOffset:f,resultString:w}}decodeEnd(i,o){return Ce.findGuardPatternWithoutCounters(i,o,!0,Ce.MIDDLE_END_PATTERN)}checkChecksum(i){return Ge.checkChecksum(Ce.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return d+i+f}throw G.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ue;l.append(i.charAt(0));let u=o[5];switch(u){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(u),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(u);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Ce.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ce.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Qe extends yt{constructor(i){super();let o=i==null?null:i.get(U.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new Tr),l.push(new Cc),l.push(new Ir),l.push(new Ce)):(o.indexOf(pe.EAN_13)>-1&&l.push(new Tr),o.indexOf(pe.UPC_A)>-1&&l.push(new Cc),o.indexOf(pe.EAN_8)>-1&&l.push(new Ir),o.indexOf(pe.UPC_E)>-1&&l.push(new Ce)),this.readers=l}decodeRow(i,o,l){for(let u of this.readers)try{const d=u.decodeRow(i,o,l),f=d.getBarcodeFormat()===pe.EAN_13&&d.getText().charAt(0)==="0",m=l==null?null:l.get(U.POSSIBLE_FORMATS),w=m==null||m.includes(pe.UPC_A);if(f&&w){const v=d.getRawBytes(),S=new _e(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),pe.UPC_A);return S.putAllMetadata(d.getResultMetadata()),S}return d}catch{}throw new G}reset(){for(let i of this.readers)i.reset()}}class De extends yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(yt.patternMatchVariance(i,o[l],De.MAX_INDIVIDUAL_VARIANCE)<De.MAX_AVG_VARIANCE)return l;throw new G}static count(i){return Be.sum(new Int32Array(i))}static increment(i,o){let l=0,u=o[0];for(let d=1;d<i.length;d++)o[d]>u&&(u=o[d],l=d);i[l]++}static decrement(i,o){let l=0,u=o[0];for(let d=1;d<i.length;d++)o[d]<u&&(u=o[d],l=d);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],u=o/l;if(u>=De.MIN_FINDER_PATTERN_RATIO&&u<=De.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of i)m>f&&(f=m),m<d&&(d=m);return f<10*d}return!1}}De.MAX_AVG_VARIANCE=.2,De.MAX_INDIVIDUAL_VARIANCE=.45,De.MIN_FINDER_PATTERN_RATIO=9.5/12,De.MAX_FINDER_PATTERN_RATIO=12.5/14;class Yt{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Yt))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class cn{constructor(i,o,l,u,d){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new me(l,d)),this.resultPoints.push(new me(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof cn))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class jt{constructor(){}static getRSSvalue(i,o,l){let u=0;for(let w of i)u+=w;let d=0,f=0,m=i.length;for(let w=0;w<m-1;w++){let v;for(v=1,f|=1<<w;v<i[w];v++,f&=~(1<<w)){let S=jt.combins(u-v-1,m-w-2);if(l&&f===0&&u-v-(m-w-1)>=m-w-1&&(S-=jt.combins(u-v-(m-w),m-w-2)),m-w-1>1){let k=0;for(let D=u-v-(m-w-2);D>o;D--)k+=jt.combins(u-v-D-1,m-w-3);S-=k*(m-1-w)}else u-v>o&&S--;d+=S}u-=v}return d}static combins(i,o){let l,u;i-o>o?(u=o,l=i-o):(u=i-o,l=o);let d=1,f=1;for(let m=i;m>l;m--)d*=m,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class yi{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,u=new M(l),d=0,m=i[0].getRightChar().getValue();for(let w=11;w>=0;--w)m&1<<w&&u.set(d),d++;for(let w=1;w<i.length;++w){let v=i[w],S=v.getLeftChar().getValue();for(let k=11;k>=0;--k)S&1<<k&&u.set(d),d++;if(v.getRightChar()!=null){let k=v.getRightChar().getValue();for(let D=11;D>=0;--D)k&1<<D&&u.set(d),d++}}return u}}class Ut{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ir{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Rn extends ir{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Rn.FNC1}}Rn.FNC1="$";class Ps extends ir{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sr extends ir{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new F;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sr.FNC1}isSecondDigitFNC1(){return this.secondDigit===sr.FNC1}isAnyFNC1(){return this.firstDigit===sr.FNC1||this.secondDigit===sr.FNC1}}sr.FNC1=10;class we{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new G;let o=i.substring(0,2);for(let d of we.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===we.VARIABLE_LENGTH?we.processVariableAI(2,d[2],i):we.processFixedAI(2,d[1],i);if(i.length<3)throw new G;let l=i.substring(0,3);for(let d of we.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===we.VARIABLE_LENGTH?we.processVariableAI(3,d[2],i):we.processFixedAI(3,d[1],i);for(let d of we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,d[2],i):we.processFixedAI(4,d[1],i);if(i.length<4)throw new G;let u=i.substring(0,4);for(let d of we.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,d[2],i):we.processFixedAI(4,d[1],i);throw new G}static processFixedAI(i,o,l){if(l.length<i)throw new G;let u=l.substring(0,i);if(l.length<i+o)throw new G;let d=l.substring(i,i+o),f=l.substring(i+o),m="("+u+")"+d,w=we.parseFieldsInGeneralPurpose(f);return w==null?m:m+w}static processVariableAI(i,o,l){let u=l.substring(0,i),d;l.length<i+o?d=l.length:d=i+o;let f=l.substring(i,d),m=l.substring(d),w="("+u+")"+f,v=we.parseFieldsInGeneralPurpose(m);return v==null?w:w+v}}we.VARIABLE_LENGTH=[],we.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",we.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",we.VARIABLE_LENGTH,20],["22",we.VARIABLE_LENGTH,29],["30",we.VARIABLE_LENGTH,8],["37",we.VARIABLE_LENGTH,8],["90",we.VARIABLE_LENGTH,30],["91",we.VARIABLE_LENGTH,30],["92",we.VARIABLE_LENGTH,30],["93",we.VARIABLE_LENGTH,30],["94",we.VARIABLE_LENGTH,30],["95",we.VARIABLE_LENGTH,30],["96",we.VARIABLE_LENGTH,30],["97",we.VARIABLE_LENGTH,3],["98",we.VARIABLE_LENGTH,30],["99",we.VARIABLE_LENGTH,30]],we.THREE_DIGIT_DATA_LENGTH=[["240",we.VARIABLE_LENGTH,30],["241",we.VARIABLE_LENGTH,30],["242",we.VARIABLE_LENGTH,6],["250",we.VARIABLE_LENGTH,30],["251",we.VARIABLE_LENGTH,30],["253",we.VARIABLE_LENGTH,17],["254",we.VARIABLE_LENGTH,20],["400",we.VARIABLE_LENGTH,30],["401",we.VARIABLE_LENGTH,30],["402",17],["403",we.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",we.VARIABLE_LENGTH,20],["421",we.VARIABLE_LENGTH,15],["422",3],["423",we.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",we.VARIABLE_LENGTH,15],["391",we.VARIABLE_LENGTH,18],["392",we.VARIABLE_LENGTH,15],["393",we.VARIABLE_LENGTH,18],["703",we.VARIABLE_LENGTH,30]],we.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",we.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",we.VARIABLE_LENGTH,20],["8003",we.VARIABLE_LENGTH,30],["8004",we.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",we.VARIABLE_LENGTH,30],["8008",we.VARIABLE_LENGTH,12],["8018",18],["8020",we.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",we.VARIABLE_LENGTH,70],["8200",we.VARIABLE_LENGTH,70]];class wo{constructor(i){this.buffer=new ue,this.information=i}decodeAllCodes(i,o){let l=o,u=null;do{let d=this.decodeGeneralPurposeField(l,u),f=we.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&i.append(f),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(i,4);return d===0?new sr(this.information.getSize(),sr.FNC1,sr.FNC1):new sr(this.information.getSize(),d-1,sr.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,u=(o-8)%11;return new sr(i+7,l,u)}extractNumericValueFromBitArray(i,o){return wo.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let u=0;for(let d=0;d<l;++d)i.get(o+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ps(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ps(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Ps(this.current.getPosition(),this.buffer.toString()):o=new Ps(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ut(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Ps(this.current.getPosition(),this.buffer.toString());return new Ut(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ut(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ps(this.current.getPosition(),this.buffer.toString());return new Ut(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ut(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ps(this.current.getPosition(),this.buffer.toString());return new Ut(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ut(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Rn(i+5,Rn.FNC1);if(o>=5&&o<15)return new Rn(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new Rn(i+7,""+(l+1));if(l>=90&&l<116)return new Rn(i+7,""+(l+7));let u=this.extractNumericValueFromBitArray(i,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new F}return new Rn(i+8,d)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Rn(i+5,Rn.FNC1);if(o>=5&&o<15)return new Rn(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new Rn(i+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new In("Decoding invalid alphanumeric value: "+l)}return new Rn(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Ef{constructor(i){this.information=i,this.generalDecoder=new wo(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Nn extends Ef{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*u,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}Nn.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let u=0;u<13;u++){let d=i.charAt(u+o).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),i.append(l)}}Nn.GTIN_SIZE=40;class yo extends Nn{constructor(i){super(i)}parseInformation(){let i=new ue;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(yo.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,yo.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,yo.HEADER_SIZE+44)}}yo.HEADER_SIZE=4;class Sc extends Ef{constructor(i){super(i)}parseInformation(){let i=new ue;return this.getGeneralDecoder().decodeAllCodes(i,Sc.HEADER_SIZE)}}Sc.HEADER_SIZE=5;class _c extends Nn{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,u);let d=this.checkWeight(u),f=1e5;for(let m=0;m<5;++m)d/f===0&&i.append("0"),f/=10;i.append(d)}}class Zr extends _c{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Zr.HEADER_SIZE+_c.GTIN_SIZE+Zr.WEIGHT_SIZE)throw new G;let i=new ue;return this.encodeCompressedGtin(i,Zr.HEADER_SIZE),this.encodeCompressedWeight(i,Zr.HEADER_SIZE+_c.GTIN_SIZE,Zr.WEIGHT_SIZE),i.toString()}}Zr.HEADER_SIZE=5,Zr.WEIGHT_SIZE=15;class jS extends Zr{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class US extends Zr{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Jr extends Nn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Jr.HEADER_SIZE+Nn.GTIN_SIZE)throw new G;let i=new ue;this.encodeCompressedGtin(i,Jr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Jr.HEADER_SIZE+Nn.GTIN_SIZE,Jr.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Jr.HEADER_SIZE+Nn.GTIN_SIZE+Jr.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}Jr.HEADER_SIZE=8,Jr.LAST_DIGIT_SIZE=2;class yn extends Nn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<yn.HEADER_SIZE+Nn.GTIN_SIZE)throw new G;let i=new ue;this.encodeCompressedGtin(i,yn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+Nn.GTIN_SIZE,yn.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+Nn.GTIN_SIZE+yn.LAST_DIGIT_SIZE,yn.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(yn.HEADER_SIZE+Nn.GTIN_SIZE+yn.LAST_DIGIT_SIZE+yn.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}yn.HEADER_SIZE=8,yn.LAST_DIGIT_SIZE=2,yn.FIRST_THREE_DIGITS_SIZE=10;class vt extends _c{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new G;let i=new ue;return this.encodeCompressedGtin(i,vt.HEADER_SIZE),this.encodeCompressedWeight(i,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(i,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,vt.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function cp(P){try{if(P.get(1))return new yo(P);if(!P.get(2))return new Sc(P);switch(wo.extractNumericValueFromBitArray(P,1,4)){case 4:return new jS(P);case 5:return new US(P)}switch(wo.extractNumericValueFromBitArray(P,1,5)){case 12:return new Jr(P);case 13:return new yn(P)}switch(wo.extractNumericValueFromBitArray(P,1,7)){case 56:return new vt(P,"310","11");case 57:return new vt(P,"320","11");case 58:return new vt(P,"310","13");case 59:return new vt(P,"320","13");case 60:return new vt(P,"310","15");case 61:return new vt(P,"320","15");case 62:return new vt(P,"310","17");case 63:return new vt(P,"320","17")}}catch(i){throw console.log(i),new In("unknown decoder: "+P)}}class Bi{constructor(i,o,l,u){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof Bi?Bi.equalsOrNull(i.leftchar,o.leftchar)&&Bi.equalsOrNull(i.rightchar,o.rightchar)&&Bi.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:Bi.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cf{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Cf?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((u,d)=>{o.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class te extends De{constructor(i){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(i,o))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(d){if(d instanceof G){if(!this.pairs.length)throw new G;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new G}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(i);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new G}static isValidSequence(i){for(let o of te.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=o[u]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>i){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Cf(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let u of l.getPairs())for(let d of i)if(Bi.equals(u,d))break}}static isPartialRow(i,o){for(let l of o){let u=!0;for(let d of i){let f=!1;for(let m of l.getPairs())if(d.equals(m)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=yi.buildBitArray(i),u=cp(o).parseInformation(),d=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),m=[d[0],d[1],f[0],f[1]];return new _e(u,null,null,m,pe.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let m=1;m<this.pairs.size();++m){let w=this.pairs.get(m);u+=w.getLeftChar().getChecksumPortion(),d++;let v=w.getRightChar();v!=null&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let u=o.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,m=-1;do this.findNextPair(i,o,m),d=this.parseFoundFinderPattern(i,l,u),d==null?m=te.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(i,d,u,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new G;let v;try{v=this.decodeDataCharacter(i,d,u,!1)}catch(S){v=null,this.verbose&&console.log(S)}return new Bi(w,v,d,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f;l>=0?f=l:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let m=o.length%2!=0;this.startFromEven&&(m=!m);let w=!1;for(;f<d&&(w=!i.get(f),!!w);)f++;let v=0,S=f;for(let k=f;k<d;k++)if(i.get(k)!=w)u[v]++;else{if(v==3){if(m&&te.reverseCounters(u),te.isFinderPattern(u)){this.startEnd[0]=S,this.startEnd[1]=k;return}m&&te.reverseCounters(u),S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,w=!w}throw new G}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let u=i[l];i[l]=i[o-l-1],i[o-l-1]=u}}parseFoundFinderPattern(i,o,l){let u,d,f;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!i.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,f=this.startEnd[1]}else d=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let m=this.getDecodeFinderCounters();C.arraycopy(m,0,m,1,m.length-1),m[0]=u;let w;try{w=this.parseFinderValue(m,te.FINDER_PATTERNS)}catch{return null}return new cn(w,[d,f],d,f,o)}decodeDataCharacter(i,o,l,u){let d=this.getDataCharacterCounters();for(let st=0;st<d.length;st++)d[st]=0;if(u)te.recordPatternInReverse(i,o.getStartEnd()[0],d);else{te.recordPattern(i,o.getStartEnd()[1],d);for(let st=0,nn=d.length-1;st<nn;st++,nn--){let zn=d[st];d[st]=d[nn],d[nn]=zn}}let f=17,m=Be.sum(new Int32Array(d))/f,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(m-w)/w>.3)throw new G;let v=this.getOddCounts(),S=this.getEvenCounts(),k=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let st=0;st<d.length;st++){let nn=1*d[st]/m,zn=nn+.5;if(zn<1){if(nn<.3)throw new G;zn=1}else if(zn>8){if(nn>8.7)throw new G;zn=8}let Co=st/2;st&1?(S[Co]=zn,D[Co]=nn-zn):(v[Co]=zn,k[Co]=nn-zn)}this.adjustOddEvenCounts(f);let B=4*o.getValue()+(l?0:2)+(u?0:1)-1,V=0,W=0;for(let st=v.length-1;st>=0;st--){if(te.isNotA1left(o,l,u)){let nn=te.WEIGHTS[B][2*st];W+=v[st]*nn}V+=v[st]}let $=0;for(let st=S.length-1;st>=0;st--)if(te.isNotA1left(o,l,u)){let nn=te.WEIGHTS[B][2*st+1];$+=S[st]*nn}let K=W+$;if(V&1||V>13||V<4)throw new G;let se=(13-V)/2,oe=te.SYMBOL_WIDEST[se],ne=9-oe,We=jt.getRSSvalue(v,oe,!0),ke=jt.getRSSvalue(S,ne,!1),Pn=te.EVEN_TOTAL_SUBSET[se],Rr=te.GSUM[se],kn=We*Pn+ke+Rr;return new Yt(kn,K)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=Be.sum(new Int32Array(this.getOddCounts())),l=Be.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let f=!1,m=!1;l>13?m=!0:l<4&&(f=!0);let w=o+l-i,v=(o&1)==1,S=(l&1)==0;if(w==1)if(v){if(S)throw new G;d=!0}else{if(!S)throw new G;m=!0}else if(w==-1)if(v){if(S)throw new G;u=!0}else{if(!S)throw new G;f=!0}else if(w==0){if(v){if(!S)throw new G;o<l?(u=!0,m=!0):(d=!0,f=!0)}else if(S)throw new G}else throw new G;if(u){if(d)throw new G;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new G;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class VS extends Yt{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rt extends De{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const u=this.decodePair(o,!1,i,l);Rt.addOrTally(this.possibleLeftPairs,u),o.reverse();let d=this.decodePair(o,!0,i,l);Rt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Rt.checkChecksum(f,m))return Rt.constructResult(f,m)}throw new G}static addOrTally(i,o){if(o==null)return;let l=!1;for(let u of i)if(u.getValue()===o.getValue()){u.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),u=new String(l).toString(),d=new ue;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let f=0;for(let v=0;v<13;v++){let S=d.charAt(v).charCodeAt(0)-48;f+=v&1?S:3*S}f=10-f%10,f===10&&(f=0),d.append(f.toString());let m=i.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new _e(d.toString(),null,0,[m[0],m[1],w[0],w[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(i,o,l,u){try{let d=this.findFinderPattern(i,o),f=this.parseFoundFinderPattern(i,l,o,d),m=u==null?null:u.get(U.NEED_RESULT_POINT_CALLBACK);if(m!=null){let S=(d[0]+d[1])/2;o&&(S=i.getSize()-1-S),m.foundPossibleResultPoint(new me(S,l))}let w=this.decodeDataCharacter(i,f,!0),v=this.decodeDataCharacter(i,f,!1);return new VS(1597*w.getValue()+v.getValue(),w.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,o,l){let u=this.getDataCharacterCounters();for(let $=0;$<u.length;$++)u[$]=0;if(l)yt.recordPatternInReverse(i,o.getStartEnd()[0],u);else{yt.recordPattern(i,o.getStartEnd()[1]+1,u);for(let $=0,K=u.length-1;$<K;$++,K--){let se=u[$];u[$]=u[K],u[K]=se}}let d=l?16:15,f=Be.sum(new Int32Array(u))/d,m=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let $=0;$<u.length;$++){let K=u[$]/f,se=Math.floor(K+.5);se<1?se=1:se>8&&(se=8);let oe=Math.floor($/2);$&1?(w[oe]=se,S[oe]=K-se):(m[oe]=se,v[oe]=K-se)}this.adjustOddEvenCounts(l,d);let k=0,D=0;for(let $=m.length-1;$>=0;$--)D*=9,D+=m[$],k+=m[$];let B=0,V=0;for(let $=w.length-1;$>=0;$--)B*=9,B+=w[$],V+=w[$];let W=D+3*B;if(l){if(k&1||k>12||k<4)throw new G;let $=(12-k)/2,K=Rt.OUTSIDE_ODD_WIDEST[$],se=9-K,oe=jt.getRSSvalue(m,K,!1),ne=jt.getRSSvalue(w,se,!0),We=Rt.OUTSIDE_EVEN_TOTAL_SUBSET[$],ke=Rt.OUTSIDE_GSUM[$];return new Yt(oe*We+ne+ke,W)}else{if(V&1||V>10||V<4)throw new G;let $=(10-V)/2,K=Rt.INSIDE_ODD_WIDEST[$],se=9-K,oe=jt.getRSSvalue(m,K,!0),ne=jt.getRSSvalue(w,se,!1),We=Rt.INSIDE_ODD_TOTAL_SUBSET[$],ke=Rt.INSIDE_GSUM[$];return new Yt(ne*We+oe+ke,W)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=!1,f=0;for(;f<u&&(d=!i.get(f),o!==d);)f++;let m=0,w=f;for(let v=f;v<u;v++)if(i.get(v)!==d)l[m]++;else{if(m===3){if(De.isFinderPattern(l))return[w,v];w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,d=!d}throw new G}parseFoundFinderPattern(i,o,l,u){let d=i.get(u[0]),f=u[0]-1;for(;f>=0&&d!==i.get(f);)f--;f++;const m=u[0]-f,w=this.getDecodeFinderCounters(),v=new Int32Array(w.length);C.arraycopy(w,0,v,1,w.length-1),v[0]=m;const S=this.parseFinderValue(v,Rt.FINDER_PATTERNS);let k=f,D=u[1];return l&&(k=i.getSize()-1-k,D=i.getSize()-1-D),new cn(S,[f,u[1]],k,D,o)}adjustOddEvenCounts(i,o){let l=Be.sum(new Int32Array(this.getOddCounts())),u=Be.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,m=!1,w=!1;i?(l>12?f=!0:l<4&&(d=!0),u>12?w=!0:u<4&&(m=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?w=!0:u<4&&(m=!0));let v=l+u-o,S=(l&1)===(i?1:0),k=(u&1)===1;if(v===1)if(S){if(k)throw new G;f=!0}else{if(!k)throw new G;w=!0}else if(v===-1)if(S){if(k)throw new G;d=!0}else{if(!k)throw new G;m=!0}else if(v===0){if(S){if(!k)throw new G;l<u?(d=!0,w=!0):(f=!0,m=!0)}else if(k)throw new G}else throw new G;if(d){if(f)throw new G;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(w)throw new G;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rt.OUTSIDE_GSUM=[0,161,961,2015,2715],Rt.INSIDE_GSUM=[0,336,1036,1516],Rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rt.INSIDE_ODD_WIDEST=[2,4,6,8],Rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xo extends yt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(U.POSSIBLE_FORMATS):null,u=i&&i.get(U.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(pe.EAN_13)||l.includes(pe.UPC_A)||l.includes(pe.EAN_8)||l.includes(pe.UPC_E))&&this.readers.push(new Qe(i)),l.includes(pe.CODE_39)&&this.readers.push(new It(u)),l.includes(pe.CODE_128)&&this.readers.push(new ae),l.includes(pe.ITF)&&this.readers.push(new $e),l.includes(pe.RSS_14)&&this.readers.push(new Rt),l.includes(pe.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new Qe(i)),this.readers.push(new It),this.readers.push(new Qe(i)),this.readers.push(new ae),this.readers.push(new $e),this.readers.push(new Rt),this.readers.push(new te(this.verbose)))}decodeRow(i,o,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,o,l)}catch{}throw new G}reset(){this.readers.forEach(i=>i.reset())}}class WS extends Ne{constructor(i=500,o){super(new xo(o),i,o)}}class et{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Je{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(i,o,l,u,d,f){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let m=0;const w=f.getECCodewords(),v=f.getECBlocks();for(let S of v)m+=S.getCount()*(S.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new F;for(let l of ze.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new ze(1,10,10,8,8,new et(5,new Je(1,3))),new ze(2,12,12,10,10,new et(7,new Je(1,5))),new ze(3,14,14,12,12,new et(10,new Je(1,8))),new ze(4,16,16,14,14,new et(12,new Je(1,12))),new ze(5,18,18,16,16,new et(14,new Je(1,18))),new ze(6,20,20,18,18,new et(18,new Je(1,22))),new ze(7,22,22,20,20,new et(20,new Je(1,30))),new ze(8,24,24,22,22,new et(24,new Je(1,36))),new ze(9,26,26,24,24,new et(28,new Je(1,44))),new ze(10,32,32,14,14,new et(36,new Je(1,62))),new ze(11,36,36,16,16,new et(42,new Je(1,86))),new ze(12,40,40,18,18,new et(48,new Je(1,114))),new ze(13,44,44,20,20,new et(56,new Je(1,144))),new ze(14,48,48,22,22,new et(68,new Je(1,174))),new ze(15,52,52,24,24,new et(42,new Je(2,102))),new ze(16,64,64,14,14,new et(56,new Je(2,140))),new ze(17,72,72,16,16,new et(36,new Je(4,92))),new ze(18,80,80,18,18,new et(48,new Je(4,114))),new ze(19,88,88,20,20,new et(56,new Je(4,144))),new ze(20,96,96,22,22,new et(68,new Je(4,174))),new ze(21,104,104,24,24,new et(56,new Je(6,136))),new ze(22,120,120,18,18,new et(68,new Je(6,175))),new ze(23,132,132,20,20,new et(62,new Je(8,163))),new ze(24,144,144,22,22,new et(62,new Je(8,156),new Je(2,155))),new ze(25,8,18,6,16,new et(7,new Je(1,5))),new ze(26,8,32,6,14,new et(11,new Je(1,10))),new ze(27,12,26,10,24,new et(14,new Je(1,16))),new ze(28,12,36,10,16,new et(18,new Je(1,22))),new ze(29,16,36,14,16,new et(24,new Je(1,32))),new ze(30,16,48,14,22,new et(28,new Je(1,49)))]}}ze.VERSIONS=ze.buildVersions();class Sf{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new F;this.version=Sf.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return ze.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,w=!1,v=!1,S=!1;do if(l===d&&u===0&&!m)i[o++]=this.readCorner1(d,f)&255,l-=2,u+=2,m=!0;else if(l===d-2&&u===0&&f&3&&!w)i[o++]=this.readCorner2(d,f)&255,l-=2,u+=2,w=!0;else if(l===d+4&&u===2&&!(f&7)&&!v)i[o++]=this.readCorner3(d,f)&255,l-=2,u+=2,v=!0;else if(l===d-2&&u===0&&(f&7)===4&&!S)i[o++]=this.readCorner4(d,f)&255,l-=2,u+=2,S=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(i[o++]=this.readUtah(l,u,d,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(i[o++]=this.readUtah(l,u,d,f)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<f);if(o!==this.version.getTotalCodewords())throw new F;return i}readModule(i,o,l,u){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,u){let d=0;return this.readModule(i-2,o-2,l,u)&&(d|=1),d<<=1,this.readModule(i-2,o-1,l,u)&&(d|=1),d<<=1,this.readModule(i-1,o-2,l,u)&&(d|=1),d<<=1,this.readModule(i-1,o-1,l,u)&&(d|=1),d<<=1,this.readModule(i-1,o,l,u)&&(d|=1),d<<=1,this.readModule(i,o-2,l,u)&&(d|=1),d<<=1,this.readModule(i,o-1,l,u)&&(d|=1),d<<=1,this.readModule(i,o,l,u)&&(d|=1),d}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new x("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=o/u|0,m=l/d|0,w=f*u,v=m*d,S=new ie(v,w);for(let k=0;k<f;++k){const D=k*u;for(let B=0;B<m;++B){const V=B*d;for(let W=0;W<u;++W){const $=k*(u+2)+1+W,K=D+W;for(let se=0;se<d;++se){const oe=B*(d+2)+1+se;if(i.get(oe,$)){const ne=V+se;S.set(ne,K)}}}}}return S}}class _f{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let u=0;const d=l.getECBlocks();for(let W of d)u+=W.getCount();const f=new Array(u);let m=0;for(let W of d)for(let $=0;$<W.getCount();$++){const K=W.getDataCodewords(),se=l.getECCodewords()+K;f[m++]=new _f(K,new Uint8Array(se))}const v=f[0].codewords.length-l.getECCodewords(),S=v-1;let k=0;for(let W=0;W<S;W++)for(let $=0;$<m;$++)f[$].codewords[W]=i[k++];const D=o.getVersionNumber()===24,B=D?8:m;for(let W=0;W<B;W++)f[W].codewords[v-1]=i[k++];const V=f[0].codewords.length;for(let W=v;W<V;W++)for(let $=0;$<m;$++){const K=D?($+8)%m:$,se=D&&K>7?W-1:W;f[K].codewords[se]=i[k++]}if(k!==i.length)throw new x;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Af{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new x(""+i);let o=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,m=i<f?i:f,w=f-m,v=255>>8-m<<w;o=(d[u]&v)>>w,i-=m,l+=m,l===8&&(l=0,u++)}if(i>0){for(;i>=8;)o=o<<8|d[u]&255,u++,i-=8;if(i>0){const f=8-i,m=255>>f<<f;o=o<<i|(d[u]&m)>>f,l+=i}}return this.bitOffset=l,this.byteOffset=u,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vt;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));class Fi{static decode(i){const o=new Af(i),l=new ue,u=new ue,d=new Array;let f=Vt.ASCII_ENCODE;do if(f===Vt.ASCII_ENCODE)f=this.decodeAsciiSegment(o,l,u);else{switch(f){case Vt.C40_ENCODE:this.decodeC40Segment(o,l);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new F}f=Vt.ASCII_ENCODE}while(f!==Vt.PAD_ENCODE&&o.available()>0);return u.length()>0&&l.append(u.toString()),new Tn(i,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(i,o,l){let u=!1;do{let d=i.readBits(8);if(d===0)throw new F;if(d<=128)return u&&(d+=128),o.append(String.fromCharCode(d-1)),Vt.ASCII_ENCODE;if(d===129)return Vt.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&o.append("0"),o.append(""+f)}else switch(d){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(d!==254||i.available()!==0)throw new F;break}}while(i.available()>0);return Vt.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const u=[];let d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let m=0;m<3;m++){const w=u[m];switch(d){case 0:if(w<3)d=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[w];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(w+128)),l=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[w];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(w){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:l?(o.append(String.fromCharCode(w+224)),l=!1):o.append(String.fromCharCode(w+96)),d=0;break;default:throw new F}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,u=[],d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let m=0;m<3;m++){const w=u[m];switch(d){case 0:if(w<3)d=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[w];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(w+128)),l=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[w];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(w){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[w];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v),d=0}else throw new F;break;default:throw new F}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new F;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let u=(i<<8)+o-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let u=i.readBits(6);if(u===31){const d=8-i.getBitOffset();d!==8&&i.readBits(d);return}u&32||(u|=64),o.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let u=1+i.getByteOffset();const d=this.unrandomize255State(i.readBits(8),u++);let f;if(d===0?f=i.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(i.readBits(8),u++),f<0)throw new F;const m=new Uint8Array(f);for(let w=0;w<f;w++){if(i.available()<8)throw new F;m[w]=this.unrandomize255State(i.readBits(8),u++)}l.push(m);try{o.append(de.decode(m,Q.ISO88591))}catch(w){throw new In("Platform does not support required encoding: "+w.message)}}static unrandomize255State(i,o){const l=149*o%255+1,u=i-l;return u>=0?u:u+256}}Fi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Fi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Fi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Fi.TEXT_SHIFT2_SET_CHARS=Fi.C40_SHIFT2_SET_CHARS,Fi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class zS{constructor(){this.rsDecoder=new Kr(Le.DATA_MATRIX_FIELD_256)}decode(i){const o=new Sf(i),l=o.getVersion(),u=o.readCodewords(),d=_f.getDataBlocks(u,l);let f=0;for(let v of d)f+=v.getNumDataCodewords();const m=new Uint8Array(f),w=d.length;for(let v=0;v<w;v++){const S=d[v],k=S.getCodewords(),D=S.getNumDataCodewords();this.correctErrors(k,D);for(let B=0;B<D;B++)m[B*w+v]=k[B]}return Fi.decode(m)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new b}for(let u=0;u<o;u++)i[u]=l[u]}}class Mt{constructor(i){this.image=i,this.rectangleDetector=new Ar(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new G;o=this.shiftToModuleCenter(o);const l=o[0],u=o[1],d=o[2],f=o[3];let m=this.transitionsBetween(l,f)+1,w=this.transitionsBetween(d,f)+1;(m&1)===1&&(m+=1),(w&1)===1&&(w+=1),4*m<7*w&&4*w<7*m&&(m=w=Math.max(m,w));let v=Mt.sampleGrid(this.image,l,u,d,f,m,w);return new Rs(v,[l,u,d,f])}static shiftPoint(i,o,l){let u=(o.getX()-i.getX())/(l+1),d=(o.getY()-i.getY())/(l+1);return new me(i.getX()+u,i.getY()+d)}static moveAway(i,o,l){let u=i.getX(),d=i.getY();return u<o?u-=1:u+=1,d<l?d-=1:d+=1,new me(u,d)}detectSolid1(i){let o=i[0],l=i[1],u=i[3],d=i[2],f=this.transitionsBetween(o,l),m=this.transitionsBetween(l,u),w=this.transitionsBetween(u,d),v=this.transitionsBetween(d,o),S=f,k=[d,o,l,u];return S>m&&(S=m,k[0]=o,k[1]=l,k[2]=u,k[3]=d),S>w&&(S=w,k[0]=l,k[1]=u,k[2]=d,k[3]=o),S>v&&(k[0]=u,k[1]=d,k[2]=o,k[3]=l),k}detectSolid2(i){let o=i[0],l=i[1],u=i[2],d=i[3],f=this.transitionsBetween(o,d),m=Mt.shiftPoint(l,u,(f+1)*4),w=Mt.shiftPoint(u,l,(f+1)*4),v=this.transitionsBetween(m,o),S=this.transitionsBetween(w,d);return v<S?(i[0]=o,i[1]=l,i[2]=u,i[3]=d):(i[0]=l,i[1]=u,i[2]=d,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],u=i[2],d=i[3],f=this.transitionsBetween(o,d),m=this.transitionsBetween(l,d),w=Mt.shiftPoint(o,l,(m+1)*4),v=Mt.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(w,d),m=this.transitionsBetween(v,d);let S=new me(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),k=new me(d.getX()+(o.getX()-l.getX())/(m+1),d.getY()+(o.getY()-l.getY())/(m+1));if(!this.isValid(S))return this.isValid(k)?k:null;if(!this.isValid(k))return S;let D=this.transitionsBetween(w,S)+this.transitionsBetween(v,S),B=this.transitionsBetween(w,k)+this.transitionsBetween(v,k);return D>B?S:k}shiftToModuleCenter(i){let o=i[0],l=i[1],u=i[2],d=i[3],f=this.transitionsBetween(o,d)+1,m=this.transitionsBetween(u,d)+1,w=Mt.shiftPoint(o,l,m*4),v=Mt.shiftPoint(u,l,f*4);f=this.transitionsBetween(w,d)+1,m=this.transitionsBetween(v,d)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let S=(o.getX()+l.getX()+u.getX()+d.getX())/4,k=(o.getY()+l.getY()+u.getY()+d.getY())/4;o=Mt.moveAway(o,S,k),l=Mt.moveAway(l,S,k),u=Mt.moveAway(u,S,k),d=Mt.moveAway(d,S,k);let D,B;return w=Mt.shiftPoint(o,l,m*4),w=Mt.shiftPoint(w,d,f*4),D=Mt.shiftPoint(l,o,m*4),D=Mt.shiftPoint(D,u,f*4),v=Mt.shiftPoint(u,d,m*4),v=Mt.shiftPoint(v,l,f*4),B=Mt.shiftPoint(d,u,m*4),B=Mt.shiftPoint(B,o,f*4),[w,D,v,B]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,u,d,f,m){return Qr.getInstance().sampleGrid(i,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,o.getX(),o.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),u=Math.trunc(i.getY()),d=Math.trunc(o.getX()),f=Math.trunc(o.getY()),m=Math.abs(f-u)>Math.abs(d-l);if(m){let W=l;l=u,u=W,W=d,d=f,f=W}let w=Math.abs(d-l),v=Math.abs(f-u),S=-w/2,k=u<f?1:-1,D=l<d?1:-1,B=0,V=this.image.get(m?u:l,m?l:u);for(let W=l,$=u;W!==d;W+=D){let K=this.image.get(m?$:W,m?W:$);if(K!==V&&(B++,V=K),S+=v,S>0){if($===f)break;$+=k,S-=w}}return B}}class ji{constructor(){this.decoder=new zS}decode(i,o=null){let l,u;if(o!=null&&o.has(U.PURE_BARCODE)){const v=ji.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(v),u=ji.NO_POINTS}else{const v=new Mt(i.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),u=v.getPoints()}const d=l.getRawBytes(),f=new _e(l.getText(),d,8*d.length,u,pe.DATA_MATRIX,C.currentTimeMillis()),m=l.getByteSegments();m!=null&&f.putMetadata(ct.BYTE_SEGMENTS,m);const w=l.getECLevel();return w!=null&&f.putMetadata(ct.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new G;const u=this.moduleSize(o,i);let d=o[1];const f=l[1];let m=o[0];const v=(l[0]-m+1)/u,S=(f-d+1)/u;if(v<=0||S<=0)throw new G;const k=u/2;d+=k,m+=k;const D=new ie(v,S);for(let B=0;B<S;B++){const V=d+B*u;for(let W=0;W<v;W++)i.get(m+W*u,V)&&D.set(W,B)}return D}static moduleSize(i,o){const l=o.getWidth();let u=i[0];const d=i[1];for(;u<l&&o.get(u,d);)u++;if(u===l)throw new G;const f=u-i[0];if(f===0)throw new G;return f}}ji.NO_POINTS=[];class HS extends Ne{constructor(i=500){super(new ji,i)}}var vo;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(vo||(vo={}));class ot{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,ot.FOR_BITS.set(l,this),ot.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new y(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof ot))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=ot.FOR_BITS.size)throw new x;return ot.FOR_BITS.get(i)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(vo.L,"L",1),ot.M=new ot(vo.M,"M",0),ot.Q=new ot(vo.Q,"Q",3),ot.H=new ot(vo.H,"H",2);class un{constructor(i){this.errorCorrectionLevel=ot.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return A.bitCount(i^o)}static decodeFormatInformation(i,o){const l=un.doDecodeFormatInformation(i,o);return l!==null?l:un.doDecodeFormatInformation(i^un.FORMAT_INFO_MASK_QR,o^un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of un.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===i||f===o)return new un(d[1]);let m=un.numBitsDiffering(i,f);m<l&&(u=d[1],l=m),i!==o&&(m=un.numBitsDiffering(o,f),m<l&&(u=d[1],l=m))}return l<=3?new un(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof un))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}un.FORMAT_INFO_MASK_QR=21522,un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ee{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const m of f)u+=m.getCount()*(m.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new F;try{return this.getVersionForNumber((i-17)/4)}catch{throw new F}}static getVersionForNumber(i){if(i<1||i>40)throw new x;return Ee.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Ee.VERSION_DECODE_INFO.length;u++){const d=Ee.VERSION_DECODE_INFO[u];if(d===i)return Ee.getVersionForNumber(u+7);const f=un.numBitsDiffering(i,d);f<o&&(l=u+7,o=f)}return o<=3?Ee.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new ie(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}Ee.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ee.VERSIONS=[new Ee(1,new Int32Array(0),new X(7,new L(1,19)),new X(10,new L(1,16)),new X(13,new L(1,13)),new X(17,new L(1,9))),new Ee(2,Int32Array.from([6,18]),new X(10,new L(1,34)),new X(16,new L(1,28)),new X(22,new L(1,22)),new X(28,new L(1,16))),new Ee(3,Int32Array.from([6,22]),new X(15,new L(1,55)),new X(26,new L(1,44)),new X(18,new L(2,17)),new X(22,new L(2,13))),new Ee(4,Int32Array.from([6,26]),new X(20,new L(1,80)),new X(18,new L(2,32)),new X(26,new L(2,24)),new X(16,new L(4,9))),new Ee(5,Int32Array.from([6,30]),new X(26,new L(1,108)),new X(24,new L(2,43)),new X(18,new L(2,15),new L(2,16)),new X(22,new L(2,11),new L(2,12))),new Ee(6,Int32Array.from([6,34]),new X(18,new L(2,68)),new X(16,new L(4,27)),new X(24,new L(4,19)),new X(28,new L(4,15))),new Ee(7,Int32Array.from([6,22,38]),new X(20,new L(2,78)),new X(18,new L(4,31)),new X(18,new L(2,14),new L(4,15)),new X(26,new L(4,13),new L(1,14))),new Ee(8,Int32Array.from([6,24,42]),new X(24,new L(2,97)),new X(22,new L(2,38),new L(2,39)),new X(22,new L(4,18),new L(2,19)),new X(26,new L(4,14),new L(2,15))),new Ee(9,Int32Array.from([6,26,46]),new X(30,new L(2,116)),new X(22,new L(3,36),new L(2,37)),new X(20,new L(4,16),new L(4,17)),new X(24,new L(4,12),new L(4,13))),new Ee(10,Int32Array.from([6,28,50]),new X(18,new L(2,68),new L(2,69)),new X(26,new L(4,43),new L(1,44)),new X(24,new L(6,19),new L(2,20)),new X(28,new L(6,15),new L(2,16))),new Ee(11,Int32Array.from([6,30,54]),new X(20,new L(4,81)),new X(30,new L(1,50),new L(4,51)),new X(28,new L(4,22),new L(4,23)),new X(24,new L(3,12),new L(8,13))),new Ee(12,Int32Array.from([6,32,58]),new X(24,new L(2,92),new L(2,93)),new X(22,new L(6,36),new L(2,37)),new X(26,new L(4,20),new L(6,21)),new X(28,new L(7,14),new L(4,15))),new Ee(13,Int32Array.from([6,34,62]),new X(26,new L(4,107)),new X(22,new L(8,37),new L(1,38)),new X(24,new L(8,20),new L(4,21)),new X(22,new L(12,11),new L(4,12))),new Ee(14,Int32Array.from([6,26,46,66]),new X(30,new L(3,115),new L(1,116)),new X(24,new L(4,40),new L(5,41)),new X(20,new L(11,16),new L(5,17)),new X(24,new L(11,12),new L(5,13))),new Ee(15,Int32Array.from([6,26,48,70]),new X(22,new L(5,87),new L(1,88)),new X(24,new L(5,41),new L(5,42)),new X(30,new L(5,24),new L(7,25)),new X(24,new L(11,12),new L(7,13))),new Ee(16,Int32Array.from([6,26,50,74]),new X(24,new L(5,98),new L(1,99)),new X(28,new L(7,45),new L(3,46)),new X(24,new L(15,19),new L(2,20)),new X(30,new L(3,15),new L(13,16))),new Ee(17,Int32Array.from([6,30,54,78]),new X(28,new L(1,107),new L(5,108)),new X(28,new L(10,46),new L(1,47)),new X(28,new L(1,22),new L(15,23)),new X(28,new L(2,14),new L(17,15))),new Ee(18,Int32Array.from([6,30,56,82]),new X(30,new L(5,120),new L(1,121)),new X(26,new L(9,43),new L(4,44)),new X(28,new L(17,22),new L(1,23)),new X(28,new L(2,14),new L(19,15))),new Ee(19,Int32Array.from([6,30,58,86]),new X(28,new L(3,113),new L(4,114)),new X(26,new L(3,44),new L(11,45)),new X(26,new L(17,21),new L(4,22)),new X(26,new L(9,13),new L(16,14))),new Ee(20,Int32Array.from([6,34,62,90]),new X(28,new L(3,107),new L(5,108)),new X(26,new L(3,41),new L(13,42)),new X(30,new L(15,24),new L(5,25)),new X(28,new L(15,15),new L(10,16))),new Ee(21,Int32Array.from([6,28,50,72,94]),new X(28,new L(4,116),new L(4,117)),new X(26,new L(17,42)),new X(28,new L(17,22),new L(6,23)),new X(30,new L(19,16),new L(6,17))),new Ee(22,Int32Array.from([6,26,50,74,98]),new X(28,new L(2,111),new L(7,112)),new X(28,new L(17,46)),new X(30,new L(7,24),new L(16,25)),new X(24,new L(34,13))),new Ee(23,Int32Array.from([6,30,54,78,102]),new X(30,new L(4,121),new L(5,122)),new X(28,new L(4,47),new L(14,48)),new X(30,new L(11,24),new L(14,25)),new X(30,new L(16,15),new L(14,16))),new Ee(24,Int32Array.from([6,28,54,80,106]),new X(30,new L(6,117),new L(4,118)),new X(28,new L(6,45),new L(14,46)),new X(30,new L(11,24),new L(16,25)),new X(30,new L(30,16),new L(2,17))),new Ee(25,Int32Array.from([6,32,58,84,110]),new X(26,new L(8,106),new L(4,107)),new X(28,new L(8,47),new L(13,48)),new X(30,new L(7,24),new L(22,25)),new X(30,new L(22,15),new L(13,16))),new Ee(26,Int32Array.from([6,30,58,86,114]),new X(28,new L(10,114),new L(2,115)),new X(28,new L(19,46),new L(4,47)),new X(28,new L(28,22),new L(6,23)),new X(30,new L(33,16),new L(4,17))),new Ee(27,Int32Array.from([6,34,62,90,118]),new X(30,new L(8,122),new L(4,123)),new X(28,new L(22,45),new L(3,46)),new X(30,new L(8,23),new L(26,24)),new X(30,new L(12,15),new L(28,16))),new Ee(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new L(3,117),new L(10,118)),new X(28,new L(3,45),new L(23,46)),new X(30,new L(4,24),new L(31,25)),new X(30,new L(11,15),new L(31,16))),new Ee(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new L(7,116),new L(7,117)),new X(28,new L(21,45),new L(7,46)),new X(30,new L(1,23),new L(37,24)),new X(30,new L(19,15),new L(26,16))),new Ee(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new L(5,115),new L(10,116)),new X(28,new L(19,47),new L(10,48)),new X(30,new L(15,24),new L(25,25)),new X(30,new L(23,15),new L(25,16))),new Ee(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new L(13,115),new L(3,116)),new X(28,new L(2,46),new L(29,47)),new X(30,new L(42,24),new L(1,25)),new X(30,new L(23,15),new L(28,16))),new Ee(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new L(17,115)),new X(28,new L(10,46),new L(23,47)),new X(30,new L(10,24),new L(35,25)),new X(30,new L(19,15),new L(35,16))),new Ee(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new L(17,115),new L(1,116)),new X(28,new L(14,46),new L(21,47)),new X(30,new L(29,24),new L(19,25)),new X(30,new L(11,15),new L(46,16))),new Ee(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new L(13,115),new L(6,116)),new X(28,new L(14,46),new L(23,47)),new X(30,new L(44,24),new L(7,25)),new X(30,new L(59,16),new L(1,17))),new Ee(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new L(12,121),new L(7,122)),new X(28,new L(12,47),new L(26,48)),new X(30,new L(39,24),new L(14,25)),new X(30,new L(22,15),new L(41,16))),new Ee(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new L(6,121),new L(14,122)),new X(28,new L(6,47),new L(34,48)),new X(30,new L(46,24),new L(10,25)),new X(30,new L(2,15),new L(64,16))),new Ee(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new L(17,122),new L(4,123)),new X(28,new L(29,46),new L(14,47)),new X(30,new L(49,24),new L(10,25)),new X(30,new L(24,15),new L(46,16))),new Ee(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new L(4,122),new L(18,123)),new X(28,new L(13,46),new L(32,47)),new X(30,new L(48,24),new L(14,25)),new X(30,new L(42,15),new L(32,16))),new Ee(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new L(20,117),new L(4,118)),new X(28,new L(40,47),new L(7,48)),new X(30,new L(43,24),new L(22,25)),new X(30,new L(10,15),new L(67,16))),new Ee(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new L(19,118),new L(6,119)),new X(28,new L(18,47),new L(31,48)),new X(30,new L(34,24),new L(34,25)),new X(30,new L(20,15),new L(61,16)))];var Kt;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));class or{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let u=0;u<o;u++)this.isMasked(l,u)&&i.flip(u,l)}}or.values=new Map([[Kt.DATA_MASK_000,new or(Kt.DATA_MASK_000,(P,i)=>(P+i&1)===0)],[Kt.DATA_MASK_001,new or(Kt.DATA_MASK_001,(P,i)=>(P&1)===0)],[Kt.DATA_MASK_010,new or(Kt.DATA_MASK_010,(P,i)=>i%3===0)],[Kt.DATA_MASK_011,new or(Kt.DATA_MASK_011,(P,i)=>(P+i)%3===0)],[Kt.DATA_MASK_100,new or(Kt.DATA_MASK_100,(P,i)=>(Math.floor(P/2)+Math.floor(i/3)&1)===0)],[Kt.DATA_MASK_101,new or(Kt.DATA_MASK_101,(P,i)=>P*i%6===0)],[Kt.DATA_MASK_110,new or(Kt.DATA_MASK_110,(P,i)=>P*i%6<3)],[Kt.DATA_MASK_111,new or(Kt.DATA_MASK_111,(P,i)=>(P+i+P*i%3&1)===0)]]);class $S{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let d=0;d<6;d++)i=this.copyBit(d,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let d=5;d>=0;d--)i=this.copyBit(8,d,i);const o=this.bitMatrix.getHeight();let l=0;const u=o-7;for(let d=o-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=un.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return Ee.getVersionForNumber(o);let l=0;const u=i-11;for(let f=5;f>=0;f--)for(let m=i-9;m>=u;m--)l=this.copyBit(m,f,l);let d=Ee.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let m=i-9;m>=u;m--)l=this.copyBit(f,m,l);if(d=Ee.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;throw new F}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=or.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=o.buildFunctionPattern();let f=!0;const m=new Uint8Array(o.getTotalCodewords());let w=0,v=0,S=0;for(let k=u-1;k>0;k-=2){k===6&&k--;for(let D=0;D<u;D++){const B=f?u-1-D:D;for(let V=0;V<2;V++)d.get(k-V,B)||(S++,v<<=1,this.bitMatrix.get(k-V,B)&&(v|=1),S===8&&(m[w++]=v,S=0,v=0))}f=!f}if(w!==o.getTotalCodewords())throw new F;return m}remask(){if(this.parsedFormatInfo===null)return;const i=or.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let u=o+1,d=i.getHeight();u<d;u++)i.get(o,u)!==i.get(u,o)&&(i.flip(u,o),i.flip(o,u))}}class Tf{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new x;const u=o.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const V of f)d+=V.getCount();const m=new Array(d);let w=0;for(const V of f)for(let W=0;W<V.getCount();W++){const $=V.getDataCodewords(),K=u.getECCodewordsPerBlock()+$;m[w++]=new Tf($,new Uint8Array(K))}const v=m[0].codewords.length;let S=m.length-1;for(;S>=0&&m[S].codewords.length!==v;)S--;S++;const k=v-u.getECCodewordsPerBlock();let D=0;for(let V=0;V<k;V++)for(let W=0;W<w;W++)m[W].codewords[V]=i[D++];for(let V=S;V<w;V++)m[V].codewords[k]=i[D++];const B=m[0].codewords.length;for(let V=k;V<B;V++)for(let W=0;W<w;W++){const $=W<S?V:V+1;m[W].codewords[$]=i[D++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ar;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(ar||(ar={}));class Se{constructor(i,o,l,u){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=u,Se.FOR_BITS.set(u,this),Se.FOR_VALUE.set(i,this)}static forBits(i){const o=Se.FOR_BITS.get(i);if(o===void 0)throw new x;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Se))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Se.FOR_BITS=new Map,Se.FOR_VALUE=new Map,Se.TERMINATOR=new Se(ar.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Se.NUMERIC=new Se(ar.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Se.ALPHANUMERIC=new Se(ar.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Se.STRUCTURED_APPEND=new Se(ar.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Se.BYTE=new Se(ar.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Se.ECI=new Se(ar.ECI,"ECI",Int32Array.from([0,0,0]),7),Se.KANJI=new Se(ar.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Se.FNC1_FIRST_POSITION=new Se(ar.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Se.FNC1_SECOND_POSITION=new Se(ar.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Se.HANZI=new Se(ar.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(i,o,l,u){const d=new Af(i);let f=new ue;const m=new Array;let w=-1,v=-1;try{let S=null,k=!1,D;do{if(d.available()<4)D=Se.TERMINATOR;else{const B=d.readBits(4);D=Se.forBits(B)}switch(D){case Se.TERMINATOR:break;case Se.FNC1_FIRST_POSITION:case Se.FNC1_SECOND_POSITION:k=!0;break;case Se.STRUCTURED_APPEND:if(d.available()<16)throw new F;w=d.readBits(8),v=d.readBits(8);break;case Se.ECI:const B=Ct.parseECIValue(d);if(S=z.getCharacterSetECIByValue(B),S===null)throw new F;break;case Se.HANZI:const V=d.readBits(4),W=d.readBits(D.getCharacterCountBits(o));V===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(d,f,W);break;default:const $=d.readBits(D.getCharacterCountBits(o));switch(D){case Se.NUMERIC:Ct.decodeNumericSegment(d,f,$);break;case Se.ALPHANUMERIC:Ct.decodeAlphanumericSegment(d,f,$,k);break;case Se.BYTE:Ct.decodeByteSegment(d,f,$,S,m,u);break;case Se.KANJI:Ct.decodeKanjiSegment(d,f,$);break;default:throw new F}break}}while(D!==Se.TERMINATOR)}catch{throw new F}return new Tn(i,f.toString(),m.length===0?null:m,l===null?null:l.toString(),w,v)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new F;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=i.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,u[d]=m>>8&255,u[d+1]=m&255,d+=2,l--}try{o.append(de.decode(u,Q.GB2312))}catch(f){throw new F(f)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new F;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=i.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,u[d]=m>>8,u[d+1]=m,d+=2,l--}try{o.append(de.decode(u,Q.SHIFT_JIS))}catch(f){throw new F(f)}}static decodeByteSegment(i,o,l,u,d,f){if(8*l>i.available())throw new F;const m=new Uint8Array(l);for(let v=0;v<l;v++)m[v]=i.readBits(8);let w;u===null?w=Q.guessEncoding(m,f):w=u.getName();try{o.append(de.decode(m,w))}catch(v){throw new F(v)}d.push(m)}static toAlphaNumericChar(i){if(i>=Ct.ALPHANUMERIC_CHARS.length)throw new F;return Ct.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,u){const d=o.length();for(;l>1;){if(i.available()<11)throw new F;const f=i.readBits(11);o.append(Ct.toAlphaNumericChar(Math.floor(f/45))),o.append(Ct.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(i.available()<6)throw new F;o.append(Ct.toAlphaNumericChar(i.readBits(6)))}if(u)for(let f=d;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new F;const u=i.readBits(10);if(u>=1e3)throw new F;o.append(Ct.toAlphaNumericChar(Math.floor(u/100))),o.append(Ct.toAlphaNumericChar(Math.floor(u/10)%10)),o.append(Ct.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(i.available()<7)throw new F;const u=i.readBits(7);if(u>=100)throw new F;o.append(Ct.toAlphaNumericChar(Math.floor(u/10))),o.append(Ct.toAlphaNumericChar(u%10))}else if(l===1){if(i.available()<4)throw new F;const u=i.readBits(4);if(u>=10)throw new F;o.append(Ct.toAlphaNumericChar(u))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new F}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class up{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class GS{constructor(){this.rsDecoder=new Kr(Le.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(ie.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new $S(i);let u=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new up(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(i,o){const l=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),d=i.readCodewords(),f=Tf.getDataBlocks(d,l,u);let m=0;for(const S of f)m+=S.getNumDataCodewords();const w=new Uint8Array(m);let v=0;for(const S of f){const k=S.getCodewords(),D=S.getNumDataCodewords();this.correctErrors(k,D);for(let B=0;B<D;B++)w[v++]=k[B]}return Ct.decode(w,l,u,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new b}for(let u=0;u<o;u++)i[u]=l[u]}}class If extends me{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const u=(this.getX()+o)/2,d=(this.getY()+i)/2,f=(this.estimatedModuleSize+l)/2;return new If(u,d,f)}}class Ac{constructor(i,o,l,u,d,f,m){this.image=i,this.startX=o,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,u=i+l,d=this.startY+o/2,f=new Int32Array(3),m=this.image;for(let w=0;w<o;w++){const v=d+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=i;for(;S<u&&!m.get(S,v);)S++;let k=0;for(;S<u;){if(m.get(S,v))if(k===1)f[1]++;else if(k===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,S);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,k=1}else f[++k]++;else k===1&&k++,f[k]++;S++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,u);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let u=0;u<3;u++)if(Math.abs(o-i[u])>=l)return!1;return!0}crossCheckVertical(i,o,l,u){const d=this.image,f=d.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let w=i;for(;w>=0&&d.get(o,w)&&m[1]<=l;)m[1]++,w--;if(w<0||m[1]>l)return NaN;for(;w>=0&&!d.get(o,w)&&m[0]<=l;)m[0]++,w--;if(m[0]>l)return NaN;for(w=i+1;w<f&&d.get(o,w)&&m[1]<=l;)m[1]++,w++;if(w===f||m[1]>l)return NaN;for(;w<f&&!d.get(o,w)&&m[2]<=l;)m[2]++,w++;if(m[2]>l)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-u)>=2*u?NaN:this.foundPatternCross(m)?Ac.centerFromEnd(m,w):NaN}handlePossibleCenter(i,o,l){const u=i[0]+i[1]+i[2],d=Ac.centerFromEnd(i,l),f=this.crossCheckVertical(o,d,2*i[1],u);if(!isNaN(f)){const m=(i[0]+i[1]+i[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,f,d))return v.combineEstimate(f,d,m);const w=new If(d,f,m);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Rf extends me{constructor(i,o,l,u){super(i,o),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const u=this.count+1,d=(this.count*this.getX()+o)/u,f=(this.count*this.getY()+i)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new Rf(d,f,m,u)}}class XS{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class qt{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(U.TRY_HARDER)!==void 0,l=i!=null&&i.get(U.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth();let m=Math.floor(3*d/(4*qt.MAX_MODULES));(m<qt.MIN_SKIP||o)&&(m=qt.MIN_SKIP);let w=!1;const v=new Int32Array(5);for(let k=m-1;k<d&&!w;k+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let B=0;B<f;B++)if(u.get(B,k))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(qt.foundPatternCross(v)){if(this.handlePossibleCenter(v,k,B,l)===!0)if(m=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>v[2]&&(k+=W-v[2]-m,B=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;qt.foundPatternCross(v)&&this.handlePossibleCenter(v,k,f,l)===!0&&(m=v[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return me.orderBestPatterns(S),new XS(S)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let d=0;d<5;d++){const f=i[d];if(f===0)return!1;o+=f}if(o<7)return!1;const l=o/7,u=l/2;return Math.abs(l-i[0])<u&&Math.abs(l-i[1])<u&&Math.abs(3*l-i[2])<3*u&&Math.abs(l-i[3])<u&&Math.abs(l-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,u){const d=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;i>=f&&o>=f&&m.get(o-f,i-f);)d[2]++,f++;if(i<f||o<f)return!1;for(;i>=f&&o>=f&&!m.get(o-f,i-f)&&d[1]<=l;)d[1]++,f++;if(i<f||o<f||d[1]>l)return!1;for(;i>=f&&o>=f&&m.get(o-f,i-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const w=m.getHeight(),v=m.getWidth();for(f=1;i+f<w&&o+f<v&&m.get(o+f,i+f);)d[2]++,f++;if(i+f>=w||o+f>=v)return!1;for(;i+f<w&&o+f<v&&!m.get(o+f,i+f)&&d[3]<l;)d[3]++,f++;if(i+f>=w||o+f>=v||d[3]>=l)return!1;for(;i+f<w&&o+f<v&&m.get(o+f,i+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const S=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(S-u)<2*u&&qt.foundPatternCross(d)}crossCheckVertical(i,o,l,u){const d=this.image,f=d.getHeight(),m=this.getCrossCheckStateCount();let w=i;for(;w>=0&&d.get(o,w);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(o,w)&&m[1]<=l;)m[1]++,w--;if(w<0||m[1]>l)return NaN;for(;w>=0&&d.get(o,w)&&m[0]<=l;)m[0]++,w--;if(m[0]>l)return NaN;for(w=i+1;w<f&&d.get(o,w);)m[2]++,w++;if(w===f)return NaN;for(;w<f&&!d.get(o,w)&&m[3]<l;)m[3]++,w++;if(w===f||m[3]>=l)return NaN;for(;w<f&&d.get(o,w)&&m[4]<l;)m[4]++,w++;if(m[4]>=l)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-u)>=2*u?NaN:qt.foundPatternCross(m)?qt.centerFromEnd(m,w):NaN}crossCheckHorizontal(i,o,l,u){const d=this.image,f=d.getWidth(),m=this.getCrossCheckStateCount();let w=i;for(;w>=0&&d.get(w,o);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(w,o)&&m[1]<=l;)m[1]++,w--;if(w<0||m[1]>l)return NaN;for(;w>=0&&d.get(w,o)&&m[0]<=l;)m[0]++,w--;if(m[0]>l)return NaN;for(w=i+1;w<f&&d.get(w,o);)m[2]++,w++;if(w===f)return NaN;for(;w<f&&!d.get(w,o)&&m[3]<l;)m[3]++,w++;if(w===f||m[3]>=l)return NaN;for(;w<f&&d.get(w,o)&&m[4]<l;)m[4]++,w++;if(m[4]>=l)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-u)>=u?NaN:qt.foundPatternCross(m)?qt.centerFromEnd(m,w):NaN}handlePossibleCenter(i,o,l,u){const d=i[0]+i[1]+i[2]+i[3]+i[4];let f=qt.centerFromEnd(i,l),m=this.crossCheckVertical(o,Math.floor(f),i[2],d);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),i[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),i[2],d)))){const w=d/7;let v=!1;const S=this.possibleCenters;for(let k=0,D=S.length;k<D;k++){const B=S[k];if(B.aboutEquals(w,m,f)){S[k]=B.combineEstimate(m,f,w),v=!0;break}}if(!v){const k=new Rf(f,m,w);S.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=qt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=qt.CENTER_QUORUM&&(i++,o+=f.getEstimatedModuleSize());if(i<3)return!1;const u=o/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new G;const o=this.possibleCenters;let l;if(i>3){let u=0,d=0;for(const w of this.possibleCenters){const v=w.getEstimatedModuleSize();u+=v,d+=v*v}l=u/i;let f=Math.sqrt(d/i-l*l);o.sort((w,v)=>{const S=Math.abs(v.getEstimatedModuleSize()-l),k=Math.abs(w.getEstimatedModuleSize()-l);return S<k?-1:S>k?1:0});const m=Math.max(.2*l,f);for(let w=0;w<o.length&&o.length>3;w++){const v=o[w];Math.abs(v.getEstimatedModuleSize()-l)>m&&(o.splice(w,1),w--)}}if(o.length>3){let u=0;for(const d of o)u+=d.getEstimatedModuleSize();l=u/o.length,o.sort((d,f)=>{if(f.getCount()===d.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-l),w=Math.abs(d.getEstimatedModuleSize()-l);return m<w?1:m>w?-1:0}else return f.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}qt.CENTER_QUORUM=2,qt.MIN_SKIP=3,qt.MAX_MODULES=57;class za{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(U.NEED_RESULT_POINT_CALLBACK);const l=new qt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),u=i.getBottomLeft(),d=this.calculateModuleSize(o,l,u);if(d<1)throw new G("No pattern found in proccess finder.");const f=za.computeDimension(o,l,u,d),m=Ee.getProvisionalVersionForDimension(f),w=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const B=l.getX()-o.getX()+u.getX(),V=l.getY()-o.getY()+u.getY(),W=1-3/w,$=Math.floor(o.getX()+W*(B-o.getX())),K=Math.floor(o.getY()+W*(V-o.getY()));for(let se=4;se<=16;se<<=1)try{v=this.findAlignmentInRegion(d,$,K,se);break}catch(oe){if(!(oe instanceof G))throw oe}}const S=za.createTransform(o,l,u,v,f),k=za.sampleGrid(this.image,S,f);let D;return v===null?D=[u,o,l]:D=[u,o,l,v],new Rs(k,D)}static createTransform(i,o,l,u,d){const f=d-3.5;let m,w,v,S;return u!==null?(m=u.getX(),w=u.getY(),v=f-3,S=v):(m=o.getX()-i.getX()+l.getX(),w=o.getY()-i.getY()+l.getY(),v=f,S=f),wt.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,S,3.5,f,i.getX(),i.getY(),o.getX(),o.getY(),m,w,l.getX(),l.getY())}static sampleGrid(i,o,l){return Qr.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,u){const d=Be.round(me.distance(i,o)/u),f=Be.round(me.distance(i,l)/u);let m=Math.floor((d+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new G("Dimensions could be not found.")}return m}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,u){let d=this.sizeOfBlackWhiteBlackRun(i,o,l,u),f=1,m=i-(l-i);m<0?(f=i/(i-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let w=Math.floor(o-(u-o)*f);return f=1,w<0?(f=o/(o-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),m=Math.floor(i+(m-i)*f),d+=this.sizeOfBlackWhiteBlackRun(i,o,m,w),d-1}sizeOfBlackWhiteBlackRun(i,o,l,u){const d=Math.abs(u-o)>Math.abs(l-i);if(d){let B=i;i=o,o=B,B=l,l=u,u=B}const f=Math.abs(l-i),m=Math.abs(u-o);let w=-f/2;const v=i<l?1:-1,S=o<u?1:-1;let k=0;const D=l+v;for(let B=i,V=o;B!==D;B+=v){const W=d?V:B,$=d?B:V;if(k===1===this.image.get(W,$)){if(k===2)return Be.distance(B,V,i,o);k++}if(w+=m,w>0){if(V===u)break;V+=S,w-=f}}return k===2?Be.distance(l+v,u,i,o):NaN}findAlignmentInRegion(i,o,l,u){const d=Math.floor(u*i),f=Math.max(0,o-d),m=Math.min(this.image.getWidth()-1,o+d);if(m-f<i*3)throw new G("Alignment top exceeds estimated module size.");const w=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-w<i*3)throw new G("Alignment bottom exceeds estimated module size.");return new Ac(this.image,f,w,m-f,v-w,i,this.resultPointCallback).find()}}class Ui{constructor(){this.decoder=new GS}getDecoder(){return this.decoder}decode(i,o){let l,u;if(o!=null&&o.get(U.PURE_BARCODE)!==void 0){const w=Ui.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(w,o),u=Ui.NO_POINTS}else{const w=new za(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(w.getBits(),o),u=w.getPoints()}l.getOther()instanceof up&&l.getOther().applyMirroredCorrection(u);const d=new _e(l.getText(),l.getRawBytes(),void 0,u,pe.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(ct.BYTE_SEGMENTS,f);const m=l.getECLevel();return m!==null&&d.putMetadata(ct.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(d.putMetadata(ct.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(ct.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new G;const u=this.moduleSize(o,i);let d=o[1],f=l[1],m=o[0],w=l[0];if(m>=w||d>=f)throw new G;if(f-d!==w-m&&(w=m+(f-d),w>=i.getWidth()))throw new G;const v=Math.round((w-m+1)/u),S=Math.round((f-d+1)/u);if(v<=0||S<=0)throw new G;if(S!==v)throw new G;const k=Math.floor(u/2);d+=k,m+=k;const D=m+Math.floor((v-1)*u)-w;if(D>0){if(D>k)throw new G;m-=D}const B=d+Math.floor((S-1)*u)-f;if(B>0){if(B>k)throw new G;d-=B}const V=new ie(v,S);for(let W=0;W<S;W++){const $=d+Math.floor(W*u);for(let K=0;K<v;K++)i.get(m+Math.floor(K*u),$)&&V.set(K,W)}return V}static moduleSize(i,o){const l=o.getHeight(),u=o.getWidth();let d=i[0],f=i[1],m=!0,w=0;for(;d<u&&f<l;){if(m!==o.get(d,f)){if(++w===5)break;m=!m}d++,f++}if(d===u||f===l)throw new G;return(d-i[0])/7}}Ui.NO_POINTS=new Array;class Ie{PDF417Common(){}static getBitCountSum(i){return Be.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ie.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const u of i)o[l++]=u;return o}static getCodeword(i){const o=T.binarySearch(Ie.SYMBOL_TABLE,i&262143);return o<0?-1:(Ie.CODEWORD_TABLE[o]-1)%Ie.NUMBER_OF_CODEWORDS}}Ie.NUMBER_OF_CODEWORDS=929,Ie.MAX_CODEWORDS_IN_BARCODE=Ie.NUMBER_OF_CODEWORDS-1,Ie.MIN_ROWS_IN_BARCODE=3,Ie.MAX_ROWS_IN_BARCODE=90,Ie.MODULES_IN_CODEWORD=17,Ie.MODULES_IN_STOP_PATTERN=18,Ie.BARS_IN_MODULE=8,Ie.EMPTY_INT_ARRAY=new Int32Array([]),Ie.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ie.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class YS{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Fe{static detectMultiple(i,o,l){let u=i.getBlackMatrix(),d=Fe.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Fe.detect(l,u)),new YS(u,d)}static detect(i,o){const l=new Array;let u=0,d=0,f=!1;for(;u<o.getHeight();){const m=Fe.findVertices(o,u,d);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,d=0;for(const w of l)w[1]!=null&&(u=Math.trunc(Math.max(u,w[1].getY()))),w[3]!=null&&(u=Math.max(u,Math.trunc(w[3].getY())));u+=Fe.ROW_STEP;continue}if(f=!0,l.push(m),!i)break;m[2]!=null?(d=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(d=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(i,o,l){const u=i.getHeight(),d=i.getWidth(),f=new Array(8);return Fe.copyToResult(f,Fe.findRowsWithPattern(i,u,d,o,l,Fe.START_PATTERN),Fe.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),Fe.copyToResult(f,Fe.findRowsWithPattern(i,u,d,o,l,Fe.STOP_PATTERN),Fe.INDEXES_STOP_PATTERN),f}static copyToResult(i,o,l){for(let u=0;u<l.length;u++)i[l[u]]=o[u]}static findRowsWithPattern(i,o,l,u,d,f){const m=new Array(4);let w=!1;const v=new Int32Array(f.length);for(;u<o;u+=Fe.ROW_STEP){let k=Fe.findGuardPattern(i,d,u,l,!1,f,v);if(k!=null){for(;u>0;){const D=Fe.findGuardPattern(i,d,--u,l,!1,f,v);if(D!=null)k=D;else{u++;break}}m[0]=new me(k[0],u),m[1]=new me(k[1],u),w=!0;break}}let S=u+1;if(w){let k=0,D=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;S<o;S++){const B=Fe.findGuardPattern(i,D[0],S,l,!1,f,v);if(B!=null&&Math.abs(D[0]-B[0])<Fe.MAX_PATTERN_DRIFT&&Math.abs(D[1]-B[1])<Fe.MAX_PATTERN_DRIFT)D=B,k=0;else{if(k>Fe.SKIPPED_ROW_COUNT_MAX)break;k++}}S-=k+1,m[2]=new me(D[0],S),m[3]=new me(D[1],S)}return S-u<Fe.BARCODE_MIN_HEIGHT&&T.fill(m,null),m}static findGuardPattern(i,o,l,u,d,f,m){T.fillWithin(m,0,m.length,0);let w=o,v=0;for(;i.get(w,l)&&w>0&&v++<Fe.MAX_PIXEL_DRIFT;)w--;let S=w,k=0,D=f.length;for(let B=d;S<u;S++)if(i.get(S,l)!==B)m[k]++;else{if(k===D-1){if(Fe.patternMatchVariance(m,f,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return new Int32Array([w,S]);w+=m[0]+m[1],C.arraycopy(m,2,m,0,k-1),m[k-1]=0,m[k]=0,k--}else k++;m[k]=1,B=!B}return k===D-1&&Fe.patternMatchVariance(m,f,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE?new Int32Array([w,S-1]):null}static patternMatchVariance(i,o,l){let u=i.length,d=0,f=0;for(let v=0;v<u;v++)d+=i[v],f+=o[v];if(d<f)return 1/0;let m=d/f;l*=m;let w=0;for(let v=0;v<u;v++){let S=i[v],k=o[v]*m,D=S>k?S-k:k-S;if(D>l)return 1/0;w+=D}return w/d}}Fe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Fe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Fe.MAX_AVG_VARIANCE=.42,Fe.MAX_INDIVIDUAL_VARIANCE=.8,Fe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Fe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Fe.MAX_PIXEL_DRIFT=3,Fe.MAX_PATTERN_DRIFT=5,Fe.SKIPPED_ROW_COUNT_MAX=25,Fe.ROW_STEP=5,Fe.BARCODE_MIN_HEIGHT=10;class en{constructor(i,o){if(o.length===0)throw new x;this.field=i;let l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),C.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let o=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)o=this.field.add(this.field.multiply(i,o),this.coefficients[u]);return o}add(i){if(!this.field.equals(i.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let f=o;o=l,l=f}let u=new Int32Array(l.length),d=l.length-o.length;C.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(o[f-d],l[f]);return new en(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new x("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof en?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new en(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,u=i.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let m=0;m<l;m++){let w=o[m];for(let v=0;v<d;v++)f[m+v]=this.field.add(f[m+v],this.field.multiply(w,u[v]))}return new en(this.field,f)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new en(this.field,o)}multiplyScalar(i){if(i===0)return new en(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new en(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new x;if(o===0)return new en(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+i);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],o);return new en(this.field,u)}toString(){let i=new ue;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class KS{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new x;return this.logTable[i]}inverse(i){if(i===0)throw new Sr;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Nf extends KS{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let u=0;u<i;u++)this.expTable[u]=l,l=l*o%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new en(this,new Int32Array([0])),this.one=new en(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new x;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new en(this,l)}}Nf.PDF417_GF=new Nf(Ie.NUMBER_OF_CODEWORDS,3);class dp{constructor(){this.field=Nf.PDF417_GF}decode(i,o,l){let u=new en(this.field,i),d=new Int32Array(o),f=!1;for(let V=o;V>0;V--){let W=u.evaluateAt(this.field.exp(V));d[o-V]=W,W!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(l!=null)for(const V of l){let W=this.field.exp(i.length-1-V),$=new en(this.field,new Int32Array([this.field.subtract(0,W),1]));m=m.multiply($)}let w=new en(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),S=v[0],k=v[1],D=this.findErrorLocations(S),B=this.findErrorMagnitudes(k,S,D);for(let V=0;V<D.length;V++){let W=i.length-1-this.field.log(D[V]);if(W<0)throw b.getChecksumInstance();i[W]=this.field.subtract(i[W],B[V])}return D.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let D=i;i=o,o=D}let u=i,d=o,f=this.field.getZero(),m=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=u,B=f;if(u=d,f=m,u.isZero())throw b.getChecksumInstance();d=D;let V=this.field.getZero(),W=u.getCoefficient(u.getDegree()),$=this.field.inverse(W);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let K=d.getDegree()-u.getDegree(),se=this.field.multiply(d.getCoefficient(d.getDegree()),$);V=V.add(this.field.buildMonomial(K,se)),d=d.subtract(u.multiplyByMonomial(K,se))}m=V.multiply(f).subtract(B).negative()}let w=m.getCoefficient(0);if(w===0)throw b.getChecksumInstance();let v=this.field.inverse(w),S=m.multiply(v),k=d.multiply(v);return[S,k]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),u=0;for(let d=1;d<this.field.getSize()&&u<o;d++)i.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==o)throw b.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let u=o.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,o.getCoefficient(v));let f=new en(this.field,d),m=l.length,w=new Int32Array(m);for(let v=0;v<m;v++){let S=this.field.inverse(l[v]),k=this.field.subtract(0,i.evaluateAt(S)),D=this.field.inverse(f.evaluateAt(S));w[v]=this.field.multiply(k,D)}return w}}class ks{constructor(i,o,l,u,d){i instanceof ks?this.constructor_2(i):this.constructor_1(i,o,l,u,d)}constructor_1(i,o,l,u,d){const f=o==null||l==null,m=u==null||d==null;if(f&&m)throw new G;f?(o=new me(0,u.getY()),l=new me(0,d.getY())):m&&(u=new me(i.getWidth()-1,o.getY()),d=new me(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new ks(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(i>0){let w=l?this.topLeft:this.topRight,v=Math.trunc(w.getY()-i);v<0&&(v=0);let S=new me(w.getX(),v);l?u=S:f=S}if(o>0){let w=l?this.bottomLeft:this.bottomRight,v=Math.trunc(w.getY()+o);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let S=new me(w.getX(),v);l?d=S:m=S}return new ks(this.image,u,d,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qS{constructor(i,o,l,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ha{constructor(){this.buffer=""}static form(i,o){let l=-1;function u(f,m,w,v,S,k){if(f==="%%")return"%";if(o[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=S?parseInt(S.substr(1)):void 0,B;switch(k){case"s":B=o[l];break;case"c":B=o[l][0];break;case"f":B=parseFloat(o[l]).toFixed(f);break;case"p":B=parseFloat(o[l]).toPrecision(f);break;case"e":B=parseFloat(o[l]).toExponential(f);break;case"x":B=parseInt(o[l]).toString(D||16);break;case"d":B=parseFloat(parseInt(o[l],D||10).toPrecision(f)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(D);let V=parseInt(w),W=w&&w[0]+""=="0"?"0":" ";for(;B.length<V;)B=m!==void 0?B+W:W+B;return B}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,u)}format(i,...o){this.buffer+=Ha.form(i,o)}toString(){return this.buffer}}class $a{constructor(i){this.boundingBox=new ks(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<$a.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(i)-l;if(u>=0&&(o=this.codewords[u],o!=null)||(u=this.imageRowToCodewordIndex(i)+l,u<this.codewords.length&&(o=this.codewords[u],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Ha;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}$a.MAX_NEARBY_DISTANCE=5;class Ga{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>i?(i=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===i&&o.push(d.getKey())}return Ie.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class fp extends $a{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=-1,v=1,S=0;for(let k=f;k<m;k++){if(o[k]==null)continue;let D=o[k],B=D.getRowNumber()-w;if(B===0)S++;else if(B===1)v=Math.max(v,S),S=1,w=D.getRowNumber();else if(B<0||D.getRowNumber()>=i.getRowCount()||B>k)o[k]=null;else{let V;v>2?V=(v-2)*B:V=B;let W=V>=k;for(let $=1;$<=V&&!W;$++)W=o[k-$]!=null;W?o[k]=null:(w=D.getRowNumber(),S=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=o.length)continue;o[u]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),w=-1;for(let v=d;v<f;v++){if(m[v]==null)continue;let S=m[v];S.setRowNumberAsRowIndicatorColumn();let k=S.getRowNumber()-w;k===0||(k===1?w=S.getRowNumber():S.getRowNumber()>=i.getRowCount()?m[v]=null:w=S.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Ga,l=new Ga,u=new Ga,d=new Ga;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let w=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(w*3+1);break;case 1:d.setValue(w/3),u.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ie.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ie.MAX_ROWS_IN_BARCODE)return null;let f=new qS(o.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let u=i[l];if(i[l]==null)continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:d+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xa{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ie.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(o,u,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(i[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=Xa.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=Xa.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let u=l[o],d=this.detectionResultColumns[i-1].getCodewords(),f=d;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=d[o],m[3]=f[o],o>0&&(m[0]=l[o-1],m[4]=d[o-1],m[5]=f[o-1]),o>1&&(m[8]=l[o-2],m[10]=d[o-2],m[11]=f[o-2]),o<l.length-1&&(m[1]=l[o+1],m[6]=d[o+1],m[7]=f[o+1]),o<l.length-2&&(m[9]=l[o+2],m[12]=d[o+2],m[13]=f[o+2]);for(let w of m)if(Xa.adjustRowNumber(u,w))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ha;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Ya{constructor(i,o,l,u){this.rowNumber=Ya.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Ya.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Ya.BARCODE_ROW_UNKNOWN=-1;class On{static initialize(){for(let i=0;i<Ie.SYMBOL_TABLE.length;i++){let o=Ie.SYMBOL_TABLE[i],l=o&1;for(let u=0;u<Ie.BARS_IN_MODULE;u++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,On.RATIOS_TABLE[i]||(On.RATIOS_TABLE[i]=new Array(Ie.BARS_IN_MODULE)),On.RATIOS_TABLE[i][Ie.BARS_IN_MODULE-u-1]=Math.fround(d/Ie.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=On.getDecodedCodewordValue(On.sampleBitCounts(i));return o!==-1?o:On.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Be.sum(i),l=new Int32Array(Ie.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<Ie.MODULES_IN_CODEWORD;f++){let m=o/(2*Ie.MODULES_IN_CODEWORD)+f*o/Ie.MODULES_IN_CODEWORD;d+i[u]<=m&&(d+=i[u],u++),l[u]++}return l}static getDecodedCodewordValue(i){let o=On.getBitValue(i);return Ie.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let u=0;u<i[l];u++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Be.sum(i),l=new Array(Ie.BARS_IN_MODULE);if(o>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(i[f]/o);let u=Is.MAX_VALUE,d=-1;this.bSymbolTableReady||On.initialize();for(let f=0;f<On.RATIOS_TABLE.length;f++){let m=0,w=On.RATIOS_TABLE[f];for(let v=0;v<Ie.BARS_IN_MODULE;v++){let S=Math.fround(w[v]-l[v]);if(m+=Math.fround(S*S),m>=u)break}m<u&&(u=m,d=Ie.SYMBOL_TABLE[f])}return d}}On.bSymbolTableReady=!1,On.RATIOS_TABLE=new Array(Ie.SYMBOL_TABLE.length).map(P=>new Array(Ie.BARS_IN_MODULE));class hp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class gp{static parseLong(i,o=void 0){return parseInt(i,o)}}class pp extends p{}pp.kind="NullPointerException";class QS{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new pp;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new N;if(l===0)return;for(let u=0;u<l;u++)this.write(i[o+u])}flush(){}close(){}}class ZS extends p{}class JS extends QS{constructor(i=32){if(super(),this.count=0,i<0)throw new x("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new ZS;l=A.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new N;this.ensureCapacity(this.count+l),C.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var rt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(rt||(rt={}));function mp(){if(typeof window<"u")return window.BigInt||null;if(typeof Qa<"u")return Qa.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Tc;function Vi(P){if(typeof Tc>"u"&&(Tc=mp()),Tc===null)throw new Error("BigInt is not supported!");return Tc(P)}function e_(){let P=[];P[0]=Vi(1);let i=Vi(900);P[1]=i;for(let o=2;o<16;o++)P[o]=P[o-1]*i;return P}class Y{static decode(i,o){let l=new ue(""),u=z.ISO8859_1;l.enableDecoding(u);let d=1,f=i[d++],m=new hp;for(;d<i[0];){switch(f){case Y.TEXT_COMPACTION_MODE_LATCH:d=Y.textCompaction(i,d,l);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:d=Y.byteCompaction(f,i,u,d,l);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:d=Y.numericCompaction(i,d,l);break;case Y.ECI_CHARSET:z.getCharacterSetECIByValue(i[d++]);break;case Y.ECI_GENERAL_PURPOSE:d+=2;break;case Y.ECI_USER_DEFINED:d++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Y.decodeMacroBlock(i,d,m);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new F;default:d--,d=Y.textCompaction(i,d,l);break}if(d<i.length)f=i[d++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let w=new Tn(null,l.toString(),null,o);return w.setOther(m),w}static decodeMacroBlock(i,o,l){if(o+Y.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw F.getFormatInstance();let u=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Y.NUMBER_OF_SEQUENCE_CODEWORDS;m++,o++)u[m]=i[o];l.setSegmentIndex(A.parseInt(Y.decodeBase900toBase10(u,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ue;o=Y.textCompaction(i,o,d),l.setFileId(d.toString());let f=-1;for(i[o]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<i[0];)switch(i[o]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new ue;o=Y.textCompaction(i,o+1,m),l.setFileName(m.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new ue;o=Y.textCompaction(i,o+1,w),l.setSender(w.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ue;o=Y.textCompaction(i,o+1,v),l.setAddressee(v.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new ue;o=Y.numericCompaction(i,o+1,S),l.setSegmentCount(A.parseInt(S.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new ue;o=Y.numericCompaction(i,o+1,k),l.setTimestamp(gp.parseLong(k.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ue;o=Y.numericCompaction(i,o+1,D),l.setChecksum(A.parseInt(D.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new ue;o=Y.numericCompaction(i,o+1,B),l.setFileSize(gp.parseLong(B.toString()));break;default:throw F.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(f!==-1){let m=o-f;l.isLastSegment()&&m--,l.setOptionalData(T.copyOfRange(i,f,f+m))}return o}static textCompaction(i,o,l){let u=new Int32Array((i[0]-o)*2),d=new Int32Array((i[0]-o)*2),f=0,m=!1;for(;o<i[0]&&!m;){let w=i[o++];if(w<Y.TEXT_COMPACTION_MODE_LATCH)u[f]=w/30,u[f+1]=w%30,f+=2;else switch(w){case Y.TEXT_COMPACTION_MODE_LATCH:u[f++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:o--,m=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=i[o++],d[f]=w,f++;break}}return Y.decodeTextCompaction(u,d,f,l),o}static decodeTextCompaction(i,o,l,u){let d=rt.ALPHA,f=rt.ALPHA,m=0;for(;m<l;){let w=i[m],v="";switch(d){case rt.ALPHA:if(w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case Y.LL:d=rt.LOWER;break;case Y.ML:d=rt.MIXED;break;case Y.PS:f=d,d=rt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=rt.ALPHA;break}break;case rt.LOWER:if(w<26)v=String.fromCharCode(97+w);else switch(w){case 26:v=" ";break;case Y.AS:f=d,d=rt.ALPHA_SHIFT;break;case Y.ML:d=rt.MIXED;break;case Y.PS:f=d,d=rt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=rt.ALPHA;break}break;case rt.MIXED:if(w<Y.PL)v=Y.MIXED_CHARS[w];else switch(w){case Y.PL:d=rt.PUNCT;break;case 26:v=" ";break;case Y.LL:d=rt.LOWER;break;case Y.AL:d=rt.ALPHA;break;case Y.PS:f=d,d=rt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=rt.ALPHA;break}break;case rt.PUNCT:if(w<Y.PAL)v=Y.PUNCT_CHARS[w];else switch(w){case Y.PAL:d=rt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=rt.ALPHA;break}break;case rt.ALPHA_SHIFT:if(d=f,w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:d=rt.ALPHA;break}break;case rt.PUNCT_SHIFT:if(d=f,w<Y.PAL)v=Y.PUNCT_CHARS[w];else switch(w){case Y.PAL:d=rt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=rt.ALPHA;break}break}v!==""&&u.append(v),m++}}static byteCompaction(i,o,l,u,d){let f=new JS,m=0,w=0,v=!1;switch(i){case Y.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),k=o[u++];for(;u<o[0]&&!v;)switch(S[m++]=k,w=900*w+k,k=o[u++],k){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(m%5===0&&m>0){for(let D=0;D<6;++D)f.write(Number(Vi(w)>>Vi(8*(5-D))));w=0,m=0}break}u===o[0]&&k<Y.TEXT_COMPACTION_MODE_LATCH&&(S[m++]=k);for(let D=0;D<m;D++)f.write(S[D]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;u<o[0]&&!v;){let D=o[u++];if(D<Y.TEXT_COMPACTION_MODE_LATCH)m++,w=900*w+D;else switch(D){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:u--,v=!0;break}if(m%5===0&&m>0){for(let B=0;B<6;++B)f.write(Number(Vi(w)>>Vi(8*(5-B))));w=0,m=0}}break}return d.append(de.decode(f.toByteArray(),l)),u}static numericCompaction(i,o,l){let u=0,d=!1,f=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!d;){let m=i[o++];if(o===i[0]&&(d=!0),m<Y.TEXT_COMPACTION_MODE_LATCH)f[u]=m,u++;else switch(m){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(u%Y.MAX_NUMERIC_CODEWORDS===0||m===Y.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(Y.decodeBase900toBase10(f,u)),u=0)}return o}static decodeBase900toBase10(i,o){let l=Vi(0);for(let d=0;d<o;d++)l+=Y.EXP900[o-d-1]*Vi(i[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new F;return u.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=mp()?e_():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class je{constructor(){}static decode(i,o,l,u,d,f,m){let w=new ks(i,o,l,u,d),v=null,S=null,k;for(let V=!0;;V=!1){if(o!=null&&(v=je.getRowIndicatorColumn(i,w,o,!0,f,m)),u!=null&&(S=je.getRowIndicatorColumn(i,w,u,!1,f,m)),k=je.merge(v,S),k==null)throw G.getNotFoundInstance();let W=k.getBoundingBox();if(V&&W!=null&&(W.getMinY()<w.getMinY()||W.getMaxY()>w.getMaxY()))w=W;else break}k.setBoundingBox(w);let D=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,v),k.setDetectionResultColumn(D,S);let B=v!=null;for(let V=1;V<=D;V++){let W=B?V:D-V;if(k.getDetectionResultColumn(W)!==void 0)continue;let $;W===0||W===D?$=new fp(w,W===0):$=new $a(w),k.setDetectionResultColumn(W,$);let K=-1,se=K;for(let oe=w.getMinY();oe<=w.getMaxY();oe++){if(K=je.getStartColumn(k,W,oe,B),K<0||K>w.getMaxX()){if(se===-1)continue;K=se}let ne=je.detectCodeword(i,w.getMinX(),w.getMaxX(),B,K,oe,f,m);ne!=null&&($.setCodeword(oe,ne),se=K,f=Math.min(f,ne.getWidth()),m=Math.max(m,ne.getWidth()))}}return je.createDecoderResult(k)}static merge(i,o){if(i==null&&o==null)return null;let l=je.getBarcodeMetadata(i,o);if(l==null)return null;let u=ks.merge(je.adjustBoundingBox(i),je.adjustBoundingBox(o));return new Xa(l,u)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=je.getMax(o),u=0;for(let m of o)if(u+=l-m,m>0)break;let d=i.getCodewords();for(let m=0;u>0&&d[m]==null;m++)u--;let f=0;for(let m=o.length-1;m>=0&&(f+=l-o[m],!(o[m]>0));m--);for(let m=d.length-1;f>0&&d[m]==null;m--)f--;return i.getBoundingBox().addMissingRows(u,f,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let u;return o==null||(u=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,u,d,f){let m=new fp(o,u);for(let w=0;w<2;w++){let v=w===0?1:-1,S=Math.trunc(Math.trunc(l.getX()));for(let k=Math.trunc(Math.trunc(l.getY()));k<=o.getMaxY()&&k>=o.getMinY();k+=v){let D=je.detectCodeword(i,0,i.getWidth(),u,S,k,d,f);D!=null&&(m.setCodeword(k,D),u?S=D.getStartX():S=D.getEndX())}}return m}static adjustCodewordCount(i,o){let l=o[0][1],u=l.getValue(),d=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-je.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(d<1||d>Ie.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(i){let o=je.createBarcodeMatrix(i);je.adjustCodewordCount(i,o);let l=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),d=[],f=new Array;for(let w=0;w<i.getBarcodeRowCount();w++)for(let v=0;v<i.getBarcodeColumnCount();v++){let S=o[w][v+1].getValue(),k=w*i.getBarcodeColumnCount()+v;S.length===0?l.push(k):S.length===1?u[k]=S[0]:(f.push(k),d.push(S))}let m=new Array(d.length);for(let w=0;w<m.length;w++)m[w]=d[w];return je.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,Ie.toIntArray(l),Ie.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(i,o,l,u,d){let f=new Int32Array(u.length),m=100;for(;m-- >0;){for(let w=0;w<f.length;w++)o[u[w]]=d[w][f[w]];try{return je.decodeCodewords(o,i,l)}catch(w){if(!(w instanceof b))throw w}if(f.length===0)throw b.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<d[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<o.length;u++)for(let d=0;d<o[u].length;d++)o[u][d]=new Ga;let l=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,u){let d=u?1:-1,f=null;if(je.isValidBarcodeColumn(i,o-d)&&(f=i.getDetectionResultColumn(o-d).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(o).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(je.isValidBarcodeColumn(i,o-d)&&(f=i.getDetectionResultColumn(o-d).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let m=0;for(;je.isValidBarcodeColumn(i,o-d);){o-=d;for(let w of i.getDetectionResultColumn(o).getCodewords())if(w!=null)return(u?w.getEndX():w.getStartX())+d*m*(w.getEndX()-w.getStartX());m++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,u,d,f,m,w){d=je.adjustCodewordStartColumn(i,o,l,u,d,f);let v=je.getModuleBitCount(i,o,l,u,d,f);if(v==null)return null;let S,k=Be.sum(v);if(u)S=d+k;else{for(let V=0;V<v.length/2;V++){let W=v[V];v[V]=v[v.length-1-V],v[v.length-1-V]=W}S=d,d=S-k}if(!je.checkCodewordSkew(k,m,w))return null;let D=On.getDecodedValue(v),B=Ie.getCodeword(D);return B===-1?null:new Ya(d,S,je.getCodewordBucketNumber(D),B)}static getModuleBitCount(i,o,l,u,d,f){let m=d,w=new Int32Array(8),v=0,S=u?1:-1,k=u;for(;(u?m<l:m>=o)&&v<w.length;)i.get(m,f)===k?(w[v]++,m+=S):(v++,k=!k);return v===w.length||m===(u?l:o)&&v===w.length-1?w:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,u,d,f){let m=d,w=u?-1:1;for(let v=0;v<2;v++){for(;(u?m>=o:m<l)&&u===i.get(m,f);){if(Math.abs(d-m)>je.CODEWORD_SKEW_SIZE)return d;m+=w}w=-w,u=!u}return m}static checkCodewordSkew(i,o,l){return o-je.CODEWORD_SKEW_SIZE<=i&&i<=l+je.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw F.getFormatInstance();let u=1<<o+1,d=je.correctErrors(i,l,u);je.verifyCodewordCount(i,u);let f=Y.decode(i,""+o);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+je.MAX_ERRORS||l<0||l>je.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return je.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw F.getFormatInstance();let l=i[0];if(l>i.length)throw F.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,u=o.length-1;for(;!((i&1)!==l&&(l=i&1,u--,u<0));)o[u]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return je.getCodewordBucketNumber(je.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Ha;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let u=0;u<i[l].length;u++){let d=i[l][u];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}je.CODEWORD_SKEW_SIZE=2,je.MAX_ERRORS=3,je.MAX_EC_CODEWORDS=512,je.errorCorrection=new dp;class tn{decode(i,o=null){let l=tn.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw G.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return tn.decode(i,o,!0)}catch(l){throw l instanceof F||l instanceof b?G.getNotFoundInstance():l}}static decode(i,o,l){const u=new Array,d=Fe.detectMultiple(i,o,l);for(const f of d.getPoints()){const m=je.decode(d.getBits(),f[4],f[5],f[6],f[7],tn.getMinCodewordWidth(f),tn.getMaxCodewordWidth(f)),w=new _e(m.getText(),m.getRawBytes(),void 0,f,pe.PDF_417);w.putMetadata(ct.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&w.putMetadata(ct.PDF417_EXTRA_METADATA,v),u.push(w)}return u.map(f=>f)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?A.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(tn.getMaxWidth(i[0],i[4]),tn.getMaxWidth(i[6],i[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.max(tn.getMaxWidth(i[1],i[5]),tn.getMaxWidth(i[7],i[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(tn.getMinWidth(i[0],i[4]),tn.getMinWidth(i[6],i[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.min(tn.getMinWidth(i[1],i[5]),tn.getMinWidth(i[7],i[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ic extends p{}Ic.kind="ReaderException";class wp{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(U.TRY_HARDER)===!0,l=r(i)?null:i.get(U.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const d=l.some(f=>f===pe.UPC_A||f===pe.UPC_E||f===pe.EAN_13||f===pe.EAN_8||f===pe.CODABAR||f===pe.CODE_39||f===pe.CODE_93||f===pe.CODE_128||f===pe.ITF||f===pe.RSS_14||f===pe.RSS_EXPANDED);d&&!o&&u.push(new xo(i,this.verbose)),l.includes(pe.QR_CODE)&&u.push(new Ui),l.includes(pe.DATA_MATRIX)&&u.push(new ji),l.includes(pe.AZTEC)&&u.push(new po),l.includes(pe.PDF_417)&&u.push(new tn),d&&o&&u.push(new xo(i,this.verbose))}u.length===0&&(o||u.push(new xo(i,this.verbose)),u.push(new Ui),u.push(new ji),u.push(new po),u.push(new tn),o&&u.push(new xo(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Ic("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof Ic)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class t_ extends Ne{constructor(i=null,o=500){const l=new wp;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class n_ extends Ne{constructor(i=500){super(new tn,i)}}class r_ extends Ne{constructor(i=500){super(new Ui,i)}}var Of;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(Of||(Of={}));var Wt=Of;class Pf{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Et(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const u=this.field;for(let d=o.length;d<=i;d++){const f=l.multiply(new Et(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));o.push(f),l=f}}return o[i]}encode(i,o){if(o===0)throw new x("No error correction bytes");const l=i.length-o;if(l<=0)throw new x("No data bytes provided");const u=this.buildGenerator(o),d=new Int32Array(l);C.arraycopy(i,0,d,0,l);let f=new Et(this.field,d);f=f.multiplyByMonomial(o,1);const w=f.divide(u)[1].getCoefficients(),v=o-w.length;for(let S=0;S<v;S++)i[l+S]=0;C.arraycopy(w,0,i,l+v,w.length)}}class Nt{constructor(){}static applyMaskPenaltyRule1(i){return Nt.applyMaskPenaltyRule1Internal(i,!0)+Nt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),u=i.getWidth(),d=i.getHeight();for(let f=0;f<d-1;f++){const m=l[f];for(let w=0;w<u-1;w++){const v=m[w];v===m[w+1]&&v===l[f+1][w]&&v===l[f+1][w+1]&&o++}}return Nt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),u=i.getWidth(),d=i.getHeight();for(let f=0;f<d;f++)for(let m=0;m<u;m++){const w=l[f];m+6<u&&w[m]===1&&w[m+1]===0&&w[m+2]===1&&w[m+3]===1&&w[m+4]===1&&w[m+5]===0&&w[m+6]===1&&(Nt.isWhiteHorizontal(w,m-4,m)||Nt.isWhiteHorizontal(w,m+7,m+11))&&o++,f+6<d&&l[f][m]===1&&l[f+1][m]===0&&l[f+2][m]===1&&l[f+3][m]===1&&l[f+4][m]===1&&l[f+5][m]===0&&l[f+6][m]===1&&(Nt.isWhiteVertical(l,m,f-4,f)||Nt.isWhiteVertical(l,m,f+7,f+11))&&o++}return o*Nt.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let u=o;u<l;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,o,l,u){l=Math.max(l,0),u=Math.min(u,i.length);for(let d=l;d<u;d++)if(i[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),u=i.getWidth(),d=i.getHeight();for(let w=0;w<d;w++){const v=l[w];for(let S=0;S<u;S++)v[S]===1&&o++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*Nt.N4}static getDataMaskBit(i,o,l){let u,d;switch(i){case 0:u=l+o&1;break;case 1:u=l&1;break;case 2:u=o%3;break;case 3:u=(l+o)%3;break;case 4:u=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,u=(d&1)+d%3;break;case 6:d=l*o,u=(d&1)+d%3&1;break;case 7:d=l*o,u=d%3+(l+o&1)&1;break;default:throw new x("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const u=o?i.getHeight():i.getWidth(),d=o?i.getWidth():i.getHeight(),f=i.getArray();for(let m=0;m<u;m++){let w=0,v=-1;for(let S=0;S<d;S++){const k=o?f[m][S]:f[S][m];k===v?w++:(w>=5&&(l+=Nt.N1+(w-5)),w=1,v=k)}w>=5&&(l+=Nt.N1+(w-5))}return l}}Nt.N1=3,Nt.N2=3,Nt.N3=40,Nt.N4=10;class Rc{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let u=0;u!==o;u++)l[u]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)T.fill(o,i)}equals(i){if(!(i instanceof Rc))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=o.bytes[l];for(let m=0,w=this.width;m<w;++m)if(d[m]!==f[m])return!1}return!0}toString(){const i=new ue;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Ds{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ue;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Ds.NUM_MASK_PATTERNS}}Ds.NUM_MASK_PATTERNS=8;class it extends p{}it.kind="WriterException";class Ae{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,u,d){Ae.clearMatrix(d),Ae.embedBasicPatterns(l,d),Ae.embedTypeInfo(o,u,d),Ae.maybeEmbedVersionInfo(l,d),Ae.embedDataBits(i,u,d)}static embedBasicPatterns(i,o){Ae.embedPositionDetectionPatternsAndSeparators(o),Ae.embedDarkDotAtLeftBottomCorner(o),Ae.maybeEmbedPositionAdjustmentPatterns(i,o),Ae.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const u=new M;Ae.makeTypeInfoBits(i,o,u);for(let d=0,f=u.getSize();d<f;++d){const m=u.get(u.getSize()-1-d),w=Ae.TYPE_INFO_COORDINATES[d],v=w[0],S=w[1];if(l.setBoolean(v,S,m),d<8){const k=l.getWidth()-d-1;l.setBoolean(k,8,m)}else{const D=l.getHeight()-7+(d-8);l.setBoolean(8,D,m)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new M;Ae.makeVersionInfoBits(i,l);let u=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const m=l.get(u);u--,o.setBoolean(d,o.getHeight()-11+f,m),o.setBoolean(o.getHeight()-11+f,d,m)}}static embedDataBits(i,o,l){let u=0,d=-1,f=l.getWidth()-1,m=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<l.getHeight();){for(let w=0;w<2;++w){const v=f-w;if(!Ae.isEmpty(l.get(v,m)))continue;let S;u<i.getSize()?(S=i.get(u),++u):S=!1,o!==255&&Nt.getDataMaskBit(o,v,m)&&(S=!S),l.setBoolean(v,m,S)}m+=d}d=-d,m+=d,f-=2}if(u!==i.getSize())throw new it("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-A.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new x("0 polynomial");const l=Ae.findMSBSet(o);for(i<<=l-1;Ae.findMSBSet(i)>=l;)i^=o<<Ae.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!Ds.isValidMaskPattern(o))throw new it("Invalid mask pattern");const u=i.getBits()<<3|o;l.appendBits(u,5);const d=Ae.calculateBCHCode(u,Ae.TYPE_INFO_POLY);l.appendBits(d,10);const f=new M;if(f.appendBits(Ae.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new it("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=Ae.calculateBCHCode(i.getVersionNumber(),Ae.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new it("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;Ae.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),Ae.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new it;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let u=0;u<8;++u){if(!Ae.isEmpty(l.get(i+u,o)))throw new it;l.setNumber(i+u,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let u=0;u<7;++u){if(!Ae.isEmpty(l.get(i,o+u)))throw new it;l.setNumber(i,o+u,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let u=0;u<5;++u){const d=Ae.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(i+f,o+u,d[f])}}static embedPositionDetectionPattern(i,o,l){for(let u=0;u<7;++u){const d=Ae.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(i+f,o+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(i){const o=Ae.POSITION_DETECTION_PATTERN[0].length;Ae.embedPositionDetectionPattern(0,0,i),Ae.embedPositionDetectionPattern(i.getWidth()-o,0,i),Ae.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;Ae.embedHorizontalSeparationPattern(0,l-1,i),Ae.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),Ae.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const u=7;Ae.embedVerticalSeparationPattern(u,0,i),Ae.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),Ae.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,u=Ae.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const m=u[d];if(m>=0)for(let w=0;w!==f;w++){const v=u[w];v>=0&&Ae.isEmpty(o.get(v,m))&&Ae.embedPositionAdjustmentPattern(v-2,m-2,o)}}}}Ae.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ae.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ae.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ae.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ae.VERSION_INFO_POLY=7973,Ae.TYPE_INFO_POLY=1335,Ae.TYPE_INFO_MASK_PATTERN=21522;class i_{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ut{constructor(){}static calculateMaskPenalty(i){return Nt.applyMaskPenaltyRule1(i)+Nt.applyMaskPenaltyRule2(i)+Nt.applyMaskPenaltyRule3(i)+Nt.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let u=ut.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Wt.CHARACTER_SET)!==void 0;d&&(u=l.get(Wt.CHARACTER_SET).toString());const f=this.chooseMode(i,u),m=new M;if(f===Se.BYTE&&(d||ut.DEFAULT_BYTE_MODE_ENCODING!==u)){const oe=z.getCharacterSetECIByName(u);oe!==void 0&&this.appendECI(oe,m)}this.appendModeInfo(f,m);const w=new M;this.appendBytes(i,f,w,u);let v;if(l!==null&&l.get(Wt.QR_VERSION)!==void 0){const oe=Number.parseInt(l.get(Wt.QR_VERSION).toString(),10);v=Ee.getVersionForNumber(oe);const ne=this.calculateBitsNeeded(f,m,w,v);if(!this.willFit(ne,v,o))throw new it("Data too big for requested version")}else v=this.recommendVersion(o,f,m,w);const S=new M;S.appendBitArray(m);const k=f===Se.BYTE?w.getSizeInBytes():i.length;this.appendLengthInfo(k,v,f,S),S.appendBitArray(w);const D=v.getECBlocksForLevel(o),B=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(B,S);const V=this.interleaveWithECBytes(S,v.getTotalCodewords(),B,D.getNumBlocks()),W=new Ds;W.setECLevel(o),W.setMode(f),W.setVersion(v);const $=v.getDimensionForVersion(),K=new Rc($,$),se=this.chooseMaskPattern(V,o,v,K);return W.setMaskPattern(se),Ae.buildMatrix(V,o,v,se,K),W.setMatrix(K),W}static recommendVersion(i,o,l,u){const d=this.calculateBitsNeeded(o,l,u,Ee.getVersionForNumber(1)),f=this.chooseVersion(d,i),m=this.calculateBitsNeeded(o,l,u,f);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,o,l,u){return o.getSize()+i.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(i){return i<ut.ALPHANUMERIC_TABLE.length?ut.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(z.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Se.KANJI;let l=!1,u=!1;for(let d=0,f=i.length;d<f;++d){const m=i.charAt(d);if(ut.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return Se.BYTE}return u?Se.ALPHANUMERIC:l?Se.NUMERIC:Se.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=de.encode(i,z.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=o[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(i,o,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<Ds.NUM_MASK_PATTERNS;m++){Ae.buildMatrix(i,o,l,m,u);let w=this.calculateMaskPenalty(u);w<d&&(d=w,f=m)}return f}static chooseVersion(i,o){for(let l=1;l<=40;l++){const u=Ee.getVersionForNumber(l);if(ut.willFit(i,u,o))return u}throw new it("Data too big")}static willFit(i,o,l){const u=o.getTotalCodewords(),f=o.getECBlocksForLevel(l).getTotalECCodewords(),m=u-f,w=(i+7)/8;return m>=w}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new it("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let f=0;f<4&&o.getSize()<l;++f)o.appendBit(!1);const u=o.getSize()&7;if(u>0)for(let f=u;f<8;f++)o.appendBit(!1);const d=i-o.getSizeInBytes();for(let f=0;f<d;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==l)throw new it("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,u,d,f){if(u>=l)throw new it("Block ID too large");const m=i%l,w=l-m,v=Math.floor(i/l),S=v+1,k=Math.floor(o/l),D=k+1,B=v-k,V=S-D;if(B!==V)throw new it("EC bytes mismatch");if(l!==w+m)throw new it("RS blocks mismatch");if(i!==(k+B)*w+(D+V)*m)throw new it("Total bytes mismatch");u<w?(d[0]=k,f[0]=B):(d[0]=D,f[0]=V)}static interleaveWithECBytes(i,o,l,u){if(i.getSizeInBytes()!==l)throw new it("Number of bits and data bytes does not match");let d=0,f=0,m=0;const w=new Array;for(let S=0;S<u;++S){const k=new Int32Array(1),D=new Int32Array(1);ut.getNumDataBytesAndNumECBytesForBlockID(o,l,u,S,k,D);const B=k[0],V=new Uint8Array(B);i.toBytes(8*d,V,0,B);const W=ut.generateECBytes(V,D[0]);w.push(new i_(V,W)),f=Math.max(f,B),m=Math.max(m,W.length),d+=k[0]}if(l!==d)throw new it("Data bytes does not match offset");const v=new M;for(let S=0;S<f;++S)for(const k of w){const D=k.getDataBytes();S<D.length&&v.appendBits(D[S],8)}for(let S=0;S<m;++S)for(const k of w){const D=k.getErrorCorrectionBytes();S<D.length&&v.appendBits(D[S],8)}if(o!==v.getSizeInBytes())throw new it("Interleaving error: "+o+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(i,o){const l=i.length,u=new Int32Array(l+o);for(let f=0;f<l;f++)u[f]=i[f]&255;new Pf(Le.QR_CODE_FIELD_256).encode(u,o);const d=new Uint8Array(o);for(let f=0;f<o;f++)d[f]=u[l+f];return d}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,u){const d=l.getCharacterCountBits(o);if(i>=1<<d)throw new it(i+" is bigger than "+((1<<d)-1));u.appendBits(i,d)}static appendBytes(i,o,l,u){switch(o){case Se.NUMERIC:ut.appendNumericBytes(i,l);break;case Se.ALPHANUMERIC:ut.appendAlphanumericBytes(i,l);break;case Se.BYTE:ut.append8BitBytes(i,l,u);break;case Se.KANJI:ut.appendKanjiBytes(i,l);break;default:throw new it("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=ut.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let u=0;for(;u<l;){const d=ut.getDigit(i.charAt(u));if(u+2<l){const f=ut.getDigit(i.charAt(u+1)),m=ut.getDigit(i.charAt(u+2));o.appendBits(d*100+f*10+m,10),u+=3}else if(u+1<l){const f=ut.getDigit(i.charAt(u+1));o.appendBits(d*10+f,7),u+=2}else o.appendBits(d,4),u++}}static appendAlphanumericBytes(i,o){const l=i.length;let u=0;for(;u<l;){const d=ut.getAlphanumericCode(i.charCodeAt(u));if(d===-1)throw new it;if(u+1<l){const f=ut.getAlphanumericCode(i.charCodeAt(u+1));if(f===-1)throw new it;o.appendBits(d*45+f,11),u+=2}else o.appendBits(d,6),u++}}static append8BitBytes(i,o,l){let u;try{u=de.encode(i,l)}catch(d){throw new it(d)}for(let d=0,f=u.length;d!==f;d++){const m=u[d];o.appendBits(m,8)}}static appendKanjiBytes(i,o){let l;try{l=de.encode(i,z.SJIS)}catch(d){throw new it(d)}const u=l.length;for(let d=0;d<u;d+=2){const f=l[d]&255,m=l[d+1]&255,w=f<<8&4294967295|m;let v=-1;if(w>=33088&&w<=40956?v=w-33088:w>=57408&&w<=60351&&(v=w-49472),v===-1)throw new it("Invalid byte sequence");const S=(v>>8)*192+(v&255);o.appendBits(S,13)}}static appendECI(i,o){o.appendBits(Se.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}ut.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ut.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Ms{write(i,o,l,u=null){if(i.length===0)throw new x("Found empty contents");if(o<0||l<0)throw new x("Requested dimensions are too small: "+o+"x"+l);let d=ot.L,f=Ms.QUIET_ZONE_SIZE;u!==null&&(u.get(Wt.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(u.get(Wt.ERROR_CORRECTION).toString())),u.get(Wt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Wt.MARGIN).toString(),10)));const m=ut.encode(i,d,u);return this.renderResult(m,o,l,f)}writeToDom(i,o,l,u,d=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(o,l,u,d);i&&i.appendChild(f)}renderResult(i,o,l,u){const d=i.getMatrix();if(d===null)throw new In;const f=d.getWidth(),m=d.getHeight(),w=f+u*2,v=m+u*2,S=Math.max(o,w),k=Math.max(l,v),D=Math.min(Math.floor(S/w),Math.floor(k/v)),B=Math.floor((S-f*D)/2),V=Math.floor((k-m*D)/2),W=this.createSVGElement(S,k);for(let $=0,K=V;$<m;$++,K+=D)for(let se=0,oe=B;se<f;se++,oe+=D)if(d.get(se,$)===1){const ne=this.createSvgRectElement(oe,K,D,D);W.appendChild(ne)}return W}createSVGElement(i,o){const l=document.createElementNS(Ms.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,u){const d=document.createElementNS(Ms.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Ms.QUIET_ZONE_SIZE=4,Ms.SVG_NS="http://www.w3.org/2000/svg";class bo{encode(i,o,l,u,d){if(i.length===0)throw new x("Found empty contents");if(o!==pe.QR_CODE)throw new x("Can only encode QR_CODE, but got "+o);if(l<0||u<0)throw new x(`Requested dimensions are too small: ${l}x${u}`);let f=ot.L,m=bo.QUIET_ZONE_SIZE;d!==null&&(d.get(Wt.ERROR_CORRECTION)!==void 0&&(f=ot.fromString(d.get(Wt.ERROR_CORRECTION).toString())),d.get(Wt.MARGIN)!==void 0&&(m=Number.parseInt(d.get(Wt.MARGIN).toString(),10)));const w=ut.encode(i,f,d);return bo.renderResult(w,l,u,m)}static renderResult(i,o,l,u){const d=i.getMatrix();if(d===null)throw new In;const f=d.getWidth(),m=d.getHeight(),w=f+u*2,v=m+u*2,S=Math.max(o,w),k=Math.max(l,v),D=Math.min(Math.floor(S/w),Math.floor(k/v)),B=Math.floor((S-f*D)/2),V=Math.floor((k-m*D)/2),W=new ie(S,k);for(let $=0,K=V;$<m;$++,K+=D)for(let se=0,oe=B;se<f;se++,oe+=D)d.get(se,$)===1&&W.setRegion(oe,K,D,D);return W}}bo.QUIET_ZONE_SIZE=4;class s_{encode(i,o,l,u,d){let f;switch(o){case pe.QR_CODE:f=new bo;break;default:throw new x("No encoder available for format "+o)}return f.encode(i,o,l,u,d)}}class ei extends q{constructor(i,o,l,u,d,f,m,w){if(super(f,m),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=d,u+f>o||d+m>l)throw new x("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,m)}getRow(i,o){if(i<0||i>=this.getHeight())throw new x("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,u,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return C.arraycopy(this.yuvData,d,u,0,l),u;for(let f=0;f<o;f++){const m=f*i;C.arraycopy(this.yuvData,d,u,m,i),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,l,u){return new ei(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,u,!1)}renderThumbnail(){const i=this.getWidth()/ei.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ei.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const m=f*i;for(let w=0;w<i;w++){const v=u[d+w*ei.THUMBNAIL_SCALE_FACTOR]&255;l[m+w]=4278190080|v*65793}d+=this.dataWidth*ei.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ei.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ei.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<o;u++,d+=this.dataWidth){const f=d+i/2;for(let m=d,w=d+i-1;m<f;m++,w--){const v=l[m];l[m]=l[w],l[w]=v}}}invert(){return new J(this)}}ei.THUMBNAIL_SCALE_FACTOR=2;class kf extends q{constructor(i,o,l,u,d,f,m){if(super(o,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=m,i.BYTES_PER_ELEMENT===4){const w=o*l,v=new Uint8ClampedArray(w);for(let S=0;S<w;S++){const k=i[S],D=k>>16&255,B=k>>7&510,V=k&255;v[S]=(D+B+V)/4&255}this.luminances=v}else this.luminances=i;if(u===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new x("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,u,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return C.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<o;f++){const m=f*i;C.arraycopy(this.luminances,d,u,m,i),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,l,u){return new kf(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new J(this)}}class yp extends z{static forName(i){return this.getCharacterSetECIByName(i)}}class Df{}Df.ISO_8859_1=z.ISO8859_1;class xp{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class vp{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class o_{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Eo extends o_{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Eo(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Eo(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+A.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Mf extends Eo{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new Mf(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function a_(P,i,o){return new Mf(P,i,o)}function Ka(P,i,o){return new Eo(P,i,o)}const l_=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Wi=0,Nc=1,lr=2,bp=3,ti=4,c_=new Eo(null,0,0),Lf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function u_(P){for(let i of P)T.fill(i,-1);return P[Wi][ti]=0,P[Nc][ti]=0,P[Nc][Wi]=28,P[bp][ti]=0,P[lr][ti]=0,P[lr][Wi]=15,P}const Ep=u_(T.createInt32Array(6,6));class ni{constructor(i,o,l,u){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,u=this.token;if(i!==this.mode){let f=Lf[this.mode][i];u=Ka(u,f&65535,f>>16),l+=f>>16}let d=i===lr?4:5;return u=Ka(u,o,d),new ni(u,i,0,l+d)}shiftAndAppend(i,o){let l=this.token,u=this.mode===lr?4:5;return l=Ka(l,Ep[this.mode][i],u),l=Ka(l,o,5),new ni(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,u=this.bitCount;if(this.mode===ti||this.mode===lr){let m=Lf[l][Wi];o=Ka(o,m&65535,m>>16),u+=m>>16,l=Wi}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new ni(o,l,this.binaryShiftByteCount+1,u+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=a_(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ni(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(Lf[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=ni.calculateBinaryShiftCost(i)-ni.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())o.unshift(u);let l=new M;for(const u of o)u.appendTo(l,i);return l}toString(){return Q.format("%s bits=%d bytes=%d",l_[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ni.INITIAL_STATE=new ni(c_,Wi,0,0);function d_(P){const i=Q.getCharCode(" "),o=Q.getCharCode("."),l=Q.getCharCode(",");P[Wi][i]=1;const u=Q.getCharCode("Z"),d=Q.getCharCode("A");for(let D=d;D<=u;D++)P[Wi][D]=D-d+2;P[Nc][i]=1;const f=Q.getCharCode("z"),m=Q.getCharCode("a");for(let D=m;D<=f;D++)P[Nc][D]=D-m+2;P[lr][i]=1;const w=Q.getCharCode("9"),v=Q.getCharCode("0");for(let D=v;D<=w;D++)P[lr][D]=D-v+2;P[lr][l]=12,P[lr][o]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<S.length;D++)P[bp][Q.getCharCode(S[D])]=D;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<k.length;D++)Q.getCharCode(k[D])>0&&(P[ti][Q.getCharCode(k[D])]=D);return P}const Bf=d_(T.createInt32Array(5,256));class qa{constructor(i){this.text=i}encode(){const i=Q.getCharCode(" "),o=Q.getCharCode(`
`);let l=vp.singletonList(ni.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,m=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Q.getCharCode("\r"):f=m===o?2:0;break;case Q.getCharCode("."):f=m===i?3:0;break;case Q.getCharCode(","):f=m===i?4:0;break;case Q.getCharCode(":"):f=m===i?5:0;break;default:f=0}f>0?(l=qa.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return vp.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let u of i)this.updateStateForChar(u,o,l);return qa.simplifyStates(l)}updateStateForChar(i,o,l){let u=this.text[o]&255,d=Bf[i.getMode()][u]>0,f=null;for(let m=0;m<=ti;m++){let w=Bf[m][u];if(w>0){if(f==null&&(f=i.endBinaryShift(o)),!d||m===i.getMode()||m===lr){const v=f.latchAndAppend(m,w);l.push(v)}if(!d&&Ep[i.getMode()][m]>=0){const v=f.shiftAndAppend(m,w);l.push(v)}}}if(i.getBinaryShiftByteCount()>0||Bf[i.getMode()][u]===0){let m=i.addBinaryShiftChar(o);l.push(m)}}static updateStateListForPair(i,o,l){const u=[];for(let d of i)this.updateStateForPair(d,o,l,u);return this.simplifyStates(u)}static updateStateForPair(i,o,l,u){let d=i.endBinaryShift(o);if(u.push(d.latchAndAppend(ti,l)),i.getMode()!==ti&&u.push(d.shiftAndAppend(ti,l)),l===3||l===4){let f=d.latchAndAppend(lr,16-l).latchAndAppend(lr,1);u.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);u.push(f)}}static simplifyStates(i){let o=[];for(const l of i){let u=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(f=>f!==d))}u&&o.push(l)}return o}}class Xe{constructor(){}static encodeBytes(i){return Xe.encode(i,Xe.DEFAULT_EC_PERCENT,Xe.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let u=new qa(i).encode(),d=A.truncDivision(u.getSize()*o,100)+11,f=u.getSize()+d,m,w,v,S,k;if(l!==Xe.DEFAULT_AZTEC_LAYERS){if(m=l<0,w=Math.abs(l),w>(m?Xe.MAX_NB_BITS_COMPACT:Xe.MAX_NB_BITS))throw new x(Q.format("Illegal value %s for layers",l));v=Xe.totalBitsInLayer(w,m),S=Xe.WORD_SIZE[w];let ne=v-v%S;if(k=Xe.stuffBits(u,S),k.getSize()+d>ne)throw new x("Data to large for user specified layer");if(m&&k.getSize()>S*64)throw new x("Data to large for user specified layer")}else{S=0,k=null;for(let ne=0;;ne++){if(ne>Xe.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(m=ne<=3,w=m?ne+1:ne,v=Xe.totalBitsInLayer(w,m),f>v)continue;(k==null||S!==Xe.WORD_SIZE[w])&&(S=Xe.WORD_SIZE[w],k=Xe.stuffBits(u,S));let We=v-v%S;if(!(m&&k.getSize()>S*64)&&k.getSize()+d<=We)break}}let D=Xe.generateCheckWords(k,v,S),B=k.getSize()/S,V=Xe.generateModeMessage(m,w,B),W=(m?11:14)+w*4,$=new Int32Array(W),K;if(m){K=W;for(let ne=0;ne<$.length;ne++)$[ne]=ne}else{K=W+1+2*A.truncDivision(A.truncDivision(W,2)-1,15);let ne=A.truncDivision(W,2),We=A.truncDivision(K,2);for(let ke=0;ke<ne;ke++){let Pn=ke+A.truncDivision(ke,15);$[ne-ke-1]=We-Pn-1,$[ne+ke]=We+Pn+1}}let se=new ie(K);for(let ne=0,We=0;ne<w;ne++){let ke=(w-ne)*4+(m?9:12);for(let Pn=0;Pn<ke;Pn++){let Rr=Pn*2;for(let kn=0;kn<2;kn++)D.get(We+Rr+kn)&&se.set($[ne*2+kn],$[ne*2+Pn]),D.get(We+ke*2+Rr+kn)&&se.set($[ne*2+Pn],$[W-1-ne*2-kn]),D.get(We+ke*4+Rr+kn)&&se.set($[W-1-ne*2-kn],$[W-1-ne*2-Pn]),D.get(We+ke*6+Rr+kn)&&se.set($[W-1-ne*2-Pn],$[ne*2+kn])}We+=ke*8}if(Xe.drawModeMessage(se,m,K,V),m)Xe.drawBullsEye(se,A.truncDivision(K,2),5);else{Xe.drawBullsEye(se,A.truncDivision(K,2),7);for(let ne=0,We=0;ne<A.truncDivision(W,2)-1;ne+=15,We+=16)for(let ke=A.truncDivision(K,2)&1;ke<K;ke+=2)se.set(A.truncDivision(K,2)-We,ke),se.set(A.truncDivision(K,2)+We,ke),se.set(ke,A.truncDivision(K,2)-We),se.set(ke,A.truncDivision(K,2)+We)}let oe=new xp;return oe.setCompact(m),oe.setSize(K),oe.setLayers(w),oe.setCodeWords(B),oe.setMatrix(se),oe}static drawBullsEye(i,o,l){for(let u=0;u<l;u+=2)for(let d=o-u;d<=o+u;d++)i.set(d,o-u),i.set(d,o+u),i.set(o-u,d),i.set(o+u,d);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let u=new M;return i?(u.appendBits(o-1,2),u.appendBits(l-1,6),u=Xe.generateCheckWords(u,28,4)):(u.appendBits(o-1,5),u.appendBits(l-1,11),u=Xe.generateCheckWords(u,40,4)),u}static drawModeMessage(i,o,l,u){let d=A.truncDivision(l,2);if(o)for(let f=0;f<7;f++){let m=d-3+f;u.get(f)&&i.set(m,d-5),u.get(f+7)&&i.set(d+5,m),u.get(20-f)&&i.set(m,d+5),u.get(27-f)&&i.set(d-5,m)}else for(let f=0;f<10;f++){let m=d-5+f+A.truncDivision(f,5);u.get(f)&&i.set(m,d-7),u.get(f+10)&&i.set(d+7,m),u.get(29-f)&&i.set(m,d+7),u.get(39-f)&&i.set(d-7,m)}}static generateCheckWords(i,o,l){let u=i.getSize()/l,d=new Pf(Xe.getGF(l)),f=A.truncDivision(o,l),m=Xe.bitsToWords(i,l,f);d.encode(m,f-u);let w=o%l,v=new M;v.appendBits(0,w);for(const S of Array.from(m))v.appendBits(S,l);return v}static bitsToWords(i,o,l){let u=new Int32Array(l),d,f;for(d=0,f=i.getSize()/o;d<f;d++){let m=0;for(let w=0;w<o;w++)m|=i.get(d*o+w)?1<<o-w-1:0;u[d]=m}return u}static getGF(i){switch(i){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new x("Unsupported word size "+i)}}static stuffBits(i,o){let l=new M,u=i.getSize(),d=(1<<o)-2;for(let f=0;f<u;f+=o){let m=0;for(let w=0;w<o;w++)(f+w>=u||i.get(f+w))&&(m|=1<<o-1-w);(m&d)===d?(l.appendBits(m&d,o),f--):m&d?l.appendBits(m,o):(l.appendBits(m|1,o),f--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Xe.DEFAULT_EC_PERCENT=33,Xe.DEFAULT_AZTEC_LAYERS=0,Xe.MAX_NB_BITS=32,Xe.MAX_NB_BITS_COMPACT=4,Xe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Oc{encode(i,o,l,u){return this.encodeWithHints(i,o,l,u,null)}encodeWithHints(i,o,l,u,d){let f=Df.ISO_8859_1,m=Xe.DEFAULT_EC_PERCENT,w=Xe.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Wt.CHARACTER_SET)&&(f=yp.forName(d.get(Wt.CHARACTER_SET).toString())),d.has(Wt.ERROR_CORRECTION)&&(m=A.parseInt(d.get(Wt.ERROR_CORRECTION).toString())),d.has(Wt.AZTEC_LAYERS)&&(w=A.parseInt(d.get(Wt.AZTEC_LAYERS).toString()))),Oc.encodeLayers(i,o,l,u,f,m,w)}static encodeLayers(i,o,l,u,d,f,m){if(o!==pe.AZTEC)throw new x("Can only encode AZTEC, but got "+o);let w=Xe.encode(Q.getBytes(i,d),f,m);return Oc.renderResult(w,l,u)}static renderResult(i,o,l){let u=i.getMatrix();if(u==null)throw new In;let d=u.getWidth(),f=u.getHeight(),m=Math.max(o,d),w=Math.max(l,f),v=Math.min(m/d,w/f),S=(m-d*v)/2,k=(w-f*v)/2,D=new ie(m,w);for(let B=0,V=k;B<f;B++,V+=v)for(let W=0,$=S;W<d;W++,$+=v)u.get(W,B)&&D.setRegion($,V,v,v);return D}}n.AbstractExpandedDecoder=Ef,n.ArgumentException=y,n.ArithmeticException=Sr,n.AztecCode=xp,n.AztecCodeReader=po,n.AztecCodeWriter=Oc,n.AztecDecoder=qe,n.AztecDetector=Ns,n.AztecDetectorResult=qr,n.AztecEncoder=Xe,n.AztecHighLevelEncoder=qa,n.AztecPoint=Jt,n.BarcodeFormat=pe,n.Binarizer=R,n.BinaryBitmap=E,n.BitArray=M,n.BitMatrix=ie,n.BitSource=Af,n.BrowserAztecCodeReader=Ec,n.BrowserBarcodeReader=WS,n.BrowserCodeReader=Ne,n.BrowserDatamatrixCodeReader=HS,n.BrowserMultiFormatReader=t_,n.BrowserPDF417Reader=n_,n.BrowserQRCodeReader=r_,n.BrowserQRCodeSvgWriter=Ms,n.CharacterSetECI=z,n.ChecksumException=b,n.Code128Reader=ae,n.Code39Reader=It,n.DataMatrixDecodedBitStreamParser=Fi,n.DataMatrixReader=ji,n.DecodeHintType=U,n.DecoderResult=Tn,n.DefaultGridSampler=wi,n.DetectorResult=Rs,n.EAN13Reader=Tr,n.EncodeHintType=Wt,n.Exception=p,n.FormatException=F,n.GenericGF=Le,n.GenericGFPoly=Et,n.GlobalHistogramBinarizer=he,n.GridSampler=Va,n.GridSamplerInstance=Qr,n.HTMLCanvasElementLuminanceSource=fe,n.HybridBinarizer=ce,n.ITFReader=$e,n.IllegalArgumentException=x,n.IllegalStateException=In,n.InvertedLuminanceSource=J,n.LuminanceSource=q,n.MathUtils=Be,n.MultiFormatOneDReader=xo,n.MultiFormatReader=wp,n.MultiFormatWriter=s_,n.NotFoundException=G,n.OneDReader=yt,n.PDF417DecodedBitStreamParser=Y,n.PDF417DecoderErrorCorrection=dp,n.PDF417Reader=tn,n.PDF417ResultMetadata=hp,n.PerspectiveTransform=wt,n.PlanarYUVLuminanceSource=ei,n.QRCodeByteMatrix=Rc,n.QRCodeDataMask=or,n.QRCodeDecodedBitStreamParser=Ct,n.QRCodeDecoderErrorCorrectionLevel=ot,n.QRCodeDecoderFormatInformation=un,n.QRCodeEncoder=ut,n.QRCodeEncoderQRCode=Ds,n.QRCodeMaskUtil=Nt,n.QRCodeMatrixUtil=Ae,n.QRCodeMode=Se,n.QRCodeReader=Ui,n.QRCodeVersion=Ee,n.QRCodeWriter=bo,n.RGBLuminanceSource=kf,n.RSS14Reader=Rt,n.RSSExpandedReader=te,n.ReaderException=Ic,n.ReedSolomonDecoder=Kr,n.ReedSolomonEncoder=Pf,n.ReedSolomonException=_r,n.Result=_e,n.ResultMetadataType=ct,n.ResultPoint=me,n.StringUtils=Q,n.UnsupportedOperationException=ee,n.VideoInputDevice=Re,n.WhiteRectangleDetector=Ar,n.WriterException=it,n.ZXingArrays=T,n.ZXingCharset=yp,n.ZXingInteger=A,n.ZXingStandardCharsets=Df,n.ZXingStringBuilder=ue,n.ZXingStringEncoding=de,n.ZXingSystem=C,n.createAbstractExpandedDecoder=cp,Object.defineProperty(n,"__esModule",{value:!0})})})(y1,y1.exports);var ht=y1.exports;const KD=v1(ht),qD=x1({__proto__:null,default:KD},[ht]);var py=function(){function e(t,n,r){if(this.formatMap=new Map([[ye.QR_CODE,ht.BarcodeFormat.QR_CODE],[ye.AZTEC,ht.BarcodeFormat.AZTEC],[ye.CODABAR,ht.BarcodeFormat.CODABAR],[ye.CODE_39,ht.BarcodeFormat.CODE_39],[ye.CODE_93,ht.BarcodeFormat.CODE_93],[ye.CODE_128,ht.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,ht.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,ht.BarcodeFormat.MAXICODE],[ye.ITF,ht.BarcodeFormat.ITF],[ye.EAN_13,ht.BarcodeFormat.EAN_13],[ye.EAN_8,ht.BarcodeFormat.EAN_8],[ye.PDF_417,ht.BarcodeFormat.PDF_417],[ye.RSS_14,ht.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,ht.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,ht.BarcodeFormat.UPC_A],[ye.UPC_E,ht.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,ht.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!qD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),a=new Map;a.set(ht.DecodeHintType.POSSIBLE_FORMATS,s),a.set(ht.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new ht.MultiFormatReader(this.verbose,this.hints),r=new ht.HTMLCanvasElementLuminanceSource(t),s=new ht.BinaryBitmap(new ht.HybridBinarizer(r)),a=n.decode(s);return{text:a.text,format:LS.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),QD=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{p(r.next(y))}catch(x){c(x)}}function g(y){try{p(r.throw(y))}catch(x){c(x)}}function p(y){y.done?a(y.value):s(y.value).then(h,g)}p((r=r.apply(e,t||[])).next())})},ZD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},my=function(){function e(t,n,r){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return QD(this,void 0,void 0,function(){var n,r;return ZD(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:LS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,a=t;s<a.length;s++){var c=a[s],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),wy=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{p(r.next(y))}catch(x){c(x)}}function g(y){try{p(r.throw(y))}catch(x){c(x)}}function p(y){y.done?a(y.value):s(y.value).then(h,g)}p((r=r.apply(e,t||[])).next())})},yy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},JD=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&my.isSupported()?(this.primaryDecoder=new my(t,r,s),this.secondaryDecoder=new py(t,r,s)):this.primaryDecoder=new py(t,r,s)}return e.prototype.decodeAsync=function(t){return wy(this,void 0,void 0,function(){var n;return yy(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return wy(this,void 0,void 0,function(){var n,r;return yy(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),lp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cd=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{p(r.next(y))}catch(x){c(x)}}function g(y){try{p(r.throw(y))}catch(x){c(x)}}function p(y){y.done?a(y.value):s(y.value).then(h,g)}p((r=r.apply(e,t||[])).next())})},Sd=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},FS=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),e7=function(e){lp(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(FS),t7=function(e){lp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(e7),n7=function(e){lp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(FS),r7=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new t7(this.track)},e.prototype.torchFeature=function(){return new n7(this.track)},e}(),i7=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return Cd(this,void 0,void 0,function(){var a,c;return Sd(this,function(h){switch(h.label){case 0:return a=new e(t,n,s),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Cd(this,void 0,void 0,function(){return Sd(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),a=s.length,c=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new r7(this.getFirstTrackOrFail())},e}(),s7=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Cd(this,void 0,void 0,function(){return Sd(this,function(s){return[2,i7.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Cd(this,void 0,void 0,function(){var n,r;return Sd(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),xy=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{p(r.next(y))}catch(x){c(x)}}function g(y){try{p(r.throw(y))}catch(x){c(x)}}function p(y){y.done?a(y.value):s(y.value).then(h,g)}p((r=r.apply(e,t||[])).next())})},vy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},o7=function(){function e(){}return e.failIfNotSupported=function(){return xy(this,void 0,void 0,function(){return vy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return xy(this,void 0,void 0,function(){return vy(this,function(n){return[2,s7.create(t)]})})},e}(),a7=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{p(r.next(y))}catch(x){c(x)}}function g(y){try{p(r.throw(y))}catch(x){c(x)}}function p(y){y.done?a(y.value):s(y.value).then(h,g)}p((r=r.apply(e,t||[])).next())})},l7=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},c7=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Ko.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Ko.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return a7(this,void 0,void 0,function(){var t,n,r,s,a,c,h;return l7(this,function(g){switch(g.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),x=0,E=y;x<E.length;x++){var b=E[x];b.enabled=!1,b.stop(),p.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),s=[],a=0,c=r;a<c.length;a++)h=c[a],h.kind==="videoinput"&&s.push({id:h.deviceId,label:h.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var c=[],h=0,g=a;h<g.length;h++){var p=g[h];p.kind==="video"&&c.push({id:p.id,label:p.label})}t(c)},s=MediaStreamTrack;s.getSources(r)})},e}(),Pt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Pt||(Pt={}));var u7=function(){function e(){this.state=Pt.NOT_STARTED,this.onGoingTransactionNewState=Pt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Pt.UNKNOWN:throw"Transition from unknown is not allowed";case Pt.NOT_STARTED:this.failIfNewStateIs(t,[Pt.PAUSED]);break;case Pt.SCANNING:break;case Pt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var a=s[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),d7=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Pt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Pt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Pt.PAUSED},e}(),f7=function(){function e(){}return e.create=function(){return new d7(new u7)},e}(),h7=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(e){h7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(GD),g7=function(){function e(t,n){this.logger=n,this.fps=$n.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=$n.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?BS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),p7=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new YD(this.verbose),this.qrcode=new JD(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=f7.create()}return e.prototype.start=function(t,n,r,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var h=g7.create(n,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:$n.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var x=this,E=this.stateManagerProxy.startTransition(Pt.SCANNING);return new Promise(function(b,R){var C=p?h.videoConstraints:x.createVideoConstraints(t);if(!C){E.cancel(),R("videoConstraints should be defined");return}var N={};(!p||h.aspectRatio)&&(N.aspectRatio=h.aspectRatio);var I={onRenderSurfaceReady:function(T,A){x.setupUi(T,A,h),x.isScanning=!0,x.foreverScan(h,r,c)}};o7.failIfNotSupported().then(function(T){T.create(C).then(function(A){return A.render(a.element,N,I).then(function(M){x.renderedCamera=M,E.execute(),b(null)}).catch(function(M){E.cancel(),R(M)})}).catch(function(A){E.cancel(),R(Ko.errorGettingUserMedia(A))})}).catch(function(T){E.cancel(),R(Ko.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pt.PAUSED),this.showPausedState(),(bi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Pt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById($n.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var h=c.width,g=c.height,p=document.getElementById(r.elementId),y=p.clientWidth?p.clientWidth:$n.DEFAULT_WIDTH,x=Math.max(p.clientHeight?p.clientHeight:g,$n.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(h,g,y,x);if(n){var b=r.createCanvasElement(y,x,"qr-canvas-visible");b.style.display="inline-block",p.appendChild(b);var R=b.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=y,R.canvas.height=x,R.drawImage(c,0,0,h,g,E.x,E.y,E.width,E.height)}var C=$n.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(c.width,E.width),I=Math.max(c.height,E.height),T=N+2*C,A=I+2*C,M=r.createCanvasElement(T,A);p.appendChild(M);var j=M.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=T,j.canvas.height=A,j.drawImage(c,0,0,h,g,C,C,N,I);try{r.qrcode.decodeRobustlyAsync(M).then(function(U){s(gy.createFromQrcodeResult(U))}).catch(a)}catch(U){a("QR code parse error, error = ".concat(U))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return c7.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!BS.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=t.formatsToSupport;s<a.length;s++){var c=a[s];$D(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bi(t))return!0;if(!bi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return bi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),h=function(p){if(p<$n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($n.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};h(c.width),h(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=bi(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,a):h,p=this.createCanvasElement(g.width,g.height),y={willReadFrequently:!0},x=p.getContext("2d",y);x.canvas.width=g.width,x.canvas.height=g.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=x,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Ko.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,gy.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=Ko.codeParseError(s);return n(a,XD.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,p=this.qrRegion.height*h,y=this.qrRegion.x*c,x=this.qrRegion.y*h;this.context.drawImage(a,y,x,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(b){!b&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(b){s.logger.logError("Error happend while scanning context",b),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",c=function(R){if(R in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var p=t.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(c(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var x=t.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(a in x)return{deviceId:{exact:x["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof x;throw"Invalid type of 'deviceId' = ".concat(E)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var a=(r-t)/2,c=(s-n)/2;return{x:a,y:c,width:t,height:n}}else{var h=t,g=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?$n.BORDER_SHADER_MATCH_COLOR:$n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=bi(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-s.width)/2,h=(r-s.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat($n.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,s,a,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=$n.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),s!==null&&(g.style.top="".concat(s,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),by;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(by||(by={}));const m7=({onScan:e,onClose:t})=>{const n=O.useRef(null),[r,s]=O.useState(null);O.useEffect(()=>((async()=>{try{const h=new p7("qr-reader");n.current=h,await h.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},g=>{e(g),a()},g=>{})}catch(h){console.error("Error starting scanner:",h),s("Failed to start camera. Please check permissions.")}})(),()=>{a()}),[]);const a=async()=>{if(n.current)try{await n.current.stop(),n.current.clear()}catch(c){console.error("Error stopping scanner:",c)}};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"font-semibold",children:"Scan QR Code"}),_.jsx(Sn,{variant:"ghost",size:"icon",onClick:t,children:_.jsx(vg,{className:"w-4 h-4"})})]}),r?_.jsx("div",{className:"text-center py-8 text-destructive",children:r}):_.jsx("div",{className:"relative rounded-lg overflow-hidden bg-black",children:_.jsx("div",{id:"qr-reader"})}),_.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Position the QR code within the frame to scan"})]})},w7=({attendance:e})=>_.jsxs(pr,{className:"shadow-card",children:[_.jsxs(mr,{children:[_.jsx(wr,{children:"Attendance History"}),_.jsx(yc,{children:"Your recent lecture attendance records"})]}),_.jsx(yr,{children:e.length===0?_.jsxs("div",{className:"text-center py-12",children:[_.jsx(sd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No attendance records yet"}),_.jsx("p",{className:"text-muted-foreground",children:"Scan QR codes during lectures to build your attendance history"})]}):_.jsx(op,{className:"h-[400px] pr-4",children:_.jsx("div",{className:"space-y-3",children:e.map(t=>_.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border hover:bg-accent transition-colors",children:[_.jsx("div",{className:"p-2 rounded-full bg-secondary/10",children:_.jsx(sd,{className:"w-5 h-5 text-secondary"})}),_.jsxs("div",{className:"flex-1 space-y-1",children:[_.jsxs("div",{className:"flex items-start justify-between gap-2",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold",children:t.lectures.title}),_.jsx(Du,{variant:"outline",className:"mt-1 text-xs",children:t.lectures.course_code})]}),_.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:Ii(new Date(t.marked_at),"MMM d, HH:mm")})]}),_.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx($d,{className:"w-3 h-3"}),_.jsx("span",{children:Ii(new Date(t.lectures.scheduled_time),"PPp")})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(v2,{className:"w-3 h-3"}),_.jsx("span",{children:t.lectures.venue})]})]})]})]},t.id))})})})]}),y7=({profile:e})=>{const t=mc(),[n,r]=O.useState(!1),[s,a]=O.useState({total:0,thisWeek:0,percentage:0}),[c,h]=O.useState([]);O.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:x,error:E}=await mn.from("attendance").select(`
          *,
          lectures(
            title,
            course_code,
            course_name,
            scheduled_time,
            venue
          )
        `).eq("student_id",e.id).order("marked_at",{ascending:!1});if(E)throw E;h(x||[]);const b=(x==null?void 0:x.length)||0,R=new Date;R.setDate(R.getDate()-7);const C=(x==null?void 0:x.filter(A=>new Date(A.marked_at)>=R).length)||0,{data:N}=await mn.from("lectures").select("id"),I=(N==null?void 0:N.length)||1,T=Math.round(b/I*100);a({total:b,thisWeek:C,percentage:T})}catch(x){console.error("Error fetching attendance:",x),fr.error("Failed to load attendance")}},p=async x=>{try{const{data:E,error:b}=await mn.from("lectures").select("*").eq("qr_code_data",x).eq("is_active",!0).single();if(b||!E){fr.error("Invalid or inactive lecture QR code");return}const{data:R}=await mn.from("attendance").select("*").eq("lecture_id",E.id).eq("student_id",e.id).maybeSingle();if(R){fr.info("You've already marked attendance for this lecture"),r(!1);return}const{error:C}=await mn.from("attendance").insert({lecture_id:E.id,student_id:e.id});if(C)throw C;fr.success(`Attendance marked for ${E.course_code}`),r(!1),g()}catch(E){console.error("Error marking attendance:",E),fr.error("Failed to mark attendance")}},y=async()=>{await mn.auth.signOut(),t("/auth")};return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[_.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10 shadow-sm",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Student Dashboard"}),_.jsxs("p",{className:"text-sm text-muted-foreground",children:["Welcome, ",e.full_name]}),e.student_id&&_.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.student_id]})]}),_.jsxs(Sn,{variant:"outline",onClick:y,className:"gap-2",children:[_.jsx(x2,{className:"w-4 h-4"}),"Sign Out"]})]})}),_.jsxs("main",{className:"max-w-7xl mx-auto p-4 space-y-6",children:[_.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-shadow",children:[_.jsxs(mr,{className:"flex flex-row items-center justify-between pb-2",children:[_.jsx(wr,{className:"text-sm font-medium",children:"Total Attendance"}),_.jsx(sd,{className:"w-4 h-4 text-muted-foreground"})]}),_.jsxs(yr,{children:[_.jsx("div",{className:"text-3xl font-bold text-primary",children:s.total}),_.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"lectures attended"})]})]}),_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-shadow",children:[_.jsxs(mr,{className:"flex flex-row items-center justify-between pb-2",children:[_.jsx(wr,{className:"text-sm font-medium",children:"This Week"}),_.jsx($d,{className:"w-4 h-4 text-muted-foreground"})]}),_.jsxs(yr,{children:[_.jsx("div",{className:"text-3xl font-bold text-secondary",children:s.thisWeek}),_.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"lectures this week"})]})]}),_.jsxs(pr,{className:"shadow-card hover:shadow-elevated transition-shadow",children:[_.jsxs(mr,{className:"flex flex-row items-center justify-between pb-2",children:[_.jsx(wr,{className:"text-sm font-medium",children:"Attendance Rate"}),_.jsx(na,{className:"w-4 h-4 text-muted-foreground"})]}),_.jsxs(yr,{children:[_.jsxs("div",{className:"text-3xl font-bold text-accent-foreground",children:[s.percentage,"%"]}),_.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"overall rate"})]})]})]}),_.jsxs(pr,{className:"shadow-card",children:[_.jsxs(mr,{children:[_.jsx(wr,{children:"Mark Attendance"}),_.jsx(yc,{children:"Scan the QR code displayed by your lecturer to mark your attendance"})]}),_.jsx(yr,{children:n?_.jsx(m7,{onScan:p,onClose:()=>r(!1)}):_.jsxs("div",{className:"text-center py-8",children:[_.jsx(na,{className:"w-16 h-16 text-primary mx-auto mb-4"}),_.jsxs(Sn,{onClick:()=>r(!0),size:"lg",className:"gap-2",children:[_.jsx(na,{className:"w-5 h-5"}),"Scan QR Code"]})]})})]}),_.jsx(w7,{attendance:c})]})]})};function mu({className:e,...t}){return _.jsx("div",{className:Ke("animate-pulse rounded-md bg-muted",e),...t})}const x7=()=>{const e=mc(),[t,n]=O.useState(null),[r,s]=O.useState(null),[a,c]=O.useState(null),[h,g]=O.useState(!0);return O.useEffect(()=>{const{data:{subscription:p}}=mn.auth.onAuthStateChange((y,x)=>{s(x),n((x==null?void 0:x.user)??null),x||e("/auth")});return mn.auth.getSession().then(({data:{session:y}})=>{s(y),n((y==null?void 0:y.user)??null),y||e("/auth")}),()=>p.unsubscribe()},[e]),O.useEffect(()=>{(async()=>{if(t)try{const{data:y,error:x}=await mn.from("profiles").select("*").eq("id",t.id).single();if(x)throw x;c(y)}catch(y){console.error("Error fetching profile:",y)}finally{g(!1)}})()},[t]),h||!a?_.jsx("div",{className:"min-h-screen bg-background p-4",children:_.jsxs("div",{className:"max-w-7xl mx-auto space-y-4",children:[_.jsx(mu,{className:"h-32 w-full"}),_.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[_.jsx(mu,{className:"h-40 w-full"}),_.jsx(mu,{className:"h-40 w-full"}),_.jsx(mu,{className:"h-40 w-full"})]})]})}):a.role==="lecturer"?_.jsx(HD,{profile:a}):_.jsx(y7,{profile:a})},v7=()=>{const e=Dg();return O.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),_.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),_.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),_.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},b7=new pR,E7=()=>_.jsx(wR,{client:b7,children:_.jsxs($I,{children:[_.jsx(T4,{}),_.jsx(s8,{}),_.jsx(uN,{children:_.jsxs(aN,{children:[_.jsx(gl,{path:"/",element:_.jsx(P6,{})}),_.jsx(gl,{path:"/auth",element:_.jsx(cP,{})}),_.jsx(gl,{path:"/dashboard",element:_.jsx(x7,{})}),_.jsx(gl,{path:"*",element:_.jsx(v7,{})})]})})]})});zv(document.getElementById("root")).render(_.jsx(E7,{}));
